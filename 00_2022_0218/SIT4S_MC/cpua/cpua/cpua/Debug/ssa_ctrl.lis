*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE     1
PROGRAM NAME =

    1                               1     ;       ***************************************************
    2                               2     ;       ***                                             ***
    3                               3     ;       ***                                             ***
    4                               4     ;       ***     ｃ／ｂ制御                              ***
    5                               5     ;       ***                                             ***
    6                               6     ;       ***                                             ***
    7                               7     ;       ***************************************************
 5804                              19     
 5805                              20     ;2015-11-15 二重回路対策の有効性の確認用
 5806                              21     ;1      .DEFINE         "1"
 5807                              22     ;0      .DEFINE         "0"
 5808                              23     
 5809                              24     _INCCMPERR_FORCE_USE    .DEFINE         "1"
 5810                              25     ;;1     .DEFINE         "0"
 5811                              26     
 5812                              27     
 5813                              28     
 5814 00000000                     29             .SECTION        P,CODE                  ;
 5815                              30     
 5816                              31     ;       //      ***********************************
 5817                              32     ;       //      ***     EXTERN 宣言 PROGRAM     ***
 5818                              33     ;       //      ***********************************
 5819                              34             .INCLUDE        "ssa_krom.ext"          ; //
 5820                               1 I1  ;       ***************************
 5821                               2 I1  ;       ***     汎用ルーチン    ***
 5822                               3 I1  ;       ***************************
 5823                               4 I1          .GLOBAL         _EMG_OUT                ;ssa_khad.src
 5824                               5 I1          .GLOBAL         _EXQ_OUT                ;ssa_khad.src
 5825                               6 I1          .GLOBAL         _RESET_OUT              ;ssa_khad.src
 5826                               7 I1          .GLOBAL         _RESET_END_OUT          ;ssa_khad.src
 5827                               8 I1          .GLOBAL         _VON1_ON                ;ssa_khad.src
 5828                               9 I1          .GLOBAL         _VON1_OF                ;ssa_khad.src
 5829                              10 I1          .GLOBAL         _VON2_ON                ;ssa_khad.src
 5830                              11 I1          .GLOBAL         _VON2_OF                ;ssa_khad.src
 5831                              12 I1          .GLOBAL         _VON3_ON                ;ssa_khad.src
 5832                              13 I1          .GLOBAL         _VON3_OF                ;ssa_khad.src
 5833                              14 I1          .GLOBAL         _RDY_ON                 ;ssa_khad.src
 5834                              15 I1          .GLOBAL         _RDY_OF                 ;ssa_khad.src
 5835                              16 I1          .GLOBAL         _ANTI_ON                ;ssa_khad.src
 5836                              17 I1          .GLOBAL         _ANTI_OF                ;ssa_khad.src
 5837                              18 I1          .GLOBAL         _AUTO_ON                ;ssa_khad.src
 5838                              19 I1          .GLOBAL         _AUTO_OF                ;ssa_khad.src
 5839                              20 I1          .GLOBAL         _FRCYCL_OF              ;ssa_khad.src
 5840                              21 I1          .GLOBAL         _FRCYCL_ON              ;ssa_khad.src
 5841                              22 I1  
 5842                              23 I1  ;       *******************************************
 5843                              24 I1  ;       ***                                     ***
 5844                              25 I1  ;       ***     各状態ハンドシェイクと処理      ***
 5845                              26 I1  ;       ***                                     ***
 5846                              27 I1  ;       *******************************************
 5847                              28 I1  ;_SH4_HD_CTRL_REDY      .SRES   2       ;準備完了にしたい
 5848                              29 I1  ;_SH2_HD_CTRL_REDY      .SRES   2       ;準備完了にしたい
 5849                              30 I1  ;_SH4_HD_CTRL_BUSY      .SRES   2       ;準備未完了にしたい
 5850                              31 I1  ;_SH2_HD_CTRL_BUSY      .SRES   2       ;準備未完了にしたい
 5851                              32 I1  ;_SH4_HD_POS_START      .SRES   2       ;起動したい
 5852                              33 I1  ;_SH2_HD_POS_START      .SRES   2       ;起動したい
 5853                              34 I1  ;_SH4_HD_SFTY_AUTO      .SRES   2       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE     2
PROGRAM NAME =

 5854                              35 I1  ;_SH2_HD_SFTY_AUTO      .SRES   2       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 5855                              36 I1  ;_SH4_HD_NEAR_ZERO      .SRES   2       ;ﾆｱｾﾞﾛ処理を行いたい
 5856                              37 I1  ;_SH2_HD_NEAR_ZERO      .SRES   2       ;ﾆｱｾﾞﾛ処理を行いたい
 5857                              38 I1  ;_SH4_HD_CNT_STOP       .SRES   2       ;連続停止
 5858                              39 I1  ;_SH2_HD_CNT_STOP       .SRES   2       ;連続停止
 5859                              40 I1  ;_SH4_HD_STEP_END       .SRES   2       ;位置決め完了としたい
 5860                              41 I1  ;_SH2_HD_STEP_END       .SRES   2       ;位置決め完了としたい
 5861                              42 I1  
 5862                              43 I1  
 5863                              44 I1  ;       ***********************************
 5864                              45 I1  ;       ***                             ***
 5865                              46 I1  ;       ***     READY 準備完了          ***
 5866                              47 I1  ;       ***                             ***
 5867                              48 I1  ;       ***********************************
 5868                              49 I1          .GLOBAL _CPU_AB_RDY_OF_OUT
 5869                              50 I1          .GLOBAL _CPU_BA_RDY_OF_OUT
 5870                              51 I1          .GLOBAL _CPU_AB_RDY_ON_OUT
 5871                              52 I1          .GLOBAL _CPU_BA_RDY_ON_JG
 5872                              53 I1          .GLOBAL _CPU_AB_RDY_OF_JG
 5873                              54 I1  
 5874                              55 I1  ;       ***********************************
 5875                              56 I1  ;       ***                             ***
 5876                              57 I1  ;       ***     BUSY 準備未完了         ***
 5877                              58 I1  ;       ***                             ***
 5878                              59 I1  ;       ***********************************
 5879                              60 I1          .GLOBAL _CPU_AB_BSY_OF_OUT
 5880                              61 I1          .GLOBAL _CPU_BA_BSY_OF_OUT
 5881                              62 I1          .GLOBAL _CPU_AB_BSY_ON_OUT
 5882                              63 I1          .GLOBAL _CPU_BA_BSY_ON_JG
 5883                              64 I1          .GLOBAL _CPU_AB_BSY_OF_JG
 5884                              65 I1  
 5885                              66 I1  ;       ***********************************
 5886                              67 I1  ;       ***                             ***
 5887                              68 I1  ;       ***     STR 運転開始            ***
 5888                              69 I1  ;       ***                             ***
 5889                              70 I1  ;       ***********************************
 5890                              71 I1          .GLOBAL _CPU_AB_STR_OF_OUT
 5891                              72 I1          .GLOBAL _CPU_BA_STR_OF_OUT
 5892                              73 I1          .GLOBAL _CPU_AB_STR_ON_OUT
 5893                              74 I1          .GLOBAL _CPU_BA_STR_ON_JG
 5894                              75 I1          .GLOBAL _CPU_AB_STR_OF_JG
 5895                              76 I1  
 5896                              77 I1  ;       ***********************************
 5897                              78 I1  ;       ***                             ***
 5898                              79 I1  ;       ***     AUTO    開始            ***
 5899                              80 I1  ;       ***                             ***
 5900                              81 I1  ;       ***********************************
 5901                              82 I1          .GLOBAL _CPU_AB_DRVSTOP_OF_OUT
 5902                              83 I1          .GLOBAL _CPU_AB_DRVSTOP_ON_OUT  ;
 5903                              84 I1          .GLOBAL _CPU_BA_DRVSTOP_ON_JG   ;
 5904                              85 I1          .GLOBAL _CPU_BA_DRVSTOP_OF_OUT  ;
 5905                              86 I1  
 5906                              87 I1  ;;2007-03-02    .GLOBAL _CPU_AB_ATO_OF_OUT
 5907                              88 I1  ;;2007-03-02    .GLOBAL _CPU_BA_ATO_OF_OUT
 5908                              89 I1  ;;2007-03-02    .GLOBAL _CPU_AB_ATO_ON_OUT
 5909                              90 I1  ;;2007-03-02    .GLOBAL _CPU_BA_ATO_ON_JG
 5910                              91 I1  ;;2007-03-02    .GLOBAL _CPU_AB_ATO_OF_JG
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE     3
PROGRAM NAME =

 5911                              92 I1  
 5912                              93 I1  ;       ***********************************
 5913                              94 I1  ;       ***                             ***
 5914                              95 I1  ;       ***     ニアゼロ開始            ***
 5915                              96 I1  ;       ***                             ***
 5916                              97 I1  ;       ***********************************
 5917                              98 I1          .GLOBAL _CPU_AB_NZR_OF_OUT
 5918                              99 I1          .GLOBAL _CPU_BA_NZR_OF_OUT
 5919                             100 I1          .GLOBAL _CPU_AB_NZR_ON_OUT
 5920                             101 I1          .GLOBAL _CPU_BA_NZR_ON_JG
 5921                             102 I1          .GLOBAL _CPU_AB_NZR_OF_JG
 5922                             103 I1  
 5923                             104 I1  
 5924                             105 I1  ;       ***********************************
 5925                             106 I1  ;       ***                             ***
 5926                             107 I1  ;       ***     連続停止                ***
 5927                             108 I1  ;       ***                             ***
 5928                             109 I1  ;       ***********************************
 5929                             110 I1          .GLOBAL _CPU_AB_CST_OF_OUT1     ;
 5930                             111 I1          .GLOBAL _CPU_AB_CST_OF_OUT2     ;
 5931                             112 I1          .GLOBAL _CPU_BA_CST_OF_OUT
 5932                             113 I1          .GLOBAL _CPU_AB_CST_ON_OUT1
 5933                             114 I1          .GLOBAL _CPU_AB_CST_ON_OUT2
 5934                             115 I1          .GLOBAL _CPU_BA_CST_ON_JG
 5935                             116 I1          .GLOBAL _CPU_AB_CST_OF_JG
 5936                             117 I1  
 5937                             118 I1  ;       ***********************************
 5938                             119 I1  ;       ***                             ***
 5939                             120 I1  ;       ***     ステップ停止            ***
 5940                             121 I1  ;       ***                             ***
 5941                             122 I1  ;       ***********************************
 5942                             123 I1          .GLOBAL _CPU_AB_CED_OF_OUT
 5943                             124 I1          .GLOBAL _CPU_BA_CED_OF_OUT
 5944                             125 I1          .GLOBAL _CPU_AB_CED_ON_OUT
 5945                             126 I1          .GLOBAL _CPU_BA_CED_ON_JG
 5946                             127 I1          .GLOBAL _CPU_AB_CED_OF_JG
 5947                             128 I1  
 5948                             129 I1  ;       ***********************************
 5949                             130 I1  ;       ***                             ***
 5950                             131 I1  ;       ***     相手CPUの工程をROへ     ***
 5951                             132 I1  ;       ***                             ***
 5952                             133 I1  ;       ***********************************
 5953                             134 I1          .GLOBAL _CPU_BA_STEP_LOAD
 5954                             135 I1  
 5955                             136 I1  ;       ***********************************
 5956                             137 I1  ;       ***                             ***
 5957                             138 I1  ;       ***     ｽﾗｲﾄﾞ自動待機(hold)     ***
 5958                             139 I1  ;       ***                             ***
 5959                             140 I1  ;       ***********************************
 5960                             141 I1          .GLOBAL _CPU_AB_DRVHLDSTOP_ON_OUT       ;
 5961                             142 I1          .GLOBAL _CPU_AB_DRVHLDSTOP_OF_OUT       ;
 5962                             143 I1          .GLOBAL _CPU_BA_DRVHLDSTOP_ON_JG        ;
 5963                             144 I1          .GLOBAL _CPU_BA_DRVHLDSTOP_OF_JG        ;
 5964                             145 I1  
 5965                             146 I1  ;       *******************************************
 5966                             147 I1  ;       ***             ssa_com1.src            ***
 5967                             148 I1  ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE     4
PROGRAM NAME =

 5968                             149 I1          .GLOBAL         _DIVS_32REG2_32REG1_R4_32REG2_R2        ;(R2/R4-->R2)
 5969                             150 I1          .GLOBAL         _DIVS_64R1R2_32R4_32R2                  ;(R1,R2/R4-->R2)
 5970                             151 I1          .GLOBAL         _DIVU_64R1R2_32R4_32R2                  ;
 5971                             152 I1          .GLOBAL         _HIGH_DIVS_32REG2_16REG1_R4_16REG2_R2   ;(R2/R4-->R2)
 5972                             153 I1          .GLOBAL         _HIGH_S32R2_MUL_S32R1_DIV_S32R4_S32R2   ;(R2*R1/R4-->R2)
 5973                             154 I1          .GLOBAL         _FPU_R2_MUL_R1_DIV_R4                   ;
 5974                             155 I1          .GLOBAL         _FPU_R2_MUL_R1_R3_DIV_R4                ;
 5975                             156 I1          .GLOBAL         _FPU_DIVS_32REG2_32REG1_R4_32REG2_R2    ;
 5976                             157 I1          .GLOBAL         _FPU_DIVS_32REG2_DIV_32REG4_R2_MOD_R1   ;
 5977                             158 I1  
 5978                             159 I1          .GLOBAL         _MULDIV_R2S32mR1S32dR4S32aR1R2S64;
 5979                             160 I1          .GLOBAL         _MULDIV_R1R2S64mR3S32dR4S32aR1R2S64
 5980                             161 I1          .GLOBAL         _MUL_R1R2S64mR3S32aR1R2S64              ;
 5981                             162 I1  
 5982                             163 I1          .GLOBAL         _DIVS_64R1R2_32R4_64R1R2        ;
 5983                             164 I1          .GLOBAL         _DIVU_64R1R2_32R4_64R1R2        ;
 5984                             165 I1  
 5985                             166 I1          .GLOBAL         _DIG_AREA_CHK0
 5986                             167 I1          .GLOBAL         _DIG_AREA_CHK1
 5987                             168 I1  
 5988                             169 I1          .GLOBAL         _FPU_POS_HOKAN1
 5989                             170 I1          .GLOBAL         _FPU_TIM_HOKAN1
 5990                             171 I1          .GLOBAL         _X_R2_MUL_R1_DIV_R4
 5991                              35             .IMPORT         _SELF_START_CONF        ;ssa_self.src
 5992                              36     
 5993                              37             .IMPORT         _MN_POS_CTRL_START              ;ssa_pos1.src
 5994                              38             .IMPORT         _MN_POS_CTRL_ACT                ;ssa_pos1.src
 5995                              39             .IMPORT         _NOW_POS_PRESET_OUTPLS          ;現在位置を目標位置に変える
 5996                              40     
 5997                              41             .IMPORT         _UP_AREA_DATCHK                 ;ssa_dtmk.src
 5998                              42             .IMPORT         _DAT_MOSTPOS_SIG_CLR
 5999                              43             .IMPORT         _ORG_END_SIG_CLR
 6000                              44     
 6001                              45             .IMPORT         _CYCLE_TIME_REFLASH_CLR
 6002                              46     
 6003                              47             .IMPORT         _RESET_ERR_SEQ_CLR
 6004                              48             .IMPORT         _RESET_ERR_SEQ_CLR1     ;2010-12-10
 6005                              49             .IMPORT         _RESET_ERR_SEQ_CLR2     ;2010-12-10
 6006                              50             .IMPORT         _FUL_DATA_INIT
 6007                              51     
 6008                              52     ;       ===== 2003-06-06 ===
 6009                              53             .IMPORT         _DAI_MOSTPOS_SMPLE
 6010                              54             .IMPORT         _BRK_ERR_WORK_CLR1      ;ERR1.SRC
 6011                              55     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START1             ;
 6012                              56     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START2             ;
 6013                              57     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START3             ;
 6014                              58             .IMPORT         _STOP_ERR_CHK
 6015                              59             .IMPORT         _LSA_ERRCLR_INI         ;2006-07-16 SSA_ERR1.SRC
 6016                              60     
 6017                              61             .IMPORT         _FWD_REV_STSIG_OFF              ;
 6018                              62             .IMPORT         _POS_LSI_SLOW_STOP              ;
 6019                              63     
 6020                              64             .IMPORT         _ERR_INFO_RST_CLR
 6021                              65     
 6022                              66             .IMPORT         _EXQ_STOP_LEV_POS_CLR           ;
 6023                              67             .IMPORT         _IRQ_EMG_STP_CLR                ;2004-04-04
 6024                              68     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE     5
PROGRAM NAME =

 6025                              69             .IMPORT         _GPOSIN_HOS_RESET
 6026                              70             .IMPORT         _CNTREST_HOS_RESET
 6027                              71     
 6028                              72             .IMPORT         _TEP_FLG_CLR                    ;FLGｸﾘｱ
 6029                              73             .IMPORT         _TEPA_START_CHK                 ;開始条件
 6030                              74             .IMPORT         _TEPA_PLSCNT_CLR                ;片手ONした瞬間0にする
 6031                              75             .IMPORT         _TEPA_PLSCNT_CHK                ;
 6032                              76     
 6033                              77     ;       ---------------------------------
 6034                              78             .IMPORT         _RNA_SCIF_ERR_CLR2              ;SCIF
 6035                              79     
 6036                              80             .IMPORT         _EMG_STOP                       ;
 6037                              81     
 6038                              82             .IMPORT         _API_BREAK_VALV_FLG_ON          ;
 6039                              83             .IMPORT         _API_BREAK_VALV_FLG_OF          ;2014-08-05
 6040                              84     
 6041                              85             .IMPORT         _PRESET_PV_FLGCLR               ;2014-09-14 異常が発生した
 6042                              86             .IMPORT         _NOW_INC_DIG_MAK                ;2014-09-26
 6043                              87     
 6044                              88     ;       //      ***********************************
 6045                              89     ;       //      ***     EXTERN 宣言 MEMORY,HARD ***
 6046                              90     ;       //      ***********************************
 6047                              91             .IMPORT         _LONG_BIT_TBL0
 6048                              92             .GLOBAL         _SQ_CBWK_TOP
 6049                              93     ;       ====================================
 6050                              94             .GLOBAL         _SH4_HD_CTRL_REDY       ;準備完了にしたい
 6051                              95             .GLOBAL         _SH2_HD_CTRL_REDY       ;準備完了にしたい
 6052                              96             .GLOBAL         _SH4_HD_CTRL_BUSY       ;準備未完了にしたい
 6053                              97             .GLOBAL         _SH2_HD_CTRL_BUSY       ;準備未完了にしたい
 6054                              98             .GLOBAL         _SH4_HD_POS_START       ;起動したい
 6055                              99             .GLOBAL         _SH2_HD_POS_START       ;起動したい
 6056                             100             .GLOBAL         _SH4_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6057                             101             .GLOBAL         _SH2_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6058                             102             .GLOBAL         _SH4_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6059                             103             .GLOBAL         _SH2_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6060                             104             .GLOBAL         _SH4_HD_CNT_STOP        ;連続停止<工夫必要>
 6061                             105             .GLOBAL         _SH2_HD_CNT_STOP        ;連続停止<工夫必要>
 6062                             106             .GLOBAL         _SH4_HD_STEP_END        ;位置決め完了としたい
 6063                             107             .GLOBAL         _SH2_HD_STEP_END        ;位置決め完了としたい
 6064                             108     ;       ==== 2003-07-09 ===
 6065                             109             .GLOBAL         _PAR_ORGDRV_MOD         ;原点復帰方法変更 0:level 1:edge
 6066                             110             .GLOBAL         _PAR_ORGDRV_CNT         ;原点復帰回数0=1回 1=2回
 6067                             111     
 6068                             112     ;       ==== 2006-04-10===
 6069                             113             .GLOBAL         _PAR_SFTY_BRKSEL        ;
 6070                             114             .GLOBAL         _PAR_BRKDISE_TIM        ;ﾌﾞﾚｰｷ釈放遅延時間3000msec
 6071                             115             .IMPORT         _PAR_BRKLOCK_TIM        ;ﾌﾞﾚｰｷﾛｯｸ遅延時間100msec
 6072                             116             .IMPORT         _PAR_SELF_WAIT_TM       ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの
                                          時間
 6073                             117             .IMPORT         _PAR_SLOCK_DLY2         ;
 6074                             118     
 6075                             119     
 6076                             120     ;       ==== 2011-09-06===
 6077                             121             .IMPORT         _PAR_UPCHK_SEL1
 6078                             122     
 6079                             123     
 6080                             124             .IMPORT         _PAR_UPMASK_SPD
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE     6
PROGRAM NAME =

 6081                             125             .IMPORT         _CB_SYS_PARAM000
 6082                             126     
 6083                             127     ;       ==== 2012-09-25===
 6084                             128             .IMPORT         _PAR_MYUTING_SEL        ;
 6085                             129     
 6086                             130     ;       ==== 2014-02-20===
 6087                             131             .IMPORT         _PAR_EXTDRV_SEL         ;
 6088                             132             .IMPORT         _PAR_BTNER_TM
 6089                             133             .IMPORT         _PAR_MYUTERR_SEL        ;3 0: 1:異常 行程異常を監視する[R02R03　20
                                          14-02-18]
 6090                             134     
 6091                             135     
 6092                             136     ;       ==== 2014-09-26===
 6093                             137             .IMPORT         _PAR_INCMODE_SEL
 6094                             138             .IMPORT         _PAR_INCMODE_EPLS
 6095                             139     
 6096                             140     ;       //      ***********************************
 6097                             141     ;       //      ***     PUBLIC 宣言 PROGRAM     ***
 6098                             142     ;       //      ***********************************
 6099                             143             .EXPORT         _EMG_CTL_FLG_PROC       ;==>ssa_err1.src
 6100                             144             .EXPORT         _EXQ_CTL_FLG_PROC       ;==>ssa_err1.src
 6101                             145             .EXPORT         _STP_RST_FLG_PROC       ;==>ssa_err1.src
 6102                             146     
 6103                             147     
 6104                             148             .EXPORT         _RESET_CHEAK            ;==>ssa_cbmn.src
 6105                             149             .EXPORT         _MODE_CHANGE            ;==>ssa_cbmn.src
 6106                             150             .EXPORT         _MODE_CTRL              ;==>ssa_cbmn.src
 6107                             151             .EXPORT         _MODE_AREA_MAKE         ;ssa_ctrl.src 待機点AREA作成
 6108                             152     
 6109                             153             .EXPORT         _STEP_SIG_DSP_CLR
 6110                             154             .EXPORT         _STEP_SIG_DISP;
 6111                             155     
 6112                             156             .EXPORT         _STOPPING_TIM_MOV_INI
 6113                             157             .EXPORT         _STOPPING_TIM_STOP_INI
 6114                             158             .EXPORT         _STOPPING_TIM_CHK
 6115                             159     
 6116                             160             .IMPORT         _KJPHOS_SIG_CLR         ;2004-07-05 ssa_kjyu.inc
 6117                             161             .IMPORT         _KJPHOS_SAMPLING1       ;2004-07-05
 6118                             162     
 6119                             163     
 6120                             164             .IMPORT         _OVER_RID_UPDN_LAT_DTMK ;2005-01-17
 6121                             165             .IMPORT         _SET_PV_ABS_TO_OBJ      ;20060919
 6122                             166             .IMPORT         _OVERLID_DEF_SET        ;20060919
 6123                             167     
 6124                             168             .IMPORT         _LINK_CLANK_DIG_MAK             ;2009-07-17
 6125                             169     
 6126                             170             .AIF    0 EQ    0       ;
 6127                             171 C           .IMPORT _CBA_STS_BKUP_SAVE              ;2011-09-14 BAKUP
 6128                             172             .AENDI
 6129                             173     
 6130                             174     ;       ==== 2012-03-06====
 6131                             175             .IMPORT _BRKTMCAL_API1_STR              ;
 6132                             176             .IMPORT _BRKTMCAL_STG1_STOPINI          ;停止ソフト
 6133                             177             .IMPORT _BRKTMCAL_API3_ENDCNF1          ;
 6134                             178             .IMPORT _BRKTMCAL_API4_ENDCNF2          ;
 6135                             179     
 6136                             180     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE     7
PROGRAM NAME =

 6137                             181             .IMPORT _SH4_ORG_DIR_REV        ;原点復帰方向
 6138                             182     
 6139                             183             .IMPORT _SEQAB_DP_TOP           ;2014-08-30
 6140                             184             .IMPORT _EXQ_STOP               ;2014-08-30
 6141                             185             .IMPORT _SVP_INTLIM_SNO         ;//ｽﾗｲﾄﾞ自動待機機能  干渉限界位置設定　行程
 6142                             186             .IMPORT _SVP_INTLIM_AGL         ;//ｽﾗｲﾄﾞ自動待機機能  干渉限界位置設定　角度0.1度
 6143                             187             .IMPORT _SVP_INTLIM_POS         ;//ｽﾗｲﾄﾞ自動待機機能  干渉限界位置設定　位置
 6144                             188             .IMPORT _SVP_WTTIM_MAX          ;//ｽﾗｲﾄﾞ自動待機機能  待機時間0.1秒
 6145                             189             .IMPORT _PVP_WTJUD_SNO          ;//ｽﾗｲﾄﾞ自動待機機能  待機判定位置（行程）
 6146                             190             .IMPORT _PVP_WTJUD_AGL          ;//ｽﾗｲﾄﾞ自動待機機能  待機判定位置（角度）0.1度
 6147                             191             .IMPORT _PVP_WTJUD_POS          ;//ｽﾗｲﾄﾞ自動待機機能  待機判定位置（位置）0.01mm
 6148                             192     
 6149                             193             .EXPORT _POS_HOLD_FLG_STR2CLR   ;2014-09-01
 6150                             194     
 6151                             195             .IMPORT _DNM_DATA_REV_SET       ;2014-09-18
 6152                             196             .IMPORT _PAR_MYU_BRK_SEL        ;2015-09-06
 6153                             197     
 6154                             198             .IMPORT _API_ENDHAND_SIGCHK     ;
 6155                             199     
 6156                             200              .AIF   1 EQ 1  ;
 6157                             201 C   ;       -------- 2016-10-31 ADD 二重回路対策
 6158                             202              .AENDI
 6159                             203     ;       --------------------2016-07-18
 6160                             204             .IMPORT         _CPUA_LOT_CHK_FLG               ;2016-07-18CHECK
 6161                             205             .IMPORT         _CPUB_LOT_CHK_FLG               ;2016-07-18CHECK
 6162                             206             .IMPORT         _CPUA_LOT_CNT_FLG               ;
 6163                             207             .IMPORT         _CPUB_LOT_CNT_FLG               ;
 6164                             208             .IMPORT         _CPUA_CONT_MOD_CNT_PV           ;
 6165                             209             .IMPORT         _CPUB_CONT_MOD_CNT_PV           ;
 6166                             210             .IMPORT         _CPUB_DBG_MONI_CNT              ;2016-08-22
 6167                             211     
 6168                             212     ;       *******************************************
 6169                             213     ;       ***                                     ***
 6170                             214     ;       ***     リセット処理                    ***
 6171                             215     ;       ***                                     ***
 6172                             216     ;       *******************************************
 6173                             217     ;       (ｽﾃｯﾌﾟをある程度またぐ時はR5以上を使用する)
 6174                             218     ;       モードはリセット時に確定する
 6175                             219     ;
 6176                             220     
 6177 00000000                    221             .ALIGN  4                               ;
 6178 00000000                    222     _RESET_CHEAK:           ;==>ssa_cbmn.src
 6179                             223             SUB_START
 6180 00000000 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6181                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6182                             224     
 6183                             225     
 6184                             226              .AIF   1 EQ 1  ;
 6185                             227 C   ;       -------- 2016-10-31 ADD 二重回路対策
 6186                             228              .AENDI
 6187                             229     ;       --------- 2016-10-31(2016-06-21)-------------
 6188                             230             FAR_JSR #_DNM_OBJ_AREA_SIG2,R0                  ;振り子の場合の目標の待機点信号
 6189 00000002 D01E                   M           MOV.L   #_DNM_OBJ_AREA_SIG2,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6190 00000004 400B                   M           JSR     @R0                     ;
 6191 00000006 0009                   M           NOP                                     ;
 6192                             231     
 6193                             232     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE     8
PROGRAM NAME =

 6194                             233     ;       ======= EMG ====
 6195 00000008 D61D               234             MOV.L   #_reset_flg,R6          ;
 6196 0000000A D51E               235             MOV.L   #_emg_lev_flg,R5        ;//異常状態(生ﾃﾞｰﾀ)
 6197 0000000C 6051               236             MOV.W   @R5,R0                  ;
 6198 0000000E D11E               237             MOV.L   #_ERR_LEV_IN2,R1        ;2010-12-10追加
 6199 00000010 6211               238             MOV.W   @R1,R2                  ;
 6200 00000012 202B               239             OR      R2,R0                   ;
 6201 00000014 D11D               240             MOV.L   #_ERR_LEV_IN3,R1        ;2010-12-10追加
 6202 00000016 6211               241             MOV.W   @R1,R2                  ;
 6203 00000018 202B               242             OR      R2,R0                   ;
 6204 0000001A D11D               243             MOV.L   #_ERR_LEV_IN4,R1        ;2010-12-10追加
 6205 0000001C 6211               244             MOV.W   @R1,R2                  ;
 6206 0000001E 202B               245             OR      R2,R0                   ;
 6207 00000020 D11C               246             MOV.L   #_ERR_LEV_IN5,R1        ;2010-12-10追加
 6208 00000022 6211               247             MOV.W   @R1,R2                  ;
 6209 00000024 202B               248             OR      R2,R0                   ;
 6210 00000026 2008               249             TST     R0,R0                   ;
 6211                             250             TST_BIT_OF RESET_CHK_100        ;
 6212 00000028 8909                   M           BT      RESET_CHK_100
 6213 0000002A D516               251             MOV.L   #_emg_lev_flg,R5        ;//異常状態(生ﾃﾞｰﾀ)
 6214 0000002C 200A               252             XOR     R0,R0                   ;
 6215 0000002E 2501               253             MOV.W   R0,@R5                  ;emg_lev_flg clr
 6216 00000030 9122               254             MOV.W   #BIT0,R1                ;
 6217 00000032 2611               255             MOV.W   R1,@R6                  ;ﾘｾｯﾄﾌﾗｸﾞBIT0=1 ﾘｾｯﾄ必要状態
 6218                             256             PUSH_REG1 R6
 6219 00000034 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
 6220                                 M                                           ;REG=>[SP]
 6221                                 M                                           ;"-4" FF,FF,FF,FC
 6222                             257             FAR_JSR #_EMG_OUT,R0            ;
 6223 00000036 D018                   M           MOV.L   #_EMG_OUT,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6224 00000038 400B                   M           JSR     @R0                     ;
 6225 0000003A 0009                   M           NOP                                     ;
 6226                             258             POP_REG1 R6
 6227                                 M                                   ; RE"+4" 00,00,00,04
 6228 0000003C 66F6                   M           MOV.L   @R15+,R6        ;
 6229                             259     
 6230 0000003E                    260     RESET_CHK_100:                          ;==>ssa_cbmn.src
 6231                             261     
 6232                             262     ;       ======= EXQ ====
 6233 0000003E D517               263             MOV.L   #_exq_lev_flg,R5        ;//異常状態(生ﾃﾞｰﾀ)
 6234 00000040 6051               264             MOV.W   @R5,R0                  ;
 6235 00000042 2008               265             TST     R0,R0                   ;
 6236                             266             TST_BIT_OF RESET_CHK_200        ;
 6237 00000044 8908                   M           BT      RESET_CHK_200
 6238 00000046 200A               267             XOR     R0,R0                   ;
 6239 00000048 2501               268             MOV.W   R0,@R5                  ;emg_lev_flg clr
 6240 0000004A 9115               269             MOV.W   #BIT0,R1                ;
 6241 0000004C 2611               270             MOV.W   R1,@R6                  ;ﾘｾｯﾄﾌﾗｸﾞBIT0=1 ﾘｾｯﾄ必要状態
 6242                             271             PUSH_REG1 R6
 6243 0000004E 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
 6244                                 M                                           ;REG=>[SP]
 6245                                 M                                           ;"-4" FF,FF,FF,FC
 6246                             272             FAR_JSR #_EXQ_OUT,R0            ;
 6247 00000050 D013                   M           MOV.L   #_EXQ_OUT,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6248 00000052 400B                   M           JSR     @R0                     ;
 6249 00000054 0009                   M           NOP                                     ;
 6250                             273             POP_REG1 R6
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE     9
PROGRAM NAME =

 6251                                 M                                   ; RE"+4" 00,00,00,04
 6252 00000056 66F6                   M           MOV.L   @R15+,R6        ;
 6253                             274     
 6254 00000058                    275     RESET_CHK_200:                          ;==>ssa_cbmn.src
 6255                             276     
 6256 00000058 6061               277             MOV.W   @R6,R0                  ;
 6257 0000005A 2008               278             TST     R0,R0                   ;ﾘｾｯﾄ必要?
 6258                             279             TST_BIT_ON RESET_CHK_300        ;YES
 6259 0000005C 8B26                   M           BF      RESET_CHK_300
 6260                             280     
 6261 0000005E D111               281             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
 6262 00000060 6011               282             MOV.W   @R1,R0                  ;
 6263 00000062 D111               283             MOV.L   #_exq_err_flg,R1        ;//異常ﾗｯﾁ
 6264 00000064 6211               284             MOV.W   @R1,R2                  ;
 6265 00000066 202B               285             OR      R2,R0                   ;
 6266 00000068 2008               286             TST     R0,R0                   ;
 6267                             287             TST_BIT_OF RESET_CHK_250                                        ;
 6268 0000006A 8903                   M           BT      RESET_CHK_250
 6269 0000006C 0009               288             NOP                                                             ;ﾊﾞｸﾞ?//SEQ_CHK_BI
                                          T作成
 6270                             289             MEM1_DATA_SET MEM=_reset_flg,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2 ;ﾘｾｯﾄ必要
 6271 0000006E D104                   M           MOV.L   #_reset_flg,R1          ;
 6272 00000070 9202                   M           MOV.W   #BIT0,R2                ;
 6273 00000072 2121                   M           MOV.W   R2,@R1  ;
 6274                             290     
 6275 00000074                    291     RESET_CHK_250:                                                          ;
 6276                             292             M_BRA   RESET_CHK_EXT                                           ;
 6277 00000074 A0EC                   M           BRA     RESET_CHK_EXT
 6278 00000076 0009                   M           NOP
 6279                             293     
 6280                             294     ;       ===== ﾘｾｯﾄが必要な状態======
 6281                                     ***** BEGIN-POOL *****
 6282 00000078 0001                       DATA FOR SOURCE-LINE 254,269,289
 6283 0000007A 0000                       ALIGNMENT CODE
 6284 0000007C 00000000                   DATA FOR SOURCE-LINE 230
 6285 00000080 00000000                   DATA FOR SOURCE-LINE 234,289
 6286 00000084 00000000                   DATA FOR SOURCE-LINE 235,251
 6287 00000088 00000000                   DATA FOR SOURCE-LINE 237
 6288 0000008C 00000000                   DATA FOR SOURCE-LINE 240
 6289 00000090 00000000                   DATA FOR SOURCE-LINE 243
 6290 00000094 00000000                   DATA FOR SOURCE-LINE 246
 6291 00000098 00000000                   DATA FOR SOURCE-LINE 257
 6292 0000009C 00000000                   DATA FOR SOURCE-LINE 263
 6293 000000A0 00000000                   DATA FOR SOURCE-LINE 272
 6294 000000A4 00000000                   DATA FOR SOURCE-LINE 281
 6295 000000A8 00000000                   DATA FOR SOURCE-LINE 283
 6296                                     ***** END-POOL *****
 6297 000000AC                    295     RESET_CHK_300:                          ;
 6298                             296                                             ;BIT0:ﾘｾｯﾄ必要       :EMGならANTI:OFF出力
 6299                             297                                             ;BIT1:ﾘｾｯﾄONｴｯｼﾞ有り :RST出力 400
 6300                             298                                             ;BIT2:ﾘｾｯﾄOFF        :遅延開始 500
 6301                             299                                             ;
 6302 000000AC C804               300             TST     #BIT2,R0                ;
 6303                             301             TST_BIT_OF RESET_CHK_305        ;
 6304 000000AE 8901                   M           BT      RESET_CHK_305
 6305                             302             M_BRA   RESET_CHK_500           ;遅延完了待ち
 6306 000000B0 A0A2                   M           BRA     RESET_CHK_500
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    10
PROGRAM NAME =

 6307 000000B2 0009                   M           NOP
 6308                             303     
 6309 000000B4                    304     RESET_CHK_305:                          ;
 6310 000000B4 C802               305             TST     #BIT1,R0                ;
 6311                             306             TST_BIT_ON RESET_CHK_400        ;ﾘｾｯﾄOFF待ち
 6312 000000B6 8B7F                   M           BF      RESET_CHK_400
 6313                             307     
 6314                             308             FAR_JSR #_DAT_MOSTPOS_SIG_CLR,R0
 6315 000000B8 D013                   M           MOV.L   #_DAT_MOSTPOS_SIG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6316 000000BA 400B                   M           JSR     @R0                     ;
 6317 000000BC 0009                   M           NOP                                     ;
 6318                             309             FAR_JSR #_ORG_END_SIG_CLR,R0
 6319 000000BE D013                   M           MOV.L   #_ORG_END_SIG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6320 000000C0 400B                   M           JSR     @R0                     ;
 6321 000000C2 0009                   M           NOP                                     ;
 6322                             310     
 6323                             311             FAR_JSR #_KJPHOS_SIG_CLR,R0     ;2004-07-05
 6324 000000C4 D012                   M           MOV.L   #_KJPHOS_SIG_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6325 000000C6 400B                   M           JSR     @R0                     ;
 6326 000000C8 0009                   M           NOP                                     ;
 6327                             312             FAR_JSR #_LSA_ERRCLR_INI,R0     ;2006-07-16
 6328 000000CA D012                   M           MOV.L   #_LSA_ERRCLR_INI,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6329 000000CC 400B                   M           JSR     @R0                     ;
 6330 000000CE 0009                   M           NOP                                     ;
 6331                             313             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0  ;20060919
 6332 000000D0 D011                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6333 000000D2 400B                   M           JSR     @R0                     ;
 6334 000000D4 0009                   M           NOP                                     ;
 6335                             314     
 6336                             315     
 6337                             316     ;;;;    MOV.L   #_di1_cb_ctl1_on,R1     ;//
 6338 000000D6 D111               317             MOV.L   #_di1_cb_ctl1_dt,R1     ;ﾚﾍﾞﾙに変更(ｵｰﾊﾞﾛｰﾄﾞなどのｼｰｹﾝｽ上の異常をｼｰｹﾝｽがﾘｾ
                                          ｯﾄでｸﾘｱするため)
 6339 000000D8 6011               318             MOV.W   @R1,R0                  ;(ｴｯｼﾞの場合,まだｼｰｹﾝｽからのEMG指令はOFFしない)
 6340                             319     
 6341 000000DA 9414               320             MOV.W   #_W1RST,R4              ;ﾘｾｯﾄ釦
 6342 000000DC 2048               321             TST     R4,R0                   ;ONｴｯｼﾞ
 6343                             322             TST_BIT_OF RESET_CHK_325        ;RESET_CHK_EXT  ;NO EXIT
 6344 000000DE 8910                   M           BT      RESET_CHK_325
 6345                             323     
 6346 000000E0 200A               324             XOR     R0,R0                           ;
 6347 000000E2 D50F               325             MOV.L   #_ORG_PRESET_TIM,R5             ;
 6348 000000E4 2501               326             MOV.W   R0,@R5                          ;
 6349                             327             FAR_JSR #_NOW_POS_PRESET_OUTPLS,R0      ;
 6350 000000E6 D00F                   M           MOV.L   #_NOW_POS_PRESET_OUTPLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6351 000000E8 400B                   M           JSR     @R0                     ;
 6352 000000EA 0009                   M           NOP                                     ;
 6353                             328     
 6354                             329             FAR_JSR #_RNA_SCIF_ERR_CLR1,R0          ;
 6355 000000EC D00E                   M           MOV.L   #_RNA_SCIF_ERR_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6356 000000EE 400B                   M           JSR     @R0                     ;
 6357 000000F0 0009                   M           NOP                                     ;
 6358                             330     
 6359                             331             FAR_JSR #_PRESET_PV_FLGCLR,R0           ;2014-09-14 異常が発生した
 6360 000000F2 D00E                   M           MOV.L   #_PRESET_PV_FLGCLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6361 000000F4 400B                   M           JSR     @R0                     ;
 6362 000000F6 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    11
PROGRAM NAME =

 6363                             332     
 6364                             333             FAR_JSR #_RESET_CONF_CHK,R1     ;ANS R0 ﾘｾｯﾄ可能ですか？
 6365 000000F8 D10D                   M           MOV.L   #_RESET_CONF_CHK,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6366 000000FA 410B                   M           JSR     @R1                     ;
 6367 000000FC 0009                   M           NOP                                     ;
 6368 000000FE 2008               334             TST     R0,R0                   ;
 6369                             335             TST_BIT_OF RESET_CHK_330        ;R0!=0 ﾘｾｯﾄ開始不可
 6370 00000100 8918                   M           BT      RESET_CHK_330
 6371 00000102                    336     RESET_CHK_325
 6372                             337             M_BRA   RESET_CHK_EXT           ;
 6373 00000102 A0A5                   M           BRA     RESET_CHK_EXT
 6374 00000104 0009                   M           NOP
 6375                                     ***** BEGIN-POOL *****
 6376 00000106 8000                       DATA FOR SOURCE-LINE 320
 6377 00000108 00000000                   DATA FOR SOURCE-LINE 308
 6378 0000010C 00000000                   DATA FOR SOURCE-LINE 309
 6379 00000110 00000000                   DATA FOR SOURCE-LINE 311
 6380 00000114 00000000                   DATA FOR SOURCE-LINE 312
 6381 00000118 00000000                   DATA FOR SOURCE-LINE 313
 6382 0000011C 00000000                   DATA FOR SOURCE-LINE 317
 6383 00000120 00000000                   DATA FOR SOURCE-LINE 325
 6384 00000124 00000000                   DATA FOR SOURCE-LINE 327
 6385 00000128 00000000                   DATA FOR SOURCE-LINE 329
 6386 0000012C 00000000                   DATA FOR SOURCE-LINE 331
 6387 00000130 00000000                   DATA FOR SOURCE-LINE 333
 6388                                     ***** END-POOL *****
 6389 00000134                    338     RESET_CHK_330
 6390                             339     
 6391                             340     ;;      TST     R0,R0                   ;
 6392                             341     ;;      TST_BIT_ON RESET_CHK_EXT        ;R0!=0 ﾘｾｯﾄ開始不可
 6393                             342     
 6394                             343     
 6395                             344             MEM1_BIT0_TO_BIT7_ORSET MEM=_reset_flg,LG=W,BIT=BIT1,WKREG=R6   ;bit-set
 6396 00000134 D610                   M           MOV.L   #_reset_flg,R6          ;
 6397 00000136 6061                   M           MOV.W   @R6,R0          ;
 6398 00000138 CB02                   M           OR      #BIT1,R0                ;
 6399 0000013A 2601                   M           MOV.W   R0,@R6          ;
 6400                             345             FAR_JSR #_RESET_ERR_SEQ_CLR,R0  ;移動しない
 6401 0000013C D00F                   M           MOV.L   #_RESET_ERR_SEQ_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6402 0000013E 400B                   M           JSR     @R0                     ;
 6403 00000140 0009                   M           NOP                                     ;
 6404                             346             FAR_JSR #_RESET_OUT,R0                                          ;
 6405 00000142 D00F                   M           MOV.L   #_RESET_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6406 00000144 400B                   M           JSR     @R0                     ;
 6407 00000146 0009                   M           NOP                                     ;
 6408                             347             FAR_JSR #_RST_MOD_POS_START,R0
 6409 00000148 D00E                   M           MOV.L   #_RST_MOD_POS_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6410 0000014A 400B                   M           JSR     @R0                     ;
 6411 0000014C 0009                   M           NOP                                     ;
 6412                             348             FAR_JSR #_CMPEMG_EXQ_FLG_CLR,R0
 6413 0000014E D00E                   M           MOV.L   #_CMPEMG_EXQ_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6414 00000150 400B                   M           JSR     @R0                     ;
 6415 00000152 0009                   M           NOP                                     ;
 6416                             349             FAR_JSR #_IRQ_EMG_STP_CLR,R0    ;2004-04-04
 6417 00000154 D00D                   M           MOV.L   #_IRQ_EMG_STP_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6418 00000156 400B                   M           JSR     @R0                     ;
 6419 00000158 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    12
PROGRAM NAME =

 6420                             350     
 6421                             351     
 6422                             352     ;       === EXQではやらない処理=====
 6423                             353     ;;      .AIF    1 EQ 1  ;ﾌﾟﾛｸﾞﾗﾑ変更箇所(反転仕様以外の標準に入れる変更)
 6424 0000015A D10D               354             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
 6425 0000015C 6011               355             MOV.W   @R1,R0                  ;EMG
 6426 0000015E 2008               356             TST     R0,R0                   ;
 6427                             357             TST_BIT_OF RESET_CHK_350        ;
 6428 00000160 891E                   M           BT      RESET_CHK_350
 6429                             358             FAR_JSR #_LOT_SIG_FLG_CLR,R0    ;
 6430 00000162 D00C                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6431 00000164 400B                   M           JSR     @R0                     ;
 6432 00000166 0009                   M           NOP                                     ;
 6433                             359     
 6434 00000168 D10B               360             MOV.L   #_SELF_TIMING_SIG,R1    ;2006-04-10
 6435 0000016A 200A               361             XOR     R0,R0                   ;
 6436 0000016C 2101               362             MOV.W   R0,@R1                  ;
 6437                             363     
 6438                             364     ;       ---EMGのときだけｸﾘｱするように変更[EXQではﾀｲﾏを継続させる]----
 6439                             365             FAR_JSR #_CYCLE_TIME_REFLASH_CLR,R0     ;
 6440 0000016E D00B                   M           MOV.L   #_CYCLE_TIME_REFLASH_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6441 00000170 400B                   M           JSR     @R0                     ;
 6442 00000172 0009                   M           NOP                                     ;
 6443                             366     
 6444                             367     ;;;;2016-04-15 遮光時二重回路偏差オーバ対策RESET_CHK_350:                               ;
 6445                             368     ;;;;2016-04-15 遮光時二重回路偏差オーバ対策     M_BRA   RESET_CHK_EXT
 6446                             369     
 6447                             370             M_BRA   RESET_CHK_399           ;2016-04-15
 6448 00000174 A017                   M           BRA     RESET_CHK_399
 6449 00000176 0009                   M           NOP
 6450                             371     
 6451                             372     ;       -- 遮光時二重回路偏差オーバ対策---
 6452                             373     
 6453                                     ***** BEGIN-POOL *****
 6454 00000178 00000000                   DATA FOR SOURCE-LINE 344
 6455 0000017C 00000000                   DATA FOR SOURCE-LINE 345
 6456 00000180 00000000                   DATA FOR SOURCE-LINE 346
 6457 00000184 00000000                   DATA FOR SOURCE-LINE 347
 6458 00000188 00000000                   DATA FOR SOURCE-LINE 348
 6459 0000018C 00000000                   DATA FOR SOURCE-LINE 349
 6460 00000190 00000000                   DATA FOR SOURCE-LINE 354
 6461 00000194 00000000                   DATA FOR SOURCE-LINE 358
 6462 00000198 00000000                   DATA FOR SOURCE-LINE 360
 6463 0000019C 00000000                   DATA FOR SOURCE-LINE 365
 6464                                     ***** END-POOL *****
 6465 000001A0                    374     RESET_CHK_350:                          ;
 6466                             375     ;       ----- 2016-04-15 EXQ,遮光による行程違いのﾘｶﾊﾞﾘｰ処理-------
 6467                             376             FAR_JSR #_EXQ_PROC_STEP_RECOVER,R0      ;
 6468 000001A0 D003                   M           MOV.L   #_EXQ_PROC_STEP_RECOVER,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6469 000001A2 400B                   M           JSR     @R0                     ;
 6470 000001A4 0009                   M           NOP                                     ;
 6471                             377     
 6472 000001A6                    378     RESET_CHK_399:                                  ;
 6473                             379             FAR_JSR #_API_EXQ_STEP_FLGCLR,R0        ;
 6474 000001A6 D003                   M           MOV.L   #_API_EXQ_STEP_FLGCLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6475 000001A8 400B                   M           JSR     @R0                     ;
 6476 000001AA 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    13
PROGRAM NAME =

 6477                             380             M_BRA   RESET_CHK_EXT
 6478 000001AC A050                   M           BRA     RESET_CHK_EXT
 6479 000001AE 0009                   M           NOP
 6480                             381     
 6481                             382     ;       ==== ﾘｾｯﾄOFF待ち ====
 6482                                     ***** BEGIN-POOL *****
 6483 000001B0 00000000                   DATA FOR SOURCE-LINE 376
 6484 000001B4 00000000                   DATA FOR SOURCE-LINE 379
 6485                                     ***** END-POOL *****
 6486 000001B8                    383     RESET_CHK_400:  ;ﾘｾｯﾄOFF待ち
 6487 000001B8 D10A               384             MOV.L   #_di1_cb_ctl1_dt,R1     ;//
 6488 000001BA 6011               385             MOV.W   @R1,R0                  ;
 6489 000001BC 9410               386             MOV.W   #_W1RST,R4              ;ﾘｾｯﾄ釦
 6490 000001BE 2048               387             TST     R4,R0                   ;
 6491                             388             TST_BIT_ON RESET_CHK_EXT        ;ON継続
 6492 000001C0 8B46                   M           BF      RESET_CHK_EXT
 6493                             389     
 6494                             390     
 6495                             391             MEM1_BIT0_TO_BIT7_ORSET MEM=_reset_flg,LG=W,BIT=BIT2,WKREG=R6   ;bit-set
 6496 000001C2 D609                   M           MOV.L   #_reset_flg,R6          ;
 6497 000001C4 6061                   M           MOV.W   @R6,R0          ;
 6498 000001C6 CB04                   M           OR      #BIT2,R0                ;
 6499 000001C8 2601                   M           MOV.W   R0,@R6          ;
 6500                             392             MEM1_DATA_SET MEM=_reset_dly_tim,LG=W,DATA=_RST_DLY_TM,WKREG1=R1,WKREG2=R2
 6501 000001CA D108                   M           MOV.L   #_reset_dly_tim,R1              ;
 6502 000001CC 9209                   M           MOV.W   #_RST_DLY_TM,R2         ;
 6503 000001CE 2121                   M           MOV.W   R2,@R1  ;
 6504                             393             FAR_JSR #_RESET_OUT,R0                                          ;
 6505 000001D0 D007                   M           MOV.L   #_RESET_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6506 000001D2 400B                   M           JSR     @R0                     ;
 6507 000001D4 0009                   M           NOP                                     ;
 6508                             394             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0  ;20060919
 6509 000001D6 D007                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6510 000001D8 400B                   M           JSR     @R0                     ;
 6511 000001DA 0009                   M           NOP                                     ;
 6512                             395             M_BRA   RESET_CHK_EXT
 6513 000001DC A038                   M           BRA     RESET_CHK_EXT
 6514 000001DE 0009                   M           NOP
 6515                             396     
 6516                             397     
 6517                             398     ;       ==== 遅延待ち ==
 6518                                     ***** BEGIN-POOL *****
 6519 000001E0 8000                       DATA FOR SOURCE-LINE 386
 6520 000001E2 00C8                       DATA FOR SOURCE-LINE 392
 6521 000001E4 00000000                   DATA FOR SOURCE-LINE 384
 6522 000001E8 00000000                   DATA FOR SOURCE-LINE 391
 6523 000001EC 00000000                   DATA FOR SOURCE-LINE 392
 6524 000001F0 00000000                   DATA FOR SOURCE-LINE 393
 6525 000001F4 00000000                   DATA FOR SOURCE-LINE 394
 6526                                     ***** END-POOL *****
 6527 000001F8                    399     RESET_CHK_500:  ;
 6528 000001F8 D11B               400             MOV.L   #_reset_dly_tim,R1
 6529 000001FA 6011               401             MOV.W   @R1,R0                                          ;
 6530 000001FC 2008               402             TST     R0,R0                                                   ;
 6531                             403             TST_BIT_ON RESET_CHK_EXT                                        ;
 6532 000001FE 8B27                   M           BF      RESET_CHK_EXT
 6533                             404     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    14
PROGRAM NAME =

 6534                             405             FAR_JSR #_RST_MOD_POS_END,R1
 6535 00000200 D11A                   M           MOV.L   #_RST_MOD_POS_END,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6536 00000202 410B                   M           JSR     @R1                     ;
 6537 00000204 0009                   M           NOP                                     ;
 6538                             406             FAR_JSR #_RESET_END_OUT,R1                                      ;
 6539 00000206 D11A                   M           MOV.L   #_RESET_END_OUT,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6540 00000208 410B                   M           JSR     @R1                     ;
 6541 0000020A 0009                   M           NOP                                     ;
 6542                             407             MEM1_DATA_SET MEM=_reset_flg,LG=W,DATA=0,WKREG1=R1,WKREG2=R2    ;完了
 6543 0000020C D119                   M           MOV.L   #_reset_flg,R1          ;
 6544 0000020E 9227                   M           MOV.W   #0,R2           ;
 6545 00000210 2121                   M           MOV.W   R2,@R1  ;
 6546                             408     
 6547                             409     ;       -------- 2010-12-10 移動追加----
 6548                             410             FAR_JSR #_RESET_ERR_SEQ_CLR,R0
 6549 00000212 D019                   M           MOV.L   #_RESET_ERR_SEQ_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6550 00000214 400B                   M           JSR     @R0                     ;
 6551 00000216 0009                   M           NOP                                     ;
 6552                             411             FAR_JSR #_RESET_ERR_SEQ_CLR2,R0
 6553 00000218 D018                   M           MOV.L   #_RESET_ERR_SEQ_CLR2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6554 0000021A 400B                   M           JSR     @R0                     ;
 6555 0000021C 0009                   M           NOP                                     ;
 6556                             412     
 6557                             413     ;       === 2003-07-01 ====
 6558 0000021E D118               414             MOV.L   #_HIST_DAT_SEND_DIS,R1  ;//1:DISENABLE 0:ENABLE
 6559 00000220 200A               415             XOR     R0,R0                   ;
 6560 00000222 2101               416             MOV.W   R0,@R1                  ;
 6561                             417     
 6562 00000224 D117               418             MOV.L   #_TRD_CLR_CMD,R1        ;//01 CLR
 6563 00000226 901C               419             MOV.W   #1,R0                   ;
 6564 00000228 2101               420             MOV.W   R0,@R1                  ;CLR START
 6565                             421     
 6566                             422             FAR_JSR #_ERR_INFO_RST_CLR,R0
 6567 0000022A D017                   M           MOV.L   #_ERR_INFO_RST_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6568 0000022C 400B                   M           JSR     @R0                     ;
 6569 0000022E 0009                   M           NOP                                     ;
 6570                             423     
 6571                             424     ;       ----------- 2006-07-28 -------
 6572                             425             FAR_JSR #_TEPA_PLSCNT_CLR,R0
 6573 00000230 D016                   M           MOV.L   #_TEPA_PLSCNT_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6574 00000232 400B                   M           JSR     @R0                     ;
 6575 00000234 0009                   M           NOP                                     ;
 6576                             426             FAR_JSR #_TEP_FLG_CLR,R0
 6577 00000236 D016                   M           MOV.L   #_TEP_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6578 00000238 400B                   M           JSR     @R0                     ;
 6579 0000023A 0009                   M           NOP                                     ;
 6580                             427             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0  ;20060919
 6581 0000023C D015                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6582 0000023E 400B                   M           JSR     @R0                     ;
 6583 00000240 0009                   M           NOP                                     ;
 6584                             428             FAR_JSR #_OVERLID_DEF_SET,R0    ;20060919
 6585 00000242 D015                   M           MOV.L   #_OVERLID_DEF_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6586 00000244 400B                   M           JSR     @R0                     ;
 6587 00000246 0009                   M           NOP                                     ;
 6588                             429     
 6589                             430     ;       ======= 描画用 ======
 6590                             431             MEM1_BIT0_TO_BIT7_ORSET MEM=_DISP_RE_VIEW_FLG,LG=W,BIT=BIT0,WKREG=R1    ;再描画
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    15
PROGRAM NAME =

 6591 00000248 D114                   M           MOV.L   #_DISP_RE_VIEW_FLG,R1           ;
 6592 0000024A 6011                   M           MOV.W   @R1,R0          ;
 6593 0000024C CB01                   M           OR      #BIT0,R0                ;
 6594 0000024E 2101                   M           MOV.W   R0,@R1          ;
 6595                             432     
 6596                             433     
 6597                             434     ;;;;;;  EMGのときだけｸﾘｱするように変更ため移動<2013-07-19>
 6598                             435     ;;;;;;  FAR_JSR #_CYCLE_TIME_REFLASH_CLR,R0                                     ;
 6599                             436     
 6600                             437     
 6601 00000250                    438     RESET_CHK_EXT:
 6602                             439     
 6603 00000250 D113               440             mov.l   #_pass_err_flg1,r1      ;//異常ﾙｰﾁﾝ
 6604 00000252 6011               441             mov.w   @r1,r0                  ;
 6605 00000254 9206               442             mov.w   #H'FF80,r2              ;BIT7~BIT15
 6606 00000256 202B               443             or      r2,r0                   ;
 6607 00000258 2101               444             mov.w   r0,@r1                  ;
 6608                             445             SUB_END
 6609                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 6610 0000025A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 6611                             446             M_RTS
 6612 0000025C 000B                   M           RTS                             ;RTSの後ろの
 6613 0000025E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 6614                             447     
 6615                             448     ;       ***********************************
 6616                             449     ;       ***                             ***
 6617                             450     ;       ***     ﾘｾｯﾄ可能条件            ***
 6618                             451     ;       ***                             ***
 6619                             452     ;       ***                             ***
 6620                             453     ;       ***********************************
 6621                             454     ;
 6622                             455     ;
 6623                                     ***** BEGIN-POOL *****
 6624 00000260 0000                       DATA FOR SOURCE-LINE 407
 6625 00000262 0001                       DATA FOR SOURCE-LINE 419
 6626 00000264 FF80                       DATA FOR SOURCE-LINE 442
 6627 00000266 0000                       ALIGNMENT CODE
 6628 00000268 00000000                   DATA FOR SOURCE-LINE 400
 6629 0000026C 00000000                   DATA FOR SOURCE-LINE 405
 6630 00000270 00000000                   DATA FOR SOURCE-LINE 406
 6631 00000274 00000000                   DATA FOR SOURCE-LINE 407
 6632 00000278 00000000                   DATA FOR SOURCE-LINE 410
 6633 0000027C 00000000                   DATA FOR SOURCE-LINE 411
 6634 00000280 00000000                   DATA FOR SOURCE-LINE 414
 6635 00000284 00000000                   DATA FOR SOURCE-LINE 418
 6636 00000288 00000000                   DATA FOR SOURCE-LINE 422
 6637 0000028C 00000000                   DATA FOR SOURCE-LINE 425
 6638 00000290 00000000                   DATA FOR SOURCE-LINE 426
 6639 00000294 00000000                   DATA FOR SOURCE-LINE 427
 6640 00000298 00000000                   DATA FOR SOURCE-LINE 428
 6641 0000029C 00000000                   DATA FOR SOURCE-LINE 431
 6642 000002A0 00000000                   DATA FOR SOURCE-LINE 440
 6643                                     ***** END-POOL *****
 6644 000002A4                    456             .ALIGN  4                               ;
 6645 000002A4                    457     _RESET_CONF_CHK:
 6646                             458             SUB_START
 6647 000002A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    16
PROGRAM NAME =

 6648                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6649                             459     
 6650                             460     ;---2011-09-20 ﾌﾞﾚｰｷﾓｰﾄﾞSW-ONでは安全一行程か原点復帰のみ
 6651 000002A6 D108               461             MOV.L   #_BRKTST_SW_IN,R1                               ;
 6652 000002A8 6011               462             MOV.W   @R1,R0                                          ;
 6653 000002AA C801               463             TST     #BIT0,R0                                        ;
 6654                             464             TST_BIT_OF RST_CONFCK_010                               ;
 6655 000002AC 8912                   M           BT      RST_CONFCK_010
 6656                             465     
 6657 000002AE D107               466             MOV.L   #_INP_MODE,R1                           ;
 6658 000002B0 6011               467             MOV.W   @R1,R0                                  ;
 6659 000002B2 C840               468             TST     #_W1DUP,R0                              ;
 6660                             469             TST_BIT_ON RST_CONFCK_010                       ;
 6661 000002B4 8B0E                   M           BF      RST_CONFCK_010
 6662                             470     
 6663 000002B6 C804               471             TST     #_W1SGL,R0                                      ;
 6664                             472             TST_BIT_OF RST_CONFCK_005                               ;
 6665 000002B8 8904                   M           BT      RST_CONFCK_005
 6666                             473     
 6667                             474     ;-------- 安全一----------
 6668 000002BA D105               475             MOV.L   #_di1_cb_ctl1_dt,R1                             ;// ﾚﾍﾞﾙﾃﾞ-ﾀ
 6669 000002BC 6011               476             MOV.W   @R1,R0                                          ;
 6670 000002BE C97F               477             AND     #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R0        ;
 6671                             478     
 6672 000002C0 C810               479             TST     #_W1OPT,R0                                      ;OPTION?
 6673                             480             TST_BIT_OF RST_CONFCK_010                               ;NO ちゃんとした安全一
 6674 000002C2 8907                   M           BT      RST_CONFCK_010
 6675 000002C4                    481     RST_CONFCK_005
 6676                             482             M_BRA   RST_CONFCK_NG                                   ;
 6677 000002C4 A0B0                   M           BRA     RST_CONFCK_NG
 6678 000002C6 0009                   M           NOP
 6679                             483     
 6680                                     ***** BEGIN-POOL *****
 6681 000002C8 00000000                   DATA FOR SOURCE-LINE 461
 6682 000002CC 00000000                   DATA FOR SOURCE-LINE 466
 6683 000002D0 00000000                   DATA FOR SOURCE-LINE 475
 6684                                     ***** END-POOL *****
 6685 000002D4                    484     RST_CONFCK_010
 6686                             485     
 6687                             486     ;       ----------------------------------------------
 6688                             487             _MONI_RESET_SET SETNO=1,SETREG=R0,WKREG=R1      ;2014-09-13
 6689 000002D4 9027                   M           MOV.W   #1,R0
 6690 000002D6 D117                   M           MOV.L   #_MONI_RESET_STEP,R1
 6691 000002D8 2101                   M           MOV.W   R0,@R1
 6692                             488     
 6693 000002DA D117               489             MOV.L   #_INP_MODE,R1           ;
 6694 000002DC 6011               490             MOV.W   @R1,R0                  ;
 6695 000002DE C801               491             TST     #_W1OFF,R0              ;
 6696                             492             TST_BIT_ON RST_CONFCK_NG70      ;[切]
 6697 000002E0 8B7E                   M           BF      RST_CONFCK_NG70
 6698                             493     
 6699                             494     ;       ======= 安全装置ﾁｪｯｸ ==============
 6700 000002E2 D116               495             MOV.L   #_SFTY_IN_DAT,R1        ;
 6701 000002E4 6011               496             MOV.W   @R1,R0                  ;有効・無効のSWのみ
 6702 000002E6 C803               497             TST     #(BIT1+BIT0),R0
 6703                             498             TST_BIT_ON RST_CONFCK_NG70      ;
 6704 000002E8 8B7A                   M           BF      RST_CONFCK_NG70
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    17
PROGRAM NAME =

 6705                             499     
 6706                             500     ;       ----------------------------------------------
 6707                             501             _MONI_RESET_SET SETNO=2,SETREG=R0,WKREG=R1      ;2014-09-13
 6708 000002EA 901D                   M           MOV.W   #2,R0
 6709 000002EC D111                   M           MOV.L   #_MONI_RESET_STEP,R1
 6710 000002EE 2101                   M           MOV.W   R0,@R1
 6711                             502     
 6712                             503     ;-----EMGのswは見る 340.0は見ない---
 6713 000002F0 D113               504             MOV.L   #_di3_cb_inp1,R1                ;//+0:EMG1,EMG2 BIT1,BIT0
 6714                             505     ;;;340.0のor    MOV.L   #_di3_cb_inp1_dt,R1     ;//制御に使用するのは_dt(相手側の遮光も)
 6715 000002F2 6011               506             MOV.W   @R1,R0                  ;
 6716 000002F4 C803               507             TST     #(BIT1+BIT0),R0         ;EMG?
 6717                             508             TST_BIT_ON RST_CONFCK_NG70
 6718 000002F6 8B73                   M           BF      RST_CONFCK_NG70
 6719                             509     
 6720                             510             _MONI_RESET_SET SETNO=3,SETREG=R0,WKREG=R1      ;2014-09-13
 6721 000002F8 9017                   M           MOV.W   #3,R0
 6722 000002FA D10E                   M           MOV.L   #_MONI_RESET_STEP,R1
 6723 000002FC 2101                   M           MOV.W   R0,@R1
 6724                             511     
 6725 000002FE D10E               512             MOV.L   #_INP_MODE,R1           ;
 6726 00000300 6011               513             MOV.W   @R1,R0                  ;
 6727 00000302 9113               514             MOV.W   #(_W1DUP),R1            ;[原点復帰]
 6728 00000304 2018               515             TST     R1,R0                   ;
 6729                             516             TST_BIT_ON RST_CONFCK_015_OK    ;何でもOK
 6730 00000306 8B0C                   M           BF      RST_CONFCK_015_OK
 6731                             517     
 6732                             518     ;       === 段取は回転の場合は動作可能 ===
 6733 00000308 9111               519             MOV.W   #(_W1DIC),R1                    ;
 6734 0000030A 2018               520             TST     R1,R0                           ;
 6735                             521             TST_BIT_OF RST_CONFCK_020               ;[段取寸動]
 6736 0000030C 891C                   M           BT      RST_CONFCK_020
 6737                             522     
 6738                             523             _MONI_RESET_SET SETNO=4,SETREG=R0,WKREG=R1      ;2014-09-13
 6739 0000030E 900F                   M           MOV.W   #4,R0
 6740 00000310 D108                   M           MOV.L   #_MONI_RESET_STEP,R1
 6741 00000312 2101                   M           MOV.W   R0,@R1
 6742                             524     
 6743 00000314 D50B               525             MOV.L   #_ORG_DND_NOMAL_FLG1,R5         ;段取動作はOK(POWER-ON/)
 6744 00000316 6651               526             MOV.W   @R5,R6                          ;0異常
 6745 00000318 2668               527             TST     R6,R6                           ;
 6746                             528             TST_BIT_OF RST_CONFCK_NG70              ;
 6747 0000031A 8961                   M           BT      RST_CONFCK_NG70
 6748                             529             _MONI_RESET_SET SETNO=5,SETREG=R0,WKREG=R1      ;2014-09-13
 6749 0000031C 9009                   M           MOV.W   #5,R0
 6750 0000031E D105                   M           MOV.L   #_MONI_RESET_STEP,R1
 6751 00000320 2101                   M           MOV.W   R0,@R1
 6752                             530     
 6753 00000322                    531     RST_CONFCK_015_OK:
 6754                             532             M_BRA   RST_CONFCK_OK                   ;
 6755 00000322 A084                   M           BRA     RST_CONFCK_OK
 6756 00000324 0009                   M           NOP
 6757                             533     
 6758                             534     
 6759                                     ***** BEGIN-POOL *****
 6760 00000326 0001                       DATA FOR SOURCE-LINE 487
 6761 00000328 0002                       DATA FOR SOURCE-LINE 501
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    18
PROGRAM NAME =

 6762 0000032A 0003                       DATA FOR SOURCE-LINE 510
 6763 0000032C 0040                       DATA FOR SOURCE-LINE 514
 6764 0000032E 0020                       DATA FOR SOURCE-LINE 519
 6765 00000330 0004                       DATA FOR SOURCE-LINE 523
 6766 00000332 0005                       DATA FOR SOURCE-LINE 529
 6767 00000334 00000000                   DATA FOR SOURCE-LINE 487,501,510,523,529
 6768 00000338 00000000                   DATA FOR SOURCE-LINE 489,512
 6769 0000033C 00000000                   DATA FOR SOURCE-LINE 495
 6770 00000340 00000000                   DATA FOR SOURCE-LINE 504
 6771 00000344 00000000                   DATA FOR SOURCE-LINE 525
 6772                                     ***** END-POOL *****
 6773 00000348                    535     RST_CONFCK_020:
 6774                             536             _MONI_RESET_SET SETNO=6,SETREG=R0,WKREG=R1      ;2014-09-13
 6775 00000348 901D                   M           MOV.W   #6,R0
 6776 0000034A D111                   M           MOV.L   #_MONI_RESET_STEP,R1
 6777 0000034C 2101                   M           MOV.W   R0,@R1
 6778                             537     
 6779                             538     ;       ===== (設定異常・原点復帰未完了)==
 6780 0000034E D511               539             MOV.L   #_ORG_ELSE_NOMAL_FLG1,R5        ;//段取りok,原点動作以外動作禁止 0:異常 1:
                                          OK
 6781 00000350 6651               540             MOV.W   @R5,R6                          ;0異常
 6782 00000352 2668               541             TST     R6,R6                           ;
 6783                             542             TST_BIT_OF RST_CONFCK_NG70              ;
 6784 00000354 8944                   M           BT      RST_CONFCK_NG70
 6785                             543     
 6786                             544             _MONI_RESET_SET SETNO=7,SETREG=R0,WKREG=R1      ;2014-09-13
 6787 00000356 9017                   M           MOV.W   #7,R0
 6788 00000358 D10D                   M           MOV.L   #_MONI_RESET_STEP,R1
 6789 0000035A 2101                   M           MOV.W   R0,@R1
 6790                             545     
 6791                             546     
 6792                             547     ;;;2003-07-14   ===== (設定異常・原点復帰未完了)==
 6793                             548     ;;;     MOV.L   #_ORG_ELSE_NOMAL_FLG1,R5        ;//原点動作以外動作禁止 0:異常 1:OK
 6794                             549     ;;;     MOV.W   @R5,R6                          ;0異常
 6795                             550     ;;;     TST     R6,R6                           ;
 6796                             551     ;;;     TST_BIT_OF RST_CONFCK_NG                ;
 6797                             552     
 6798                             553     ;;;     MOV.W   #(_W1DIC),R1                    ;
 6799                             554     ;;;     TST     R1,R0                           ;
 6800                             555     ;;;     TST_BIT_ON RST_CONFCK_OK                ;
 6801                             556     
 6802                             557     ;       ==== 待機点ｴﾘｱか-->待機点選出=====
 6803 0000035C                    558     RST_CONFCK_050:
 6804 0000035C D10E               559             MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
 6805 0000035E 6011               560             MOV.W   @R1,R0                          ;
 6806 00000360 2008               561             TST     R0,R0                           ;
 6807                             562             TST_BIT_OF RST_CONFCK_OK                ;EXQの場合
 6808 00000362 8964                   M           BT      RST_CONFCK_OK
 6809                             563     
 6810                             564             _MONI_RESET_SET SETNO=8,SETREG=R0,WKREG=R1      ;2014-09-13
 6811 00000364 9011                   M           MOV.W   #8,R0
 6812 00000366 D10A                   M           MOV.L   #_MONI_RESET_STEP,R1
 6813 00000368 2101                   M           MOV.W   R0,@R1
 6814                             565     
 6815                             566     ;       ===     2011-09-14      ===
 6816 0000036A D10C               567             MOV.L   #_BRKTST_INPUT_CMD,R1   ;//安全一行程の試験モード指定時BIT0=ON
 6817 0000036C 6011               568             MOV.W   @R1,R0                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    19
PROGRAM NAME =

 6818 0000036E C801               569             TST     #BIT0,R0                ;
 6819                             570             TST_BIT_ON RST_CONFCK_BRK100    ;[]
 6820 00000370 8B4C                   M           BF      RST_CONFCK_BRK100
 6821                             571     ;       ===========================
 6822                             572     
 6823                             573             _MONI_RESET_SET SETNO=9,SETREG=R0,WKREG=R1      ;2014-09-13
 6824 00000372 900B                   M           MOV.W   #9,R0
 6825 00000374 D106                   M           MOV.L   #_MONI_RESET_STEP,R1
 6826 00000376 2101                   M           MOV.W   R0,@R1
 6827                             574     
 6828                             575     
 6829                             576     
 6830                             577     ;       =====2014-09-25 ====================
 6831                             578             FAR_JSR #_INC_RSTMODE_CHK,R0
 6832 00000378 D009                   M           MOV.L   #_INC_RSTMODE_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6833 0000037A 400B                   M           JSR     @R0                     ;
 6834 0000037C 0009                   M           NOP                                     ;
 6835 0000037E 2008               579             TST     R0,R0                   ;
 6836                             580             TST_BIT_OF RST_CONFCK_055       ;通常ｿﾌﾄで判定して[待機点です]
 6837 00000380 8910                   M           BT      RST_CONFCK_055
 6838                             581             M_BRA   RST_CONFCK_OK           ;
 6839 00000382 A054                   M           BRA     RST_CONFCK_OK
 6840 00000384 0009                   M           NOP
 6841                             582     
 6842                             583     
 6843                                     ***** BEGIN-POOL *****
 6844 00000386 0006                       DATA FOR SOURCE-LINE 536
 6845 00000388 0007                       DATA FOR SOURCE-LINE 544
 6846 0000038A 0008                       DATA FOR SOURCE-LINE 564
 6847 0000038C 0009                       DATA FOR SOURCE-LINE 573
 6848 0000038E 0000                       ALIGNMENT CODE
 6849 00000390 00000000                   DATA FOR SOURCE-LINE 536,544,564,573
 6850 00000394 00000000                   DATA FOR SOURCE-LINE 539
 6851 00000398 00000000                   DATA FOR SOURCE-LINE 559
 6852 0000039C 00000000                   DATA FOR SOURCE-LINE 567
 6853 000003A0 00000000                   DATA FOR SOURCE-LINE 578
 6854                                     ***** END-POOL *****
 6855 000003A4                    584     RST_CONFCK_055:
 6856                             585     
 6857                             586     
 6858                             587     ;       === 待機点だ！ ==== ﾘｾｯﾄ時の待機点ｹﾞｯﾄ====
 6859                             588     ;       ------- 2014-09-18-------
 6860 000003A4 D107               589             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
 6861 000003A6 6011               590             MOV.W   @R1,R0                                  ;
 6862 000003A8 C804               591             TST     #(_DMATH_DNDRIV),R0                     ;
 6863                             592             TST_BIT_OF RST_CONFCK_080                       ;
 6864 000003AA 8921                   M           BT      RST_CONFCK_080
 6865                             593     
 6866 000003AC D406               594             MOV.L   #_DNM_RESET_AREA,R4                     ;//BIT7(左)/BIT4(右側)
 6867 000003AE 6041               595             MOV.W   @R4,R0
 6868 000003B0 C810               596             TST     #BIT4,R0                                ;左側
 6869                             597             TST_BIT_ON RST_CONFCK_OK                        ;OK 初期値動作
 6870 000003B2 8B3C                   M           BF      RST_CONFCK_OK
 6871                             598     
 6872 000003B4 C880               599             TST     #BIT7,R0                                ;
 6873                             600             TST_BIT_ON RST_CONFCK_060                       ;逆側
 6874 000003B6 8B0B                   M           BF      RST_CONFCK_060
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    20
PROGRAM NAME =

 6875                             601             _MONI_RESET_SET SETNO=10,SETREG=R0,WKREG=R1     ;DEBUG
 6876 000003B8 9003                   M           MOV.W   #10,R0
 6877 000003BA D104                   M           MOV.L   #_MONI_RESET_STEP,R1
 6878 000003BC 2101                   M           MOV.W   R0,@R1
 6879                             602             M_BRA   RST_CONFCK_NG                           ;
 6880 000003BE A033                   M           BRA     RST_CONFCK_NG
 6881 000003C0 0009                   M           NOP
 6882                             603     
 6883                             604     
 6884                                     ***** BEGIN-POOL *****
 6885 000003C2 000A                       DATA FOR SOURCE-LINE 601
 6886 000003C4 00000000                   DATA FOR SOURCE-LINE 589
 6887 000003C8 00000000                   DATA FOR SOURCE-LINE 594
 6888 000003CC 00000000                   DATA FOR SOURCE-LINE 601
 6889                                     ***** END-POOL *****
 6890 000003D0                    605     RST_CONFCK_060:
 6891                             606             FAR_JSR #_DNM_DATA_REV_SET,R0                   ;
 6892 000003D0 D002                   M           MOV.L   #_DNM_DATA_REV_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6893 000003D2 400B                   M           JSR     @R0                     ;
 6894 000003D4 0009                   M           NOP                                     ;
 6895                             607             M_BRA   RST_CONFCK_OK                           ;
 6896 000003D6 A02A                   M           BRA     RST_CONFCK_OK
 6897 000003D8 0009                   M           NOP
 6898                             608     
 6899                             609     
 6900                             610     ;       --2014-09-25-------------------------------------
 6901                                     ***** BEGIN-POOL *****
 6902 000003DA 0000                       ALIGNMENT CODE
 6903 000003DC 00000000                   DATA FOR SOURCE-LINE 606
 6904                                     ***** END-POOL *****
 6905 000003E0                    611     RST_CONFCK_NG70:
 6906                             612             _MONI_RESET_SET SETNO=11,SETREG=R0,WKREG=R1     ;
 6907 000003E0 9003                   M           MOV.W   #11,R0
 6908 000003E2 D102                   M           MOV.L   #_MONI_RESET_STEP,R1
 6909 000003E4 2101                   M           MOV.W   R0,@R1
 6910                             613             M_BRA   RST_CONFCK_NG                           ;
 6911 000003E6 A01F                   M           BRA     RST_CONFCK_NG
 6912 000003E8 0009                   M           NOP
 6913                             614     
 6914                             615     ;       ----------------------------------------------------
 6915                                     ***** BEGIN-POOL *****
 6916 000003EA 000B                       DATA FOR SOURCE-LINE 612
 6917 000003EC 00000000                   DATA FOR SOURCE-LINE 612
 6918                                     ***** END-POOL *****
 6919 000003F0                    616     RST_CONFCK_080:
 6920 000003F0 D404               617             MOV.L   #_M_LINK_AREASIG,R4                     ;//BIT0/BIT4:待機点範囲
 6921 000003F2 6041               618             MOV.W   @R4,R0                                  ;
 6922 000003F4 C810               619             TST     #BIT4,R0                                ;
 6923                             620             TST_BIT_ON RST_CONFCK_OK                        ;
 6924 000003F6 8B1A                   M           BF      RST_CONFCK_OK
 6925                             621                                                             ;
 6926                             622             _MONI_RESET_SET SETNO=10,SETREG=R0,WKREG=R1     ;DEBUG
 6927 000003F8 9003                   M           MOV.W   #10,R0
 6928 000003FA D103                   M           MOV.L   #_MONI_RESET_STEP,R1
 6929 000003FC 2101                   M           MOV.W   R0,@R1
 6930                             623             M_BRA   RST_CONFCK_NG                           ;2011-09-14 ADD
 6931 000003FE A013                   M           BRA     RST_CONFCK_NG
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    21
PROGRAM NAME =

 6932 00000400 0009                   M           NOP
 6933                             624     
 6934                             625     ;       -- 2011-09-14 ADD--
 6935                                     ***** BEGIN-POOL *****
 6936 00000402 000A                       DATA FOR SOURCE-LINE 622
 6937 00000404 00000000                   DATA FOR SOURCE-LINE 617
 6938 00000408 00000000                   DATA FOR SOURCE-LINE 622
 6939                                     ***** END-POOL *****
 6940 0000040C                    626     RST_CONFCK_BRK100:
 6941 0000040C D404               627             MOV.L   #_BRKTST_AREA_SIG,R4                    ;//BIT0/BIT4:待機点範囲
 6942 0000040E 6041               628             MOV.W   @R4,R0                                  ;//BIT1:下降(上昇信号はない)
 6943 00000410 C810               629             TST     #BIT4,R0                                ;
 6944                             630             TST_BIT_ON RST_CONFCK_OK                        ;
 6945 00000412 8B0C                   M           BF      RST_CONFCK_OK
 6946                             631     
 6947                             632             _MONI_RESET_SET SETNO=10,SETREG=R0,WKREG=R1     ;DEBUG
 6948 00000414 9003                   M           MOV.W   #10,R0
 6949 00000416 D103                   M           MOV.L   #_MONI_RESET_STEP,R1
 6950 00000418 2101                   M           MOV.W   R0,@R1
 6951                             633             M_BRA   RST_CONFCK_NG                           ;
 6952 0000041A A005                   M           BRA     RST_CONFCK_NG
 6953 0000041C 0009                   M           NOP
 6954                             634     
 6955                             635     
 6956                             636     
 6957                                     ***** BEGIN-POOL *****
 6958 0000041E 000A                       DATA FOR SOURCE-LINE 632
 6959 00000420 00000000                   DATA FOR SOURCE-LINE 627
 6960 00000424 00000000                   DATA FOR SOURCE-LINE 632
 6961                                     ***** END-POOL *****
 6962 00000428                    637     RST_CONFCK_NG:
 6963 00000428 E0FF               638             MOV     #-1,R0
 6964                             639             M_BRA   RST_CONFCK_END
 6965 0000042A A001                   M           BRA     RST_CONFCK_END
 6966 0000042C 0009                   M           NOP
 6967 0000042E                    640     RST_CONFCK_OK:
 6968 0000042E 200A               641             XOR     R0,R0                           ;ﾘｾｯﾄ可能
 6969 00000430                    642     RST_CONFCK_END:
 6970                             643             SUB_END
 6971                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 6972 00000430 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 6973                             644             M_RTS
 6974 00000432 000B                   M           RTS                             ;RTSの後ろの
 6975 00000434 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 6976                             645     
 6977                             646     
 6978                             647     ;       *******************************************
 6979                             648     ;       ***                                     ***
 6980                             649     ;       ***     モード変更                      ***
 6981                             650     ;       ***     (ﾘｾｯﾄ中だけでも良い)            ***
 6982                             651     ;       *******************************************
 6983                             652     ;       INP_MODE(ﾘｾｯﾄ条件に必要)=MODE_SEL INP_MODE=>MODE_SEL
 6984                             653     ;       BIT0:切
 6985                             654     ;       BIT1:寸動・寸動一行程
 6986                             655     ;       BIT2:安全一行程・OPTION安全一行程・一行程
 6987                             656     ;       BIT3:連続・連続ﾀｲﾏ・ｶｳﾝﾀ、連続寸動一行程、連続一行程
 6988                             657     ;       BIT4:OPTION
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    22
PROGRAM NAME =

 6989                             658     ;       BIT5:段取()
 6990                             659     ;       BIT6:強制上昇（待機点復帰）
 6991                             660     ;
 6992                             661     ;       BIT8:連続ﾀｲﾏ(BIT3=1)/寸動一行程(BIT1=1)
 6993                             662     ;       BIT9:連続ｶｳﾝﾀ(BIT3=1)
 6994                             663     ;       BIT10:一行程(BIT2=1)
 6995                             664     ;       BIT11:連続一行程(BIT4=1)
 6996                             665     ;       BIT12:連続寸動一行程(BIT4=1)
 6997                             666     ;       BIT13:
 6998                             667     ;       BIT14
 6999                             668     ;       BIT15
 7000                             669     ;
 7001                             670     ;
 7002 00000438                    671             .ALIGN  4                               ;
 7003 00000438                    672     _MODE_CHANGE:           ;==>ssa_cbmn.src
 7004                             673             SUB_START
 7005 00000438 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7006                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7007                             674     ;       U2b     INP_MODE;       //入力　ﾘｾｯﾄ条件に使用 INP_MODE-->MODE_SEL
 7008                             675     ;       U2b     MODE_SEL;       //ﾘｾｯﾄ時に決定
 7009                             676     ;                               //bit0:切 bit1寸動 bit2:安一(sgl,opt) bit3:連続 bit4:opt b
                                          it5:段取 bit6:待機点復帰
 7010                             677     ;                               //まずbit0~bit7のいずれかがonする　選択未は切(bit0)
 7011                             678     ;                               //bit8~bit15:詳細情報
 7012                             679     ;;;     MOV.L   #_reset_flg,R6                                  ;
 7013                             680     ;;;     MOV.W   @R6,R0                                          ;
 7014                             681     ;;;     TST     R0,R0                                           ;ﾘｾｯﾄ中?
 7015                             682     ;;;     TST_BIT_OF MODE_CHG_EXT                                 ;
 7016                             683     
 7017 0000043A D10B               684             MOV.L   #_di1_cb_ctl1_dt,R1                             ;// ﾚﾍﾞﾙﾃﾞ-ﾀ
 7018 0000043C 6011               685             MOV.W   @R1,R0                                          ;
 7019 0000043E C97F               686             AND     #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R0        ;
 7020                             687     
 7021 00000440 2008               688             TST     R0,R0                                   ;モード選択なし
 7022                             689             TST_BIT_ON MODE_CHG_050                         ;
 7023 00000442 8B00                   M           BF      MODE_CHG_050
 7024 00000444 CB01               690             OR      #_W1OFF,R0                              ;切
 7025 00000446                    691     MODE_CHG_050:                                           ;(複数個は異常だからここではみない
                                          )
 7026                             692     
 7027 00000446 C801               693             TST     #_W1OFF,R0
 7028                             694             TST_BIT_ON MODE_CHG_800                         ;切
 7029 00000448 8B5D                   M           BF      MODE_CHG_800
 7030                             695     
 7031 0000044A C810               696             TST     #_W1OPT,R0                              ;OPTION?
 7032                             697             TST_BIT_OF MODE_CHG_100                         ;
 7033 0000044C 893E                   M           BT      MODE_CHG_100
 7034                             698     
 7035                             699     ;       ==== OPTION ======(BIT10:一行程 BIT11:連続寸動 BIT12:連寸一 BIT13(安一))
 7036 0000044E D107               700             MOV.L   #_CB_SEQ_SW_SEL028,R1                   ;//SEQ 28
 7037 00000450 6211               701             MOV.W   @R1,R2                                  ;
 7038 00000452 9306               702             MOV.W   #(BIT14+BIT13+BIT12+BIT11+BIT10),R3     ;
 7039 00000454 2239               703             AND     R3,R2                                   ;
 7040 00000456 2228               704             TST     R2,R2                                   ;
 7041                             705             TST_BIT_ON MODE_CHG_080                         ;(NO 安全一行程以外)
 7042 00000458 8B0A                   M           BF      MODE_CHG_080
 7043                             706     ;       === 選択なし===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    23
PROGRAM NAME =

 7044 0000045A 9003               707             MOV.W   #_W1OFF,R0                              ;切
 7045 0000045C 222A               708             XOR     R2,R2                                   ;
 7046                             709             M_BRA   MODE_CHG_800                            ;
 7047 0000045E A052                   M           BRA     MODE_CHG_800
 7048 00000460 0009                   M           NOP
 7049                             710     
 7050                             711     
 7051                             712     ;       =====選択があれば安全一行程か一行程====
 7052                             713     ;       =====選択があれば安全一行程か一行程か連寸一か連続一行程====
 7053                                     ***** BEGIN-POOL *****
 7054 00000462 7C00                       DATA FOR SOURCE-LINE 702
 7055 00000464 0001                       DATA FOR SOURCE-LINE 707
 7056 00000466 0000                       ALIGNMENT CODE
 7057 00000468 00000000                   DATA FOR SOURCE-LINE 684
 7058 0000046C 00000000                   DATA FOR SOURCE-LINE 700
 7059                                     ***** END-POOL *****
 7060 00000470                    714     MODE_CHG_080:
 7061                             715     ;;2003-05-24 一行程追加 MOV.W   #BIT13,R3                               ;安全一行程
 7062                             716     ;;              XOR     R2,R2                                   ;
 7063                             717     ;;              MOV.W   #_W1SGL,R0                              ;安全一行程に変更
 7064                             718     ;;              M_BRA   MODE_CHG_800                            ;
 7065                             719     
 7066                             720     ;       ==== 2003-05-24 =====
 7067 00000470 9310               721             MOV.W   #BIT13,R3                                       ;安全一行程
 7068 00000472 2238               722             TST     R3,R2                                           ;
 7069                             723             TST_BIT_ON MODE_CHG_080_SGL                             ;
 7070 00000474 8B1E                   M           BF      MODE_CHG_080_SGL
 7071                             724     
 7072 00000476 930E               725             MOV.W   #BIT10,R3                                       ;一行程
 7073 00000478 2238               726             TST     R3,R2                                           ;
 7074                             727             TST_BIT_ON MODE_CHG_080_SNG                             ;
 7075 0000047A 8B20                   M           BF      MODE_CHG_080_SNG
 7076                             728     
 7077                             729     ;       ==== 2004-01-26
 7078 0000047C D107               730             MOV.L   #_WFSYS_OPT_CNT_SEL,R1                          ;
 7079 0000047E 6011               731             MOV.W   @R1,R0                                          ;
 7080 00000480 8801               732             CMP/EQ  #1,R0                                           ;連寸一有効?
 7081 00000482 8B12               733             BF      MODE_CHG_OPT090                                 ;
 7082                             734     
 7083 00000484 9308               735             MOV.W   #BIT11,R3                                       ;連続一行程
 7084 00000486 2238               736             TST     R3,R2                                           ;
 7085                             737             TST_BIT_ON MODE_CHG_OPT050                              ;
 7086 00000488 8B0A                   M           BF      MODE_CHG_OPT050
 7087                             738     
 7088 0000048A 9306               739             MOV.W   #BIT12,R3                                       ;連寸一行程
 7089 0000048C 2238               740             TST     R3,R2                                           ;
 7090                             741             TST_BIT_ON MODE_CHG_OPT050                              ;
 7091 0000048E 8B07                   M           BF      MODE_CHG_OPT050
 7092                             742             M_BRA   MODE_CHG_OPT090                                 ;
 7093 00000490 A00B                   M           BRA     MODE_CHG_OPT090
 7094 00000492 0009                   M           NOP
 7095                             743     
 7096                                     ***** BEGIN-POOL *****
 7097 00000494 2000                       DATA FOR SOURCE-LINE 721
 7098 00000496 0400                       DATA FOR SOURCE-LINE 725
 7099 00000498 0800                       DATA FOR SOURCE-LINE 735
 7100 0000049A 1000                       DATA FOR SOURCE-LINE 739
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    24
PROGRAM NAME =

 7101 0000049C 00000000                   DATA FOR SOURCE-LINE 730
 7102                                     ***** END-POOL *****
 7103 000004A0                    744     MODE_CHG_OPT050
 7104 000004A0 9002               745             MOV.W   #_W1CNT,R0                                      ;連続の運転の部類にいれる
 7105 000004A2 203B               746             OR      R3,R0                                           ;BIT11orBIT12
 7106                             747             M_BRA   MODE_CHG_800                                    ;
 7107 000004A4 A02F                   M           BRA     MODE_CHG_800
 7108 000004A6 0009                   M           NOP
 7109                             748     
 7110                             749     ;       === 選択なしと同じ扱い===
 7111                                     ***** BEGIN-POOL *****
 7112 000004A8 0008                       DATA FOR SOURCE-LINE 745
 7113                                     ***** END-POOL *****
 7114 000004AA                    750     MODE_CHG_OPT090
 7115 000004AA 9002               751             MOV.W   #_W1OFF,R0                                      ;切
 7116 000004AC 222A               752             XOR     R2,R2                                           ;
 7117                             753             M_BRA   MODE_CHG_800                                    ;
 7118 000004AE A02A                   M           BRA     MODE_CHG_800
 7119 000004B0 0009                   M           NOP
 7120                             754     
 7121                             755     ;       ==== 安全一行程(OPTIONも)===
 7122                                     ***** BEGIN-POOL *****
 7123 000004B2 0001                       DATA FOR SOURCE-LINE 751
 7124                                     ***** END-POOL *****
 7125 000004B4                    756     MODE_CHG_080_SGL:
 7126 000004B4 222A               757             XOR     R2,R2                                           ;S
 7127 000004B6 9001               758             MOV.W   #_W1SGL,R0                                      ;安全一行程に変更
 7128                             759             M_BRA   MODE_CHG_800                                    ;
 7129 000004B8 A025                   M           BRA     MODE_CHG_800
 7130 000004BA 0009                   M           NOP
 7131                             760     
 7132                                     ***** BEGIN-POOL *****
 7133 000004BC 0004                       DATA FOR SOURCE-LINE 758
 7134                                     ***** END-POOL *****
 7135 000004BE                    761     MODE_CHG_080_SNG:                                               ;SINGLE:一行程もﾓｰﾄﾞは安全
                                          一行程として扱う
 7136 000004BE 9203               762             MOV.W   #BIT10,R2                                       ;一行程
 7137 000004C0 9003               763             MOV.W   #_W1SGL,R0                                      ;
 7138 000004C2 202B               764             OR      R2,R0                                           ;BIT10+SGL
 7139                             765             M_BRA   MODE_CHG_800                                    ;
 7140 000004C4 A01F                   M           BRA     MODE_CHG_800
 7141 000004C6 0009                   M           NOP
 7142                             766     
 7143                                     ***** BEGIN-POOL *****
 7144 000004C8 0400                       DATA FOR SOURCE-LINE 762
 7145 000004CA 0004                       DATA FOR SOURCE-LINE 763
 7146                                     ***** END-POOL *****
 7147 000004CC                    767     MODE_CHG_100:                                           ;
 7148 000004CC C808               768             TST     #_W1CNT,R0                              ;連続
 7149                             769             TST_BIT_OF MODE_CHG_150                         ;
 7150 000004CE 8909                   M           BT      MODE_CHG_150
 7151                             770     ;       ==== 連続 =======
 7152 000004D0 D103               771             MOV.L   #_CB_SEQ_SW_SEL028,R1                   ;//SEQ 28
 7153 000004D2 6211               772             MOV.W   @R1,R2                                  ;
 7154 000004D4 9303               773             MOV.W   #(BIT9+BIT8),R3                         ;
 7155 000004D6 2239               774             AND     R3,R2                                   ;
 7156 000004D8 202B               775             OR      R2,R0                                   ;R0(W1CNT)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    25
PROGRAM NAME =

 7157                             776             M_BRA   MODE_CHG_800                            ;
 7158 000004DA A014                   M           BRA     MODE_CHG_800
 7159 000004DC 0009                   M           NOP
 7160                             777     
 7161                                     ***** BEGIN-POOL *****
 7162 000004DE 0300                       DATA FOR SOURCE-LINE 773
 7163 000004E0 00000000                   DATA FOR SOURCE-LINE 771
 7164                                     ***** END-POOL *****
 7165 000004E4                    778     MODE_CHG_150:                                           ;
 7166 000004E4 C802               779             TST     #_W1INC,R0                              ;寸動?
 7167                             780             TST_BIT_OF MODE_CHG_200                         ;
 7168 000004E6 890D                   M           BT      MODE_CHG_200
 7169                             781     ;       ==== 寸動 =======
 7170 000004E8 D105               782             MOV.L   #_CB_SEQ_SW_SEL028,R1                   ;//SEQ 28
 7171 000004EA 6211               783             MOV.W   @R1,R2                                  ;
 7172 000004EC 9405               784             MOV.W   #BIT3,R4                                ;
 7173 000004EE 2248               785             TST     R4,R2                                   ;
 7174                             786             TST_BIT_OF MODE_CHG_800                         ;
 7175 000004F0 8909                   M           BT      MODE_CHG_800
 7176 000004F2 9203               787             MOV.W   #BIT8,R2                                ;寸一
 7177 000004F4 202B               788             OR      R2,R0                                   ;
 7178                             789             M_BRA   MODE_CHG_800                            ;
 7179 000004F6 A006                   M           BRA     MODE_CHG_800
 7180 000004F8 0009                   M           NOP
 7181                             790     
 7182                                     ***** BEGIN-POOL *****
 7183 000004FA 0008                       DATA FOR SOURCE-LINE 784
 7184 000004FC 0100                       DATA FOR SOURCE-LINE 787
 7185 000004FE 0000                       ALIGNMENT CODE
 7186 00000500 00000000                   DATA FOR SOURCE-LINE 782
 7187                                     ***** END-POOL *****
 7188 00000504                    791     MODE_CHG_200:                                           ;
 7189 00000504 0009               792             NOP                                             ;
 7190 00000506                    793     MODE_CHG_800:                                           ;
 7191 00000506 D102               794             MOV.L   #_INP_MODE,R1                           ;一行程はOPTION+SGL
 7192 00000508 2101               795             MOV.W   R0,@R1                                  ;OPTIONの安全一はSGLだけ
 7193 0000050A                    796     MODE_CHG_EXT:                                           ;
 7194                             797     
 7195                             798             SUB_END
 7196                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7197 0000050A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7198                             799             M_RTS
 7199 0000050C 000B                   M           RTS                             ;RTSの後ろの
 7200 0000050E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7201                             800     
 7202                             801     ;       ***************************************************
 7203                             802     ;       ***                                             ***
 7204                             803     ;       ***     各モードでのﾘｾｯﾄ条件に必要な位置信号    ***
 7205                             804     ;       ***     _INP_MODEと_MODE_SELを使い分ける        ***
 7206                             805     ;       ***     また回転とその他で待機点が異なる        ***
 7207                             806     ;       ***     ()                                      ***
 7208                             807     ;       ***************************************************
 7209                                     ***** BEGIN-POOL *****
 7210 00000510 00000000                   DATA FOR SOURCE-LINE 794
 7211                                     ***** END-POOL *****
 7212 00000514                    808     _MODE_AREA_MAKE:                ;ssa_ctrl.src 待機点AREA作成
 7213                             809             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    26
PROGRAM NAME =

 7214 00000514 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7215                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7216 00000516 D102               810             MOV.L   #_SET1_MRTION_SEL1,R1   ;bit0~bit3
 7217                             811             SUB_END
 7218                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7219 00000518 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7220                             812             M_RTS
 7221 0000051A 000B                   M           RTS                             ;RTSの後ろの
 7222 0000051C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7223                             813     
 7224                             814     
 7225                             815     
 7226                             816     ;       *******************************************
 7227                             817     ;       ***                                     ***
 7228                             818     ;       ***     モード制御                      ***
 7229                             819     ;       ***                                     ***
 7230                             820     ;       *******************************************
 7231                             821     
 7232                                     ***** BEGIN-POOL *****
 7233 0000051E 0000                       ALIGNMENT CODE
 7234 00000520 00000000                   DATA FOR SOURCE-LINE 810
 7235                                     ***** END-POOL *****
 7236 00000524                    822     _MODE_CTRL:             ;==>ssa_cbmn.src
 7237                             823             SUB_START                       ;
 7238 00000524 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7239                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7240                             824     
 7241                             825     ;       -------------- EPﾁｪｯｸ 2014-06-04 ------------
 7242                             826             FAR_JSR #_EP_SENCER_CHECK,R0
 7243 00000526 D004                   M           MOV.L   #_EP_SENCER_CHECK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7244 00000528 400B                   M           JSR     @R0                     ;
 7245 0000052A 0009                   M           NOP                                     ;
 7246 0000052C D103               827             MOV.L   #_EPCHK_FLG,R1                  ;
 7247 0000052E 6011               828             MOV.W   @R1,R0                          ;
 7248 00000530 C801               829             TST     #BIT0,R0                        ;動作中
 7249                             830             TST_BIT_OF MODE_CTL_100                 ;
 7250 00000532 8905                   M           BT      MODE_CTL_100
 7251                             831             M_BRA   MODE_CTL_EXIT                   ;
 7252 00000534 A04B                   M           BRA     MODE_CTL_EXIT
 7253 00000536 0009                   M           NOP
 7254                             832     
 7255                                     ***** BEGIN-POOL *****
 7256 00000538 00000000                   DATA FOR SOURCE-LINE 826
 7257 0000053C 00000000                   DATA FOR SOURCE-LINE 827
 7258                                     ***** END-POOL *****
 7259 00000540                    833     MODE_CTL_100
 7260                             834     
 7261                             835     ;       ---------- 2010-08-20[制動モード]---------
 7262                             836             FAR_JSR #_BRKTST_CTRL,R0        ;
 7263 00000540 D026                   M           MOV.L   #_BRKTST_CTRL,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7264 00000542 400B                   M           JSR     @R0                     ;
 7265 00000544 0009                   M           NOP                                     ;
 7266                             837     
 7267                             838     
 7268                             839              .AIF   1 EQ 1  ;
 7269                             840 C   ;       -------- 2016-10-31 ADD 二重回路対策
 7270                             841              .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    27
PROGRAM NAME =

 7271                             842     ;       ---------- 2016-10-31(2016-05-11)----------
 7272                             843             FAR_JSR #_POSCTRL_CANSEL_RESET,R0
 7273 00000546 D026                   M           MOV.L   #_POSCTRL_CANSEL_RESET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7274 00000548 400B                   M           JSR     @R0                     ;
 7275 0000054A 0009                   M           NOP                                     ;
 7276                             844     
 7277                             845     ;       -------------ＳＷ情報でモードによっては異常にするため[2014-02-20 R02R03]----------
                                          -----
 7278                             846             FAR_JSR #_MASK2_SAFTY_MAK,R0            ;[SWの条件だけを作る]
 7279 0000054C D025                   M           MOV.L   #_MASK2_SAFTY_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7280 0000054E 400B                   M           JSR     @R0                     ;
 7281 00000550 0009                   M           NOP                                     ;
 7282                             847             FAR_JSR #_SFTY_MUTING_MODE_ERR,R0       ;
 7283 00000552 D025                   M           MOV.L   #_SFTY_MUTING_MODE_ERR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7284 00000554 400B                   M           JSR     @R0                     ;
 7285 00000556 0009                   M           NOP                                     ;
 7286                             848     
 7287                             849     
 7288 00000558 D124               850             MOV.L   #_reset_flg,R1          ;
 7289 0000055A 6011               851             MOV.W   @R1,R0                  ;
 7290 0000055C 2008               852             TST     R0,R0                   ;
 7291                             853             TST_BIT_ON MODE_CTL_EXIT        ;
 7292 0000055E 8B36                   M           BF      MODE_CTL_EXIT
 7293                             854     
 7294 00000560 D123               855             MOV.L   #_SELF_FLG,R1           ;//BIT0:ｾﾙﾌﾁｪｯｸ中 //BIT7
 7295 00000562 6011               856             MOV.W   @R1,R0                  ;
 7296 00000564 D223               857             MOV.L   #_SELF_COM,R2           ;//BIT0:ｾﾙﾌﾁｪｯｸ指令
 7297 00000566 6321               858             MOV.W   @R2,R3                  ;
 7298 00000568 203B               859             OR      R3,R0                   ;
 7299 0000056A C801               860             TST     #BIT0,R0                ;ｾﾙﾌ中またはｾﾙﾌｺﾏﾝﾄﾞON
 7300                             861             TST_BIT_ON MODE_CTL_EXIT        ;
 7301 0000056C 8B2F                   M           BF      MODE_CTL_EXIT
 7302                             862     
 7303 0000056E D122               863             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
 7304 00000570 6011               864             MOV.W   @R1,R0                  ;
 7305 00000572 2008               865             TST     R0,R0                   ;
 7306                             866             TST_BIT_ON MODE_CTL_ET900       ;2003-06-06[2-3]
 7307 00000574 8B21                   M           BF      MODE_CTL_ET900
 7308                             867     
 7309 00000576 D121               868             MOV.L   #_exq_err_flg,R1        ;//異常ﾗｯﾁ
 7310 00000578 6011               869             MOV.W   @R1,R0                  ;2003-06-06
 7311 0000057A 2008               870             TST     R0,R0                   ;
 7312                             871             TST_BIT_ON MODE_CTL_ET900       ;MODE_CTL_EXIT  ;2003-06-06[2-4]
 7313 0000057C 8B1D                   M           BF      MODE_CTL_ET900
 7314                             872     
 7315                             873     
 7316                             874             FAR_JSR #_ANTI_CHEAK,R0         ;(ｾﾙﾌﾁｪｯｸ開始条件､ｾﾙﾌﾁｪｯｸの開始)
 7317 0000057E D020                   M           MOV.L   #_ANTI_CHEAK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7318 00000580 400B                   M           JSR     @R0                     ;
 7319 00000582 0009                   M           NOP                                     ;
 7320                             875     
 7321                             876     
 7322                             877     
 7323                             878     ;       ------- 2014-06-06[EPｾﾝｻﾁｪｯｸ]
 7324 00000584 D11F               879             MOV.L   #_EPCHK_FLG,R1          ;
 7325 00000586 6011               880             MOV.W   @R1,R0                  ;
 7326 00000588 D11F               881             MOV.L   #_EPCHK_COM,R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    28
PROGRAM NAME =

 7327 0000058A 6211               882             MOV.W   @R1,R2                  ;
 7328 0000058C 202B               883             OR      R2,R0                   ;
 7329 0000058E C801               884             TST     #BIT0,R0                ;
 7330                             885             TST_BIT_ON MODE_CTL_EXIT        ;
 7331 00000590 8B1D                   M           BF      MODE_CTL_EXIT
 7332                             886     
 7333                             887     
 7334                             888     ;       ------- 2010-08-20[制動モード]
 7335 00000592 D11E               889             MOV.L   #_BRKTST_MOD_FLG,R1     ;
 7336 00000594 6011               890             MOV.W   @R1,R0                  ;
 7337 00000596 C801               891             TST     #BIT0,R0                ;
 7338                             892             TST_BIT_ON MODE_CTL_EXIT        ;
 7339 00000598 8B19                   M           BF      MODE_CTL_EXIT
 7340                             893     
 7341                             894     
 7342                             895     
 7343                             896     
 7344 0000059A D11D               897             MOV.L   #_IN_RDY_FLG,R1         ;//内部準備完了(ANTIと同じﾚﾍﾞﾙ)
 7345 0000059C 6011               898             MOV.W   @R1,R0                  ;
 7346 0000059E C801               899             TST     #BIT0,R0                ;内部準備完了
 7347                             900             TST_BIT_OF MODE_CTL_ET900       ;MODE_CTL_EXIT  ;2003-06-06[2-5]
 7348 000005A0 890B                   M           BT      MODE_CTL_ET900
 7349                             901     
 7350                             902             FAR_JSR #_TEPA_PLSCNT_CHK,R0    ;
 7351 000005A2 D01C                   M           MOV.L   #_TEPA_PLSCNT_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7352 000005A4 400B                   M           JSR     @R0                     ;
 7353 000005A6 0009                   M           NOP                                     ;
 7354                             903     
 7355                             904     ;       --------- 2007-12-24 --------
 7356                             905             FAR_JSR #_LOT_CNT_CNT,R0        ;
 7357 000005A8 D01B                   M           MOV.L   #_LOT_CNT_CNT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7358 000005AA 400B                   M           JSR     @R0                     ;
 7359 000005AC 0009                   M           NOP                                     ;
 7360                             906     
 7361                             907     
 7362                             908     ;;;;;;;2014-02-20       FAR_JSR #_MASK2_SAFTY_MAK,R0    ;[SWの条件だけを作る]
 7363                             909     
 7364                             910             FAR_JSR #_RDY_CHEAK,R0          ;運転動作
 7365 000005AE D01B                   M           MOV.L   #_RDY_CHEAK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7366 000005B0 400B                   M           JSR     @R0                     ;
 7367 000005B2 0009                   M           NOP                                     ;
 7368                             911             FAR_JSR #_RDY_HOLDSTP_FLGOUT,R0
 7369 000005B4 D01A                   M           MOV.L   #_RDY_HOLDSTP_FLGOUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7370 000005B6 400B                   M           JSR     @R0                     ;
 7371 000005B8 0009                   M           NOP                                     ;
 7372                             912     
 7373 000005BA                    913     MODE_CTL_ET900:                         ;
 7374                             914     
 7375                             915     ;       ==== 2003-06-06[2-2] ==
 7376 000005BA D11A               916             MOV.L   #_CPOS_CTL_MATH,R1              ;
 7377 000005BC 6011               917             MOV.W   @R1,R0                          ;
 7378                             918     ;;[2009-10-07下振子]    TST     #_DMATH_CNTROT,R0               ;
 7379 000005BE C805               919             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0               ;回転or往復
 7380                             920             TST_BIT_OF MODE_CTL_EXIT                ;
 7381 000005C0 8905                   M           BT      MODE_CTL_EXIT
 7382                             921             FAR_JSR #_DAI_MOSTPOS_SMPLE,R0          ;
 7383 000005C2 D019                   M           MOV.L   #_DAI_MOSTPOS_SMPLE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    29
PROGRAM NAME =

 7384 000005C4 400B                   M           JSR     @R0                     ;
 7385 000005C6 0009                   M           NOP                                     ;
 7386                             922     
 7387                             923     
 7388                             924             FAR_JSR #_KJPHOS_SAMPLING1,R0   ;2004-07-05
 7389 000005C8 D018                   M           MOV.L   #_KJPHOS_SAMPLING1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7390 000005CA 400B                   M           JSR     @R0                     ;
 7391 000005CC 0009                   M           NOP                                     ;
 7392                             925     
 7393 000005CE                    926     MODE_CTL_EXIT:                          ;
 7394                             927     
 7395                             928              .AIF   1 EQ 1  ;
 7396                             929 C   ;       -------- 2016-10-31 ADD 二重回路対策
 7397                             930              .AENDI
 7398                             931     
 7399                             932             FAR_JSR #_DEBUG_CMPERR_STSMAK,R0        ;2016-08-09
 7400 000005CE D018                   M           MOV.L   #_DEBUG_CMPERR_STSMAK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7401 000005D0 400B                   M           JSR     @R0                     ;
 7402 000005D2 0009                   M           NOP                                     ;
 7403                             933     
 7404                             934     
 7405                             935             SUB_END
 7406                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7407 000005D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7408                             936             M_RTS
 7409 000005D6 000B                   M           RTS                             ;RTSの後ろの
 7410 000005D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7411                             937     
 7412                             938     ;       *******************************************
 7413                             939     ;       ***             2016-08-09 調査用       ***
 7414                             940     ;       *******************************************
 7415                             941             .IMPORT _CPUB_DBG_MONI_STP      ;2016-08-12
 7416                                     ***** BEGIN-POOL *****
 7417 000005DA 0000                       ALIGNMENT CODE
 7418 000005DC 00000000                   DATA FOR SOURCE-LINE 836
 7419 000005E0 00000000                   DATA FOR SOURCE-LINE 843
 7420 000005E4 00000000                   DATA FOR SOURCE-LINE 846
 7421 000005E8 00000000                   DATA FOR SOURCE-LINE 847
 7422 000005EC 00000000                   DATA FOR SOURCE-LINE 850
 7423 000005F0 00000000                   DATA FOR SOURCE-LINE 855
 7424 000005F4 00000000                   DATA FOR SOURCE-LINE 857
 7425 000005F8 00000000                   DATA FOR SOURCE-LINE 863
 7426 000005FC 00000000                   DATA FOR SOURCE-LINE 868
 7427 00000600 00000000                   DATA FOR SOURCE-LINE 874
 7428 00000604 00000000                   DATA FOR SOURCE-LINE 879
 7429 00000608 00000000                   DATA FOR SOURCE-LINE 881
 7430 0000060C 00000000                   DATA FOR SOURCE-LINE 889
 7431 00000610 00000000                   DATA FOR SOURCE-LINE 897
 7432 00000614 00000000                   DATA FOR SOURCE-LINE 902
 7433 00000618 00000000                   DATA FOR SOURCE-LINE 905
 7434 0000061C 00000000                   DATA FOR SOURCE-LINE 910
 7435 00000620 00000000                   DATA FOR SOURCE-LINE 911
 7436 00000624 00000000                   DATA FOR SOURCE-LINE 916
 7437 00000628 00000000                   DATA FOR SOURCE-LINE 921
 7438 0000062C 00000000                   DATA FOR SOURCE-LINE 924
 7439 00000630 00000000                   DATA FOR SOURCE-LINE 932
 7440                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    30
PROGRAM NAME =

 7441 00000634                    942     _DEBUG_CMPERR_STSMAK                    ;2016-08-09
 7442                             943             SUB_START
 7443 00000634 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7444                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7445 00000636 200A               944             XOR     R0,R0
 7446 00000638 D113               945             MOV.L   #_STOP_LATCH_B,R1               ;
 7447 0000063A 6211               946             MOV.W   @R1,R2                          ;
 7448 0000063C 2228               947             TST     R2,R2                           ;
 7449                             948             TST_BIT_OF DEBUG_CMPERR_STSMK10         ;
 7450 0000063E 8900                   M           BT      DEBUG_CMPERR_STSMK10
 7451 00000640 CB01               949             OR      #BIT0,R0                        ;257.0/327.0
 7452 00000642                    950     DEBUG_CMPERR_STSMK10
 7453                             951     
 7454 00000642 D112               952             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
 7455 00000644 6211               953             MOV.W   @R1,R2
 7456 00000646 2228               954             TST     R2,R2                           ;
 7457                             955             TST_BIT_OF DEBUG_CMPERR_STSMK20         ;
 7458 00000648 8900                   M           BT      DEBUG_CMPERR_STSMK20
 7459 0000064A CB02               956             OR      #BIT1,R0                        ;257.1/327.1HANDはcpuaから見てだけをﾓﾆﾀ
 7460 0000064C                    957     DEBUG_CMPERR_STSMK20
 7461                             958     
 7462                             959     
 7463                             960             .AIF    0 EQ    0
 7464 0000064C D110               961 C           MOV.L   #_SH4_HD_CNT_STOP,R1            ;
 7465                             962             .AELSE
 7466                             963             MOV.L   #_SH2_HD_CNT_STOP,R1            ;
 7467                             964             .AENDI
 7468 0000064E 6211               965             MOV.W   @R1,R2
 7469 00000650 2228               966             TST     R2,R2                           ;
 7470                             967             TST_BIT_OF DEBUG_CMPERR_STSMK40         ;
 7471 00000652 8900                   M           BT      DEBUG_CMPERR_STSMK40
 7472 00000654 CB04               968             OR      #BIT2,R0                        ;257.2HANDはcpuaから見てだけをﾓﾆﾀcpua-data
 7473 00000656                    969     DEBUG_CMPERR_STSMK40
 7474                             970     
 7475                             971             .AIF    0 EQ    0
 7476 00000656 D10F               972 C           MOV.L   #_SH2_HD_CNT_STOP,R1            ;
 7477                             973             .AELSE
 7478                             974             MOV.L   #_SH4_HD_CNT_STOP,R1            ;
 7479                             975             .AENDI
 7480 00000658 6211               976             MOV.W   @R1,R2
 7481 0000065A 2228               977             TST     R2,R2                           ;
 7482                             978             TST_BIT_OF DEBUG_CMPERR_STSMK60         ;
 7483 0000065C 8900                   M           BT      DEBUG_CMPERR_STSMK60
 7484 0000065E CB08               979             OR      #BIT3,R0                        ;257.3HANDはcpuaから見てだけをﾓﾆﾀcpub-data
 7485 00000660                    980     DEBUG_CMPERR_STSMK60
 7486                             981     
 7487                             982     
 7488                             983             .AIF    0 EQ    0
 7489 00000660 D10D               984 C           MOV.L   #_SH4_HD_STEP_END,R1            ;(ﾊﾝﾄﾞｼｪｲｸ終了で自分でｸﾘｱ短い信号)
 7490                             985             .AELSE
 7491                             986             MOV.L   #_SH2_HD_STEP_END,R1            ;
 7492                             987             .AENDI
 7493 00000662 6211               988             MOV.W   @R1,R2
 7494 00000664 2228               989             TST     R2,R2                           ;
 7495                             990             TST_BIT_OF DEBUG_CMPERR_STSMK80         ;
 7496 00000666 8900                   M           BT      DEBUG_CMPERR_STSMK80
 7497 00000668 CB10               991             OR      #BIT4,R0                        ;257.4HANDはcpuaから見てだけをﾓﾆﾀcpua-data
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    31
PROGRAM NAME =

 7498 0000066A                    992     DEBUG_CMPERR_STSMK80
 7499                             993     
 7500                             994     
 7501                             995             .AIF    0 EQ    0
 7502 0000066A D10C               996 C           MOV.L   #_SH2_HD_STEP_END,R1            ;(ﾊﾝﾄﾞｼｪｲｸ終了で自分でｸﾘｱ短い信号)
 7503                             997             .AELSE
 7504                             998             MOV.L   #_SH4_HD_STEP_END,R1            ;
 7505                             999             .AENDI
 7506 0000066C 6211              1000             MOV.W   @R1,R2
 7507 0000066E 2228              1001             TST     R2,R2                           ;
 7508                            1002             TST_BIT_OF DEBUG_CMPERR_STSMK100        ;
 7509 00000670 8900                   M           BT      DEBUG_CMPERR_STSMK100
 7510 00000672 CB20              1003             OR      #BIT5,R0                        ;257.5HANDはcpuaから見てだけをﾓﾆﾀcpub-data
 7511 00000674                   1004     DEBUG_CMPERR_STSMK100
 7512                            1005     
 7513                            1006     
 7514                            1007     
 7515                            1008     
 7516 00000674 D10A              1009             MOV.L   #_CMPSTEP_STEP_END,R1   ;
 7517 00000676 6211              1010             MOV.W   @R1,R2
 7518 00000678 2228              1011             TST     R2,R2                           ;
 7519                            1012             TST_BIT_OF DEBUG_CMPERR_STSMK150        ;
 7520 0000067A 8900                   M           BT      DEBUG_CMPERR_STSMK150
 7521 0000067C CB40              1013             OR      #BIT6,R0                        ;257.6/327.6 END
 7522 0000067E                   1014     DEBUG_CMPERR_STSMK150
 7523                            1015     
 7524                            1016     
 7525 0000067E D109              1017             MOV.L   #_SQ_CBWK_TOP+_WKSQCB257,R1             ;257.0,1,2,3(END),4
 7526 00000680 2101              1018             MOV.W   R0,@R1
 7527                            1019     
 7528                            1020             .AIF    0 EQ    0
 7529                            1021 C   
 7530                            1022             .AELSE
 7531                            1023     
 7532                            1024             MOV.L   #_CNT_STOP_WAIT_TIM,R1
 7533                            1025             MOV.W   @R1,R0
 7534                            1026             MOV.L   #_CPUB_DBG_MONI_STP,R1  ;2016-08-12
 7535                            1027             MOV.W   R0,@R1                  ;
 7536                            1028     
 7537                            1029             MOV.L   #_CNT_STOP_DBG_CNT,R1   ;//2016-08-22 CHECK
 7538                            1030             MOV.W   @R1,R0
 7539                            1031             MOV.L   #_CPUB_DBG_MONI_CNT,R1  ;2016-08-22
 7540                            1032             MOV.W   R0,@R1                  ;
 7541                            1033     
 7542                            1034             .AENDI
 7543                            1035     
 7544                            1036             SUB_END
 7545                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7546 00000682 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7547                            1037             M_RTS
 7548 00000684 000B                   M           RTS                             ;RTSの後ろの
 7549 00000686 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7550                            1038     
 7551                            1039     ;       ***************************************************
 7552                            1040     ;       ***                                             ***
 7553                            1041     ;       ***     再起動防止OFF→ON条件,ON→OFF(ｾﾙﾌﾁｪｯｸ)  ***
 7554                            1042     ;       ***                                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    32
PROGRAM NAME =

 7555                            1043     ;       ***************************************************
 7556                            1044     ;       Output ANTI-SIGNAL
 7557                            1045     ;       Output IN_RDY_FLG
 7558                                     ***** BEGIN-POOL *****
 7559 00000688 00000000                   DATA FOR SOURCE-LINE 945
 7560 0000068C 00000000                   DATA FOR SOURCE-LINE 952
 7561 00000690 00000000                   DATA FOR SOURCE-LINE 961
 7562 00000694 00000000                   DATA FOR SOURCE-LINE 972
 7563 00000698 00000000                   DATA FOR SOURCE-LINE 984
 7564 0000069C 00000000                   DATA FOR SOURCE-LINE 996
 7565 000006A0 00000000                   DATA FOR SOURCE-LINE 1009
 7566 000006A4 00000000                   DATA FOR SOURCE-LINE 1017
 7567                                     ***** END-POOL *****
 7568 000006A8                   1046     _ANTI_CHEAK:
 7569                            1047             SUB_START
 7570 000006A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7571                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7572                            1048     
 7573 000006AA D114              1049             MOV.L   #_dq1_cb_out1,R1        ;//+0:制御出力(203)
 7574 000006AC 6011              1050             MOV.W   @R1,R0                  ;
 7575 000006AE C810              1051             TST     #_WOANT,R0              ;ANTI
 7576                            1052             TST_BIT_ON ANTI_CHK_0500        ;
 7577 000006B0 8B46                   M           BF      ANTI_CHK_0500
 7578                            1053     
 7579                            1054     ;       ===================================
 7580                            1055     ;       ===     ANTI - OFF 中           ===
 7581                            1056     ;       ===     ANTI - ON またはｾﾙﾌﾁｪｯｸ ===
 7582                            1057     ;       ===================================
 7583 000006B2 D113              1058             MOV.L   #_MODE_SEL,R1                   ;
 7584 000006B4 6011              1059             MOV.W   @R1,R0                          ;
 7585 000006B6 C801              1060             TST     #_W1OFF,R0                      ;切?
 7586                            1061             TST_BIT_ON ANTI_CHK_EXIT                ;ﾘｾｯﾄ不可
 7587 000006B8 8B4C                   M           BF      ANTI_CHK_EXIT
 7588                            1062     
 7589                            1063     ;;;全モードセルフチェックを行う
 7590                            1064     ;;;2006-05-09   MOV.W   #(_W1DUP+_W1DIC+_W1INC),R1      ;
 7591                            1065     ;;;2006-05-09   TST     R1,R0                           ;
 7592                            1066     ;;;2006-05-09   TST_BIT_ON ANTI_CHK_0100                ;寸動等
 7593                            1067     
 7594 000006BA D112              1068             MOV.L   #_SELF_FLG,R1                   ;
 7595 000006BC 6011              1069             MOV.W   @R1,R0                          ;
 7596 000006BE C880              1070             TST     #BIT7,R0                        ;ｾﾙﾌﾁｪｯｸ完了?
 7597                            1071             TST_BIT_OF ANTI_CHK_0150                ;(ｾﾙﾌﾁｪｯｸ未完了)
 7598 000006C0 892E                   M           BT      ANTI_CHK_0150
 7599                            1072     
 7600 000006C2                   1073     ANTI_CHK_0100:                                  ;
 7601                            1074             FAR_JSR #_TEPA_PLSCNT_CLR,R0            ;2006-07-28
 7602 000006C2 D011                   M           MOV.L   #_TEPA_PLSCNT_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7603 000006C4 400B                   M           JSR     @R0                     ;
 7604 000006C6 0009                   M           NOP                                     ;
 7605                            1075             FAR_JSR #_ANTI_ON,R1                    ;ANTI-ON
 7606 000006C8 D110                   M           MOV.L   #_ANTI_ON,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7607 000006CA 410B                   M           JSR     @R1                     ;
 7608 000006CC 0009                   M           NOP                                     ;
 7609                            1076             MEM1_DATA_SET MEM=_IN_RDY_FLG,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2        ;内部準備
                                          完了
 7610 000006CE D110                   M           MOV.L   #_IN_RDY_FLG,R1         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    33
PROGRAM NAME =

 7611 000006D0 9212                   M           MOV.W   #BIT0,R2                ;
 7612 000006D2 2121                   M           MOV.W   R2,@R1  ;
 7613                            1077     
 7614                            1078     ;       ------ 2006-04-10 ------
 7615                            1079             MEM1_DATA_SET MEM=_SELF_COM,LG=W,DATA=0,WKREG1=R1,WKREG2=R2     ;
 7616 000006D4 D10F                   M           MOV.L   #_SELF_COM,R1           ;
 7617 000006D6 9210                   M           MOV.W   #0,R2           ;
 7618 000006D8 2121                   M           MOV.W   R2,@R1  ;
 7619                            1080             MEM1_DATA_SET MEM=_SELF_FLG,LG=W,DATA=0,WKREG1=R1,WKREG2=R2     ;
 7620 000006DA D10A                   M           MOV.L   #_SELF_FLG,R1           ;
 7621 000006DC 920D                   M           MOV.W   #0,R2           ;
 7622 000006DE 2121                   M           MOV.W   R2,@R1  ;
 7623                            1081     
 7624                            1082     
 7625                            1083     ;       -----REQ-ON--------
 7626 000006E0 D10D              1084             MOV.L   #_EPCHK_FLG,R1          ;
 7627 000006E2 6011              1085             MOV.W   @R1,R0                  ;
 7628 000006E4 C880              1086             TST     #BIT7,R0                ;
 7629                            1087             TST_BIT_ON ANTI_CHK_0130        ;正常完了している
 7630 000006E6 8B05                   M           BF      ANTI_CHK_0130
 7631                            1088             MEM1_DATA_SET MEM=_EPCHK_COM,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2 ;
 7632 000006E8 D10C                   M           MOV.L   #_EPCHK_COM,R1          ;
 7633 000006EA 9205                   M           MOV.W   #BIT0,R2                ;
 7634 000006EC 2121                   M           MOV.W   R2,@R1  ;
 7635                            1089             MEM1_DATA_SET MEM=_EPCHK_FLG,LG=W,DATA=0,WKREG1=R1,WKREG2=R2    ;
 7636 000006EE D10A                   M           MOV.L   #_EPCHK_FLG,R1          ;
 7637 000006F0 9203                   M           MOV.W   #0,R2           ;
 7638 000006F2 2121                   M           MOV.W   R2,@R1  ;
 7639 000006F4                   1090     ANTI_CHK_0130:
 7640                            1091     
 7641                            1092     
 7642                            1093     
 7643                            1094             M_BRA   ANTI_CHK_EXIT                   ;
 7644 000006F4 A02E                   M           BRA     ANTI_CHK_EXIT
 7645 000006F6 0009                   M           NOP
 7646                            1095     
 7647                                     ***** BEGIN-POOL *****
 7648 000006F8 0001                       DATA FOR SOURCE-LINE 1076,1088
 7649 000006FA 0000                       DATA FOR SOURCE-LINE 1079,1080,1089
 7650 000006FC 00000000                   DATA FOR SOURCE-LINE 1049
 7651 00000700 00000000                   DATA FOR SOURCE-LINE 1058
 7652 00000704 00000000                   DATA FOR SOURCE-LINE 1068,1080
 7653 00000708 00000000                   DATA FOR SOURCE-LINE 1074
 7654 0000070C 00000000                   DATA FOR SOURCE-LINE 1075
 7655 00000710 00000000                   DATA FOR SOURCE-LINE 1076
 7656 00000714 00000000                   DATA FOR SOURCE-LINE 1079
 7657 00000718 00000000                   DATA FOR SOURCE-LINE 1084,1089
 7658 0000071C 00000000                   DATA FOR SOURCE-LINE 1088
 7659                                     ***** END-POOL *****
 7660 00000720                   1096     ANTI_CHK_0150:
 7661                            1097     
 7662                            1098             FAR_JSR #_SELF_START_CONF,R1            ;ANS R0=00(ｾﾙﾌﾁｪｯｸ開始可能)
 7663 00000720 D105                   M           MOV.L   #_SELF_START_CONF,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7664 00000722 410B                   M           JSR     @R1                     ;
 7665 00000724 0009                   M           NOP                                     ;
 7666 00000726 2008              1099             TST     R0,R0                           ;
 7667                            1100             TST_BIT_ON ANTI_CHK_EXIT                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    34
PROGRAM NAME =

 7668 00000728 8B14                   M           BF      ANTI_CHK_EXIT
 7669                            1101     
 7670                            1102             MEM1_DATA_SET MEM=_SELF_COM,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2  ;ｾﾙﾌ開始ｺﾏﾝﾄﾞ
 7671 0000072A D104                   M           MOV.L   #_SELF_COM,R1           ;
 7672 0000072C 9202                   M           MOV.W   #BIT0,R2                ;
 7673 0000072E 2121                   M           MOV.W   R2,@R1  ;
 7674                            1103             M_BRA   ANTI_CHK_EXIT                   ;
 7675 00000730 A010                   M           BRA     ANTI_CHK_EXIT
 7676 00000732 0009                   M           NOP
 7677                            1104     
 7678                            1105     
 7679                            1106     ;       ===================================
 7680                            1107     ;       ===     ANTI - ON 中            ===
 7681                            1108     ;       ===================================
 7682                                     ***** BEGIN-POOL *****
 7683 00000734 0001                       DATA FOR SOURCE-LINE 1102
 7684 00000736 0000                       ALIGNMENT CODE
 7685 00000738 00000000                   DATA FOR SOURCE-LINE 1098
 7686 0000073C 00000000                   DATA FOR SOURCE-LINE 1102
 7687                                     ***** END-POOL *****
 7688 00000740                   1109     ANTI_CHK_0500:
 7689 00000740 D106              1110             MOV.L   #_IN_RDY_FLG,R1                 ;(待機点停止時に発生する:今回これは発生さ
                                          せない)
 7690 00000742 6011              1111             MOV.W   @R1,R0                          ;
 7691 00000744 C801              1112             TST     #BIT0,R0                        ;
 7692                            1113             TST_BIT_ON ANTI_CHK_EXIT                ;
 7693 00000746 8B05                   M           BF      ANTI_CHK_EXIT
 7694                            1114     
 7695                            1115             FAR_JSR #_ANTI_OF,R1                    ;ｾﾙﾌﾁｪｯｸ未完SET
 7696 00000748 D105                   M           MOV.L   #_ANTI_OF,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7697 0000074A 410B                   M           JSR     @R1                     ;
 7698 0000074C 0009                   M           NOP                                     ;
 7699 0000074E 200A              1116             XOR     R0,R0
 7700 00000750 D104              1117             MOV.L   #_SELF_FLG,R1                   ;
 7701 00000752 2101              1118             MOV.W   R0,@R1                          ;
 7702                            1119     
 7703 00000754                   1120     ANTI_CHK_EXIT:
 7704                            1121     
 7705                            1122             SUB_END
 7706                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7707 00000754 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7708                            1123             M_RTS
 7709 00000756 000B                   M           RTS                             ;RTSの後ろの
 7710 00000758 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7711                            1124     
 7712                            1125     
 7713                            1126     ;       ***************************************************
 7714                            1127     ;       ***                                             ***
 7715                            1128     ;       ***     準備完了・起動                          ***
 7716                            1129     ;       ***                                             ***
 7717                            1130     ;       ***************************************************
 7718                            1131     ;       U2b     DRV_ACT_FLG;    //運転動作ﾌﾗｸﾞ BIT0:運転中
 7719                            1132     ;       U2b     BTTN_FLG;       //BIT0:両手ﾌﾘ- BIT1:片手ON　BIT2:両手ON
 7720                            1133             .IMPORT _SH4_HD_HLDSTOP2        ;
 7721                            1134             .IMPORT _SH2_HD_HLDSTOP2        ;
 7722                            1135     
 7723                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    35
PROGRAM NAME =

 7724 0000075A 0000                       ALIGNMENT CODE
 7725 0000075C 00000000                   DATA FOR SOURCE-LINE 1110
 7726 00000760 00000000                   DATA FOR SOURCE-LINE 1115
 7727 00000764 00000000                   DATA FOR SOURCE-LINE 1117
 7728                                     ***** END-POOL *****
 7729 00000768                   1136     _RDY_CHEAK:
 7730                            1137             SUB_START
 7731 00000768 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7732                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7733                            1138     
 7734                            1139     ;       -------------------------------------------
 7735                            1140     ;       ---                                     ---
 7736                            1141     ;       -------------------------------------------
 7737                            1142             FAR_JSR #_POSHLD1_SIG_CHK,R0            ;
 7738 0000076A D008                   M           MOV.L   #_POSHLD1_SIG_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7739 0000076C 400B                   M           JSR     @R0                     ;
 7740 0000076E 0009                   M           NOP                                     ;
 7741                            1143     
 7742                            1144                                             ;"HOLD-CMDは必ず動作中で行うこと"
 7743 00000770 D107              1145             MOV.L   #_POS_HOLD_FLG,R1       ;BIT0=1:減速状態[既に停止ｺﾏﾝﾄﾞは個別ｿﾌﾄで発行して
                                          いる]
 7744 00000772 6011              1146             MOV.W   @R1,R0                  ;BIT1=1:位置決め完了状態
 7745 00000774 2008              1147             TST     R0,R0                   ;
 7746                            1148             TST_BIT_ON RDY_HOLDCHK_0100
 7747 00000776 8B0F                   M           BF      RDY_HOLDCHK_0100
 7748                            1149     
 7749 00000778 D106              1150             MOV.L   #_POS_HOLD_CMD,R1                                               ;BIT0~BIT6
                                          の7個まで受け付ける
 7750 0000077A 6011              1151             MOV.W   @R1,R0                                                          ;
 7751 0000077C 2008              1152             TST     R0,R0                                                           ;
 7752                            1153             TST_BIT_OF RDY_HOLDCHK_END                                              ;
 7753 0000077E 8965                   M           BT      RDY_HOLDCHK_END
 7754                            1154     
 7755                            1155             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_FLG,LG=W,BIT=BIT0,WKREG=R1        ;bit-set
 7756 00000780 D103                   M           MOV.L   #_POS_HOLD_FLG,R1               ;
 7757 00000782 6011                   M           MOV.W   @R1,R0          ;
 7758 00000784 CB01                   M           OR      #BIT0,R0                ;
 7759 00000786 2101                   M           MOV.W   R0,@R1          ;
 7760                            1156             M_BRA   RDY_HOLDCHK_1000
 7761 00000788 A054                   M           BRA     RDY_HOLDCHK_1000
 7762 0000078A 0009                   M           NOP
 7763                            1157     
 7764                                     ***** BEGIN-POOL *****
 7765 0000078C 00000000                   DATA FOR SOURCE-LINE 1142
 7766 00000790 00000000                   DATA FOR SOURCE-LINE 1145,1155
 7767 00000794 00000000                   DATA FOR SOURCE-LINE 1150
 7768                                     ***** END-POOL *****
 7769 00000798                   1158     RDY_HOLDCHK_0100
 7770 00000798 C802              1159             TST     #BIT1,R0                                                        ;位置決め
                                          完了状態?
 7771                            1160             TST_BIT_ON RDY_HOLDCHK_0200                                             ;
 7772 0000079A 8B19                   M           BF      RDY_HOLDCHK_0200
 7773                            1161     
 7774                            1162             FAR_JSR #_POSHLD1_STOPBTTNCMD_CHK,R0
 7775 0000079C D008                   M           MOV.L   #_POSHLD1_STOPBTTNCMD_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7776 0000079E 400B                   M           JSR     @R0                     ;
 7777 000007A0 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    36
PROGRAM NAME =

 7778                            1163     
 7779 000007A2 D108              1164             MOV.L   #_DRV_ACT_FLG,R1                                                ;//運転動
                                          作ﾌﾗｸﾞ BIT0:運転中
 7780 000007A4 6011              1165             MOV.W   @R1,R0                                                          ;
 7781 000007A6 C801              1166             TST     #BIT0,R0                                                        ;運転中?
 7782                            1167             TST_BIT_ON RDY_HOLDCHK_1000                                             ;YES 状態
                                          維持
 7783 000007A8 8B44                   M           BF      RDY_HOLDCHK_1000
 7784                            1168     
 7785                            1169             FAR_JSR #_HOLD_STOP_BA_JG,R0                                            ;
 7786 000007AA D007                   M           MOV.L   #_HOLD_STOP_BA_JG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7787 000007AC 400B                   M           JSR     @R0                     ;
 7788 000007AE 0009                   M           NOP                                     ;
 7789 000007B0 2008              1170             TST     R0,R0                                                           ;
 7790                            1171             TST_BIT_OF RDY_HOLDCHK_1999                                             ;相手停止?
                                          NO
 7791 000007B2 8949                   M           BT      RDY_HOLDCHK_1999
 7792                            1172     
 7793                            1173             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_FLG,LG=W,BIT=BIT1,WKREG=R1        ;bit-set
 7794 000007B4 D105                   M           MOV.L   #_POS_HOLD_FLG,R1               ;
 7795 000007B6 6011                   M           MOV.W   @R1,R0          ;
 7796 000007B8 CB02                   M           OR      #BIT1,R0                ;
 7797 000007BA 2101                   M           MOV.W   R0,@R1          ;
 7798                            1174             M_BRA   RDY_HOLDCHK_1999
 7799 000007BC A044                   M           BRA     RDY_HOLDCHK_1999
 7800 000007BE 0009                   M           NOP
 7801                            1175     
 7802                            1176     
 7803                            1177     ;       ---------------- 再スタート---------------------
 7804                                     ***** BEGIN-POOL *****
 7805 000007C0 00000000                   DATA FOR SOURCE-LINE 1162
 7806 000007C4 00000000                   DATA FOR SOURCE-LINE 1164
 7807 000007C8 00000000                   DATA FOR SOURCE-LINE 1169
 7808 000007CC 00000000                   DATA FOR SOURCE-LINE 1173
 7809                                     ***** END-POOL *****
 7810 000007D0                   1178     RDY_HOLDCHK_0200:
 7811                            1179             FAR_JSR #_POSHLD1_STOPBTTNCMD_CHK,R0
 7812 000007D0 D010                   M           MOV.L   #_POSHLD1_STOPBTTNCMD_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7813 000007D2 400B                   M           JSR     @R0                     ;
 7814 000007D4 0009                   M           NOP                                     ;
 7815                            1180     
 7816                            1181             FAR_JSR #_POS_HOLD_RESTART_CHK,R0       ;ｺﾏﾝﾄﾞ発行
 7817 000007D6 D010                   M           MOV.L   #_POS_HOLD_RESTART_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7818 000007D8 400B                   M           JSR     @R0                     ;
 7819 000007DA 0009                   M           NOP                                     ;
 7820                            1182     
 7821 000007DC D10F              1183             MOV.L   #_POS_HOLD_RESTARTCMD,R1        ;
 7822 000007DE 6011              1184             MOV.W   @R1,R0                          ;
 7823 000007E0 2008              1185             TST     R0,R0                           ;
 7824                            1186             TST_BIT_OF RDY_HOLDCHK_1999             ;
 7825 000007E2 8931                   M           BT      RDY_HOLDCHK_1999
 7826 000007E4 6007              1187             NOT     R0,R0                           ;
 7827 000007E6 D10E              1188             MOV.L   #_POS_HOLD_CMD,R1               ;BIT0~BIT6の7個まで受け付ける
 7828 000007E8 6211              1189             MOV.W   @R1,R2                          ;
 7829 000007EA 2209              1190             AND     R0,R2                           ;
 7830 000007EC 2121              1191             MOV.W   R2,@R1                          ;
 7831 000007EE 2228              1192             TST     R2,R2                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    37
PROGRAM NAME =

 7832                            1193             TST_BIT_ON RDY_HOLDCHK_1999             ;
 7833 000007F0 8B2A                   M           BF      RDY_HOLDCHK_1999
 7834                            1194     
 7835                            1195     ;       -------- 全てのHOLD条件無し -----------
 7836                            1196             FAR_JSR #_HOLD_RESTART_OF_OUT,R0        ;
 7837 000007F2 D00C                   M           MOV.L   #_HOLD_RESTART_OF_OUT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7838 000007F4 400B                   M           JSR     @R0                     ;
 7839 000007F6 0009                   M           NOP                                     ;
 7840                            1197             FAR_JSR #_HOLD_RESTART_BA_JG,R0         ;
 7841 000007F8 D00B                   M           MOV.L   #_HOLD_RESTART_BA_JG,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7842 000007FA 400B                   M           JSR     @R0                     ;
 7843 000007FC 0009                   M           NOP                                     ;
 7844 000007FE 2008              1198             TST     R0,R0                           ;
 7845                            1199             TST_BIT_ON RDY_HOLDCHK_1999             ;
 7846 00000800 8B22                   M           BF      RDY_HOLDCHK_1999
 7847                            1200             FAR_JSR #_POS_HOLD_FLG_CLR,R0           ;
 7848 00000802 D00A                   M           MOV.L   #_POS_HOLD_FLG_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7849 00000804 400B                   M           JSR     @R0                     ;
 7850 00000806 0009                   M           NOP                                     ;
 7851                            1201     
 7852 00000808 E001              1202             MOV.B   #BIT0,R0                        ;
 7853 0000080A D109              1203             MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;
 7854 0000080C 2101              1204             MOV.W   R0,@R1                          ;
 7855                            1205             M_BRA   RDY_CHK_0220                    ;再起動
 7856 0000080E A139                   M           BRA     RDY_CHK_0220
 7857 00000810 0009                   M           NOP
 7858                            1206     
 7859                                     ***** BEGIN-POOL *****
 7860 00000812 0000                       ALIGNMENT CODE
 7861 00000814 00000000                   DATA FOR SOURCE-LINE 1179
 7862 00000818 00000000                   DATA FOR SOURCE-LINE 1181
 7863 0000081C 00000000                   DATA FOR SOURCE-LINE 1183
 7864 00000820 00000000                   DATA FOR SOURCE-LINE 1188
 7865 00000824 00000000                   DATA FOR SOURCE-LINE 1196
 7866 00000828 00000000                   DATA FOR SOURCE-LINE 1197
 7867 0000082C 00000000                   DATA FOR SOURCE-LINE 1200
 7868 00000830 00000000                   DATA FOR SOURCE-LINE 1203
 7869                                     ***** END-POOL *****
 7870 00000834                   1207     RDY_HOLDCHK_1000
 7871 00000834 D102              1208             MOV.L   #_END_CMD_LATCH,R1              ;
 7872 00000836 6011              1209             MOV.W   @R1,R0                          ;
 7873 00000838 2008              1210             TST     R0,R0                           ;
 7874                            1211             TST_BIT_ON RDY_HOLDCHK_1200             ;
 7875 0000083A 8B03                   M           BF      RDY_HOLDCHK_1200
 7876                            1212             M_BRA   RDY_CHK_1000                    ;
 7877 0000083C A259                   M           BRA     RDY_CHK_1000
 7878 0000083E 0009                   M           NOP
 7879                                     ***** BEGIN-POOL *****
 7880 00000840 00000000                   DATA FOR SOURCE-LINE 1208
 7881                                     ***** END-POOL *****
 7882 00000844                   1213     RDY_HOLDCHK_1200
 7883                            1214             M_BRA   RDY_CHK_1200                    ;
 7884 00000844 A26E                   M           BRA     RDY_CHK_1200
 7885 00000846 0009                   M           NOP
 7886                            1215     
 7887 00000848                   1216     RDY_HOLDCHK_1999
 7888                            1217             M_BRA   RDY_CHK_EXIT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    38
PROGRAM NAME =

 7889 00000848 A29D                   M           BRA     RDY_CHK_EXIT
 7890 0000084A 0009                   M           NOP
 7891                            1218     
 7892 0000084C                   1219     RDY_HOLDCHK_END
 7893                            1220     
 7894                            1221     
 7895                            1222     
 7896                            1223     
 7897                            1224     
 7898                            1225     
 7899                            1226     ;       ==== 2003-07-09(非運転状態ではｻｲｸﾙ速度表示ON) ====
 7900                            1227             FAR_JSR #_CNT_CYCL_DISP_ST,R0   ;表示する(表示したくないならこのｽｷｬﾝ内に表示しない
                                          をONする)
 7901 0000084C D006                   M           MOV.L   #_CNT_CYCL_DISP_ST,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7902 0000084E 400B                   M           JSR     @R0                     ;
 7903 00000850 0009                   M           NOP                                     ;
 7904                            1228     ;       ================================
 7905 00000852 D106              1229             MOV.L   #_DRV_ACT_FLG,R1        ;//運転動作ﾌﾗｸﾞ BIT0:運転中
 7906 00000854 6011              1230             MOV.W   @R1,R0                  ;
 7907 00000856 C801              1231             TST     #BIT0,R0                ;運転中?
 7908                            1232             TST_BIT_OF RDY_CHK_0050         ;
 7909 00000858 890E                   M           BT      RDY_CHK_0050
 7910                            1233     ;       ===============================
 7911 0000085A D105              1234             MOV.L   #_CMPSTEP_POS_START,R1  ;//起動したい
 7912 0000085C 6011              1235             MOV.W   @R1,R0                  ;
 7913 0000085E 2008              1236             TST     R0,R0                   ;
 7914                            1237             TST_BIT_ON RDY_CHK_0030         ;
 7915 00000860 8B08                   M           BF      RDY_CHK_0030
 7916                            1238             M_BRA   RDY_CHK_1200            ;(終了待ち)
 7917 00000862 A25F                   M           BRA     RDY_CHK_1200
 7918 00000864 0009                   M           NOP
 7919                            1239     
 7920                                     ***** BEGIN-POOL *****
 7921 00000866 0000                       ALIGNMENT CODE
 7922 00000868 00000000                   DATA FOR SOURCE-LINE 1227
 7923 0000086C 00000000                   DATA FOR SOURCE-LINE 1229
 7924 00000870 00000000                   DATA FOR SOURCE-LINE 1234
 7925                                     ***** END-POOL *****
 7926 00000874                   1240     RDY_CHK_0030:
 7927                            1241             M_BRA   RDY_CHK_0500            ;通常の位置決め状態
 7928 00000874 A1B2                   M           BRA     RDY_CHK_0500
 7929 00000876 0009                   M           NOP
 7930                            1242     
 7931 00000878                   1243     RDY_CHK_0050:
 7932                            1244     ;       ----------------------------------------------
 7933                            1245             _MONI_RDY_SET SETNO=1,SETREG=R0,WKREG=R1        ;2014-09-13
 7934 00000878 9007                   M           MOV.W   #1,R0
 7935 0000087A D104                   M           MOV.L   #_MONI_RDY_STEP,R1
 7936 0000087C 2101                   M           MOV.W   R0,@R1
 7937                            1246     ;       ----------------------------------------------
 7938                            1247     
 7939 0000087E D104              1248             MOV.L   #_CMPSTEP_POS_START,R1  ;//起動したい
 7940 00000880 6011              1249             MOV.W   @R1,R0                  ;
 7941 00000882 2008              1250             TST     R0,R0                   ;
 7942                            1251             TST_BIT_OF RDY_CHK_0060         ;
 7943 00000884 8906                   M           BT      RDY_CHK_0060
 7944                            1252             M_BRA   RDY_CHK_0200_START_WAIT ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    39
PROGRAM NAME =

 7945 00000886 A115                   M           BRA     RDY_CHK_0200_START_WAIT
 7946 00000888 0009                   M           NOP
 7947                            1253     
 7948                                     ***** BEGIN-POOL *****
 7949 0000088A 0001                       DATA FOR SOURCE-LINE 1245
 7950 0000088C 00000000                   DATA FOR SOURCE-LINE 1245
 7951 00000890 00000000                   DATA FOR SOURCE-LINE 1248
 7952                                     ***** END-POOL *****
 7953 00000894                   1254     RDY_CHK_0060:
 7954                            1255     ;       ----------------------------------------------
 7955                            1256             _MONI_RDY_SET SETNO=2,SETREG=R0,WKREG=R1        ;2014-09-13
 7956 00000894 900A                   M           MOV.W   #2,R0
 7957 00000896 D106                   M           MOV.L   #_MONI_RDY_STEP,R1
 7958 00000898 2101                   M           MOV.W   R0,@R1
 7959                            1257     ;       ----------------------------------------------
 7960                            1258     
 7961                            1259     ;       ------- 2007-01-16--
 7962                            1260     
 7963                            1261     
 7964                            1262     ;       ------- 2006-07-28---
 7965                            1263             FAR_JSR #_ORGIN_MODE_START_WAIT,R0      ;
 7966 0000089A D006                   M           MOV.L   #_ORGIN_MODE_START_WAIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7967 0000089C 400B                   M           JSR     @R0                     ;
 7968 0000089E 0009                   M           NOP                                     ;
 7969 000008A0 2008              1264             TST     R0,R0
 7970                            1265             TST_BIT_OF RDY_CHK_0070
 7971 000008A2 890B                   M           BT      RDY_CHK_0070
 7972 000008A4 8855              1266             CMP/EQ  #H'55,R0                        ;
 7973 000008A6 8B07              1267             BF      ORGIN_MODE_START_WT10           ;
 7974                            1268             M_BRA   RDY_CHK_0220                    ;55:起動
 7975 000008A8 A0EC                   M           BRA     RDY_CHK_0220
 7976 000008AA 0009                   M           NOP
 7977                                     ***** BEGIN-POOL *****
 7978 000008AC 0002                       DATA FOR SOURCE-LINE 1256
 7979 000008AE 0000                       ALIGNMENT CODE
 7980 000008B0 00000000                   DATA FOR SOURCE-LINE 1256
 7981 000008B4 00000000                   DATA FOR SOURCE-LINE 1263
 7982                                     ***** END-POOL *****
 7983 000008B8                   1269     ORGIN_MODE_START_WT10
 7984                            1270             M_BRA   RDY_CHK_0399                    ;-1
 7985 000008B8 A186                   M           BRA     RDY_CHK_0399
 7986 000008BA 0009                   M           NOP
 7987                            1271     
 7988 000008BC                   1272     RDY_CHK_0070:
 7989                            1273     
 7990                            1274     ;       ----------------------------------------------
 7991                            1275             _MONI_RDY_SET SETNO=3,SETREG=R0,WKREG=R1        ;2014-09-13
 7992 000008BC 901B                   M           MOV.W   #3,R0
 7993 000008BE D10E                   M           MOV.L   #_MONI_RDY_STEP,R1
 7994 000008C0 2101                   M           MOV.W   R0,@R1
 7995                            1276     ;       ----------------------------------------------
 7996                            1277     
 7997                            1278     ;       ------- 2008-04-28(ORGIN MODE) ------------
 7998                            1279             FAR_JSR #_ORGIN_180CHK,R0
 7999 000008C2 D00E                   M           MOV.L   #_ORGIN_180CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8000 000008C4 400B                   M           JSR     @R0                     ;
 8001 000008C6 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    40
PROGRAM NAME =

 8002                            1280     
 8003                            1281     
 8004                            1282     
 8005                            1283     
 8006                            1284     ;       ======= 非運転状態では位置決め完了待ちｸﾘｱ 2003-06-13 ====
 8007                            1285             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
 8008 000008C8 D10D                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
 8009 000008CA 6011                   M           MOV.W   @R1,R0          ;
 8010 000008CC C9FE                   M           AND     #LOW ~BIT0,R0           ;
 8011 000008CE 2101                   M           MOV.W   R0,@R1          ;
 8012                            1286     
 8013                            1287     ;       ------- 2006-07-28 ----------------
 8014                            1288             FAR_JSR #_TEP_FLG_CLR,R0
 8015 000008D0 D00C                   M           MOV.L   #_TEP_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8016 000008D2 400B                   M           JSR     @R0                     ;
 8017 000008D4 0009                   M           NOP                                     ;
 8018                            1289     
 8019                            1290     ;       ===========================================
 8020                            1291     ;       ===     安全装置ﾏｽｸ                     ===
 8021                            1292     ;       ===========================================
 8022                            1293     ;;;;2012-09-25  FAR_JSR #_SFTY_MASK_START,R0    ;
 8023                            1294     
 8024                            1295     ;       ===========================================================
 8025                            1296     ;       ===== ﾐｭｰﾃﾝｸﾞ機能選択のSWの反映を停止の待機点で行う     ===
 8026                            1297     ;       ===========================================================
 8027                            1298     ;       ======>2013-08-20 停止中であればSW切り替えを反映させる
 8028                            1299     
 8029 000008D6 D10C              1300             MOV.L   #_UPMSK2_MOD,R1                         ;
 8030 000008D8 6011              1301             MOV.W   @R1,R0                                  ;
 8031 000008DA 2008              1302             TST     R0,R0                                   ;
 8032                            1303             TST_BIT_OF RDY_SFTY_MASK2CHK050                 ;SWを使用しない
 8033 000008DC 8902                   M           BT      RDY_SFTY_MASK2CHK050
 8034                            1304     
 8035                            1305     ;;;;;;;;;;;;2013-08-20; <ふりこの場合、待機点の切替が起動後になってしまう。>
 8036                            1306     ;;;;;;;;;;;;2013-08-20  MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
 8037                            1307     ;;;;;;;;;;;;2013-08-20  MOV.W   @R1,R0                                  ;
 8038                            1308     ;;;;;;;;;;;;2013-08-20  TST     #(_DMATH_DNDRIV),R0                     ;
 8039                            1309     ;;;;;;;;;;;;2013-08-20  TST_BIT_OF RDY_SFTY_MASK2CHK030                 ;
 8040                            1310     ;;;;;;;;;;;;2013-08-20
 8041                            1311     ;;;;;;;;;;;;2013-08-20  MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R1             ;
 8042                            1312     ;;;;;;;;;;;;2013-08-20  MOV.W   @R1,R0                                  ;
 8043                            1313     ;;;;;;;;;;;;2013-08-20  MOV.W   #BIT7,R4                                ;
 8044                            1314     ;;;;;;;;;;;;2013-08-20  TST     R4,R0                                   ;
 8045                            1315     ;;;;;;;;;;;;2013-08-20  TST_BIT_ON RDY_SFTY_MASK2CHK040                 ;
 8046                            1316     ;;;;;;;;;;;;2013-08-20
 8047                            1317     ;;;;;;;;;;;;2013-08-20RDY_SFTY_MASK2CHK030
 8048                            1318     ;;;;;;;;;;;;2013-08-20
 8049                            1319     ;;;;;;;;;;;;2013-08-20  MOV.L   #_M_LINK_AREASIG,R4                     ;//BIT0/BIT4:待機
                                          点範囲
 8050                            1320     ;;;;;;;;;;;;2013-08-20  MOV.W   @R4,R0                                  ;
 8051                            1321     ;;;;;;;;;;;;2013-08-20  TST     #BIT0,R0                                ;
 8052                            1322     ;;;;;;;;;;;;2013-08-20  TST_BIT_OF RDY_SFTY_MASK2CHK050                 ;待機点ではない
 8053                            1323     ;;;;;;;;;;;;2013-08-20
 8054                            1324     ;;;;;;;;;;;;2013-08-20RDY_SFTY_MASK2CHK040
 8055                            1325     
 8056                            1326             FAR_JSR #_MASK2_SAFTY_SW_MOV,R0                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    41
PROGRAM NAME =

 8057 000008DE D00B                   M           MOV.L   #_MASK2_SAFTY_SW_MOV,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8058 000008E0 400B                   M           JSR     @R0                     ;
 8059 000008E2 0009                   M           NOP                                     ;
 8060                            1327     
 8061 000008E4                   1328     RDY_SFTY_MASK2CHK050:
 8062                            1329     
 8063                            1330     
 8064                            1331     ;       ===========================================================
 8065                            1332     ;       ===== ﾐｭｰﾃﾝｸﾞ機能選択 停止中[待機点と待機点以外]        ===
 8066                            1333     ;       ===========================================================
 8067                            1334     ;;;;;   FAR_JSR #_SFTY_MASK_START,R0            ;従来のソフトは停止時いつでもマスク
 8068                            1335     ;;;;2015-09-06  FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23 新ｿﾌﾄは
 8069                            1336     
 8070                            1337     
 8071                            1338     ;;;;_BRK_SADOU_CHG
 8072                            1339     ;       -------- 2015-09-06---------
 8073 000008E4 D10A              1340             MOV.L   #(_PAR_MYU_BRK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;NO.093
 8074 000008E6 6011              1341             MOV.W   @R1,R0                                                  ;
 8075 000008E8 8801              1342             CMP/EQ  #1,R0
 8076 000008EA 8915              1343             BT      RDY_SFTY_MASK2CHK055                                    ;停止制御有効
 8077                            1344     
 8078                            1345             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0                                ;
 8079 000008EC D009                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8080 000008EE 400B                   M           JSR     @R0                     ;
 8081 000008F0 0009                   M           NOP                                     ;
 8082                            1346             M_BRA   RDY_SFTY_MASK2CHK100                                    ;
 8083 000008F2 A022                   M           BRA     RDY_SFTY_MASK2CHK100
 8084 000008F4 0009                   M           NOP
 8085                            1347     
 8086                                     ***** BEGIN-POOL *****
 8087 000008F6 0003                       DATA FOR SOURCE-LINE 1275
 8088 000008F8 00000000                   DATA FOR SOURCE-LINE 1275
 8089 000008FC 00000000                   DATA FOR SOURCE-LINE 1279
 8090 00000900 00000000                   DATA FOR SOURCE-LINE 1285
 8091 00000904 00000000                   DATA FOR SOURCE-LINE 1288
 8092 00000908 00000000                   DATA FOR SOURCE-LINE 1300
 8093 0000090C 00000000                   DATA FOR SOURCE-LINE 1326
 8094 00000910 00000000                   DATA FOR SOURCE-LINE 1340
 8095 00000914 00000000                   DATA FOR SOURCE-LINE 1345
 8096                                     ***** END-POOL *****
 8097 00000918                   1348     RDY_SFTY_MASK2CHK055:
 8098                            1349     
 8099 00000918 D104              1350             MOV.L   #_DRV_START_KEEP,R1
 8100 0000091A 6011              1351             MOV.W   @R1,R0                          ;
 8101 0000091C C801              1352             TST     #BIT0,R0                        ;
 8102                            1353             TST_BIT_ON RDY_SFTY_MASK2CHK060         ;
 8103 0000091E 8B09                   M           BF      RDY_SFTY_MASK2CHK060
 8104                            1354     
 8105                            1355             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23 新ｿﾌﾄは
 8106 00000920 D003                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8107 00000922 400B                   M           JSR     @R0                     ;
 8108 00000924 0009                   M           NOP                                     ;
 8109                            1356             M_BRA   RDY_SFTY_MASK2CHK100            ;
 8110 00000926 A008                   M           BRA     RDY_SFTY_MASK2CHK100
 8111 00000928 0009                   M           NOP
 8112                                     ***** BEGIN-POOL *****
 8113 0000092A 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    42
PROGRAM NAME =

 8114 0000092C 00000000                   DATA FOR SOURCE-LINE 1350
 8115 00000930 00000000                   DATA FOR SOURCE-LINE 1355
 8116                                     ***** END-POOL *****
 8117 00000934                   1357     RDY_SFTY_MASK2CHK060:
 8118                            1358             FAR_JSR #_SFTY_MASK_END,R0              ;
 8119 00000934 D004                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8120 00000936 400B                   M           JSR     @R0                     ;
 8121 00000938 0009                   M           NOP                                     ;
 8122 0000093A                   1359     RDY_SFTY_MASK2CHK100:
 8123                            1360     
 8124                            1361     ;       ================================================================
 8125                            1362     
 8126 0000093A D104              1363             MOV.L   #_dq1_cb_out1,R1        ;//+0:制御出力(203)
 8127 0000093C 6011              1364             MOV.W   @R1,R0                  ;
 8128 0000093E C820              1365             TST     #_WORDY,R0              ;RDY
 8129                            1366             TST_BIT_OF RDY_CHK_0120         ;準備未完了
 8130 00000940 8906                   M           BT      RDY_CHK_0120
 8131                            1367             M_BRA   RDY_CHK_0200            ;(準備完了ON)
 8132 00000942 A067                   M           BRA     RDY_CHK_0200
 8133 00000944 0009                   M           NOP
 8134                            1368     
 8135                                     ***** BEGIN-POOL *****
 8136 00000946 0000                       ALIGNMENT CODE
 8137 00000948 00000000                   DATA FOR SOURCE-LINE 1358
 8138 0000094C 00000000                   DATA FOR SOURCE-LINE 1363
 8139                                     ***** END-POOL *****
 8140 00000950                   1369     RDY_CHK_0120:
 8141                            1370     ;       ----------------------------------------------
 8142                            1371             _MONI_RDY_SET SETNO=4,SETREG=R0,WKREG=R1        ;2014-09-13
 8143 00000950 9035                   M           MOV.W   #4,R0
 8144 00000952 D11F                   M           MOV.L   #_MONI_RDY_STEP,R1
 8145 00000954 2101                   M           MOV.W   R0,@R1
 8146                            1372     ;       ----------------------------------------------
 8147                            1373     
 8148                            1374     ;       ===================================
 8149                            1375     ;       ===                             ===
 8150                            1376     ;       ===     準備未完了              ===
 8151                            1377     ;       ===                             ===
 8152                            1378     ;       ===================================
 8153                            1379     ;       (本当は両手ﾌﾘ+連続停止OFF+,,,,,)
 8154                            1380     
 8155                            1381     ;;;;_BRK_SADOU_CHG EQ 0 廃止 2015-09-06
 8156                            1382     ;;;;    FAR_JSR #_RDY_OF_SFTY_LOCK,R0   ;2006-04-10
 8157                            1383     
 8158                            1384     
 8159                            1385     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
 8160                            1386             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
 8161 00000956 D11F                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 8162 00000958 6011                   M           MOV.W   @R1,R0          ;
 8163 0000095A 9431                   M           MOV.W   #LWORD (~BIT3),R4       ;
 8164 0000095C 2049                   M           AND     R4,R0           ;
 8165 0000095E 2101                   M           MOV.W   R0,@R1          ;
 8166                            1387     
 8167                            1388     ;       ----- 2006-04-10----
 8168                            1389     ;;;     MOV.L   #_RDY_SFTY_LOCK,R1      ;//BIT0:LOCK
 8169                            1390     
 8170                            1391     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    43
PROGRAM NAME =

 8171                            1392     
 8172                            1393     ;;;;;;;;;[2007-01-16]   MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;
 8173                            1394     ;;;;;;;;;[2007-01-16]   MOV.W   @R1,R0                  ;
 8174                            1395     ;;;;;;;;;[2007-01-16]   TST     R0,R0                   ;
 8175                            1396     ;;;;;;;;;[2007-01-16]   TST_BIT_ON RDY_CHK_0199         ;遮光遅延中
 8176                            1397     
 8177                            1398     ;2015-09-06 _BRK_SADOU_CHG 遮光解除後の準備完了の遅延をやめる
 8178                            1399     ;2015-09-06;    ------- 2007-01-19(原点復帰のみこの処理を入れる)----------
 8179                            1400     ;2015-09-06     MOV.L   #_MODE_SEL,R1                   ;
 8180                            1401     ;2015-09-06     MOV.W   @R1,R0                          ;
 8181                            1402     ;2015-09-06     TST     #_W1DUP,R0                      ;原点復帰?
 8182                            1403     ;2015-09-06     TST_BIT_OF RDY_CHK_0130                 ;
 8183                            1404     ;2015-09-06
 8184                            1405     ;2015-09-06;    -------- [MC 2010-10-26　追加 MC機構のﾌﾞﾚｰｷ対応　1/2]
 8185                            1406     ;2015-09-06     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;2010-10-26
 8186                            1407     ;2015-09-06     MOV.W   @R1,R0                          ;MCでは準備完了は遅らせない
 8187                            1408     ;2015-09-06     MOV.W   #BIT8,R4                        ;その代わりパルス出力を遅らせる0.2
                                          秒だから
 8188                            1409     ;2015-09-06     TST     R4,R0                           ;
 8189                            1410     ;2015-09-06     TST_BIT_ON RDY_CHK_0130                 ;"MC時=1"
 8190                            1411     ;2015-09-06
 8191                            1412     ;2015-09-06;    -------- 原点復帰[2007年の話]----------
 8192                            1413     ;2015-09-06     MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;原点復帰モードのみ準備完了を遅らせる　０
                                          ．８秒くらい
 8193                            1414     ;2015-09-06     MOV.W   @R1,R0                  ;パルス遅らせる方式では、チョン押しと長押
                                          し区別がしずらいから
 8194                            1415     ;2015-09-06     TST     R0,R0                   ;準備完了を遅らせている
 8195                            1416     ;2015-09-06     TST_BIT_ON RDY_CHK_0199         ;遮光遅延中
 8196                            1417     ;2015-09-06
 8197                            1418     ;2015-09-06RDY_CHK_0130:
 8198                            1419     ;       ----------------------------------------------
 8199                            1420             _MONI_RDY_SET SETNO=5,SETREG=R0,WKREG=R1        ;2014-09-13
 8200 00000960 902F                   M           MOV.W   #5,R0
 8201 00000962 D11B                   M           MOV.L   #_MONI_RDY_STEP,R1
 8202 00000964 2101                   M           MOV.W   R0,@R1
 8203                            1421     ;       ----------------------------------------------
 8204                            1422     
 8205                            1423     
 8206                            1424     ;       ------- 順番入れ替え 2006-07-28 (とりあえず不要な入れ替えでしたが、、)-------
 8207                            1425             FAR_JSR #_RDYON_CONF1,R1        ;
 8208 00000966 D11C                   M           MOV.L   #_RDYON_CONF1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8209 00000968 410B                   M           JSR     @R1                     ;
 8210 0000096A 0009                   M           NOP                                     ;
 8211 0000096C 2008              1426             TST     R0,R0                   ;
 8212                            1427             TST_BIT_ON RDY_CHK_0199         ;準備未完了
 8213 0000096E 8B45                   M           BF      RDY_CHK_0199
 8214                            1428     
 8215                            1429     
 8216                            1430     ;       ----------------------------------------------
 8217                            1431             _MONI_RDY_SET SETNO=20,SETREG=R0,WKREG=R1       ;2014-09-13
 8218 00000970 9028                   M           MOV.W   #20,R0
 8219 00000972 D117                   M           MOV.L   #_MONI_RDY_STEP,R1
 8220 00000974 2101                   M           MOV.W   R0,@R1
 8221                            1432     ;       ----------------------------------------------
 8222                            1433     
 8223                            1434     
 8224                            1435     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    44
PROGRAM NAME =

 8225 00000976 D119              1436             MOV.L   #_BTTN_FLG,R1           ;
 8226 00000978 6011              1437             MOV.W   @R1,R0                  ;
 8227 0000097A C801              1438             TST     #BIT0,R0                ;両手ﾌﾘ?
 8228                            1439             TST_BIT_OF RDY_CHK_0199         ;NO
 8229 0000097C 893E                   M           BT      RDY_CHK_0199
 8230                            1440     
 8231                            1441     ;       ----------------------------------------------
 8232                            1442             _MONI_RDY_SET SETNO=21,SETREG=R0,WKREG=R1       ;2014-09-13
 8233 0000097E 9022                   M           MOV.W   #21,R0
 8234 00000980 D113                   M           MOV.L   #_MONI_RDY_STEP,R1
 8235 00000982 2101                   M           MOV.W   R0,@R1
 8236                            1443     ;       ----------------------------------------------
 8237                            1444     
 8238                            1445     ;;      ------- 順番入れ替え 2006-07-28-------
 8239                            1446     ;;      MOV.L   #_BTTN_FLG,R1           ;
 8240                            1447     ;;      MOV.W   @R1,R0                  ;
 8241                            1448     ;;      TST     #BIT0,R0                ;両手ﾌﾘ?
 8242                            1449     ;;      TST_BIT_OF RDY_CHK_0199         ;NO
 8243                            1450     ;;
 8244                            1451     ;;      FAR_JSR #_RDYON_CONF1,R1        ;
 8245                            1452     ;;      TST     R0,R0                   ;
 8246                            1453     ;;      TST_BIT_ON RDY_CHK_0199         ;準備未完了
 8247                            1454     ;------- 両手フリ----
 8248                            1455     
 8249 00000984 D116              1456             MOV.L   #_MODE_SEL,R1           ;
 8250 00000986 6611              1457             MOV.W   @R1,R6                  ;
 8251 00000988 921E              1458             MOV.W   #_W1CNT,R2              ;
 8252 0000098A 2628              1459             TST     R2,R6                   ;
 8253                            1460             TST_BIT_OF RDY_CHK_0150         ;
 8254 0000098C 8904                   M           BT      RDY_CHK_0150
 8255                            1461     
 8256 0000098E D315              1462             MOV.L   #_di2_cb_ctl2_dt,R3     ;
 8257 00000990 6131              1463             MOV.W   @R3,R1                  ;
 8258 00000992 921A              1464             MOV.W   #_W2SUP,R2              ;
 8259 00000994 2128              1465             TST     R2,R1                   ;
 8260                            1466             TST_BIT_ON RDY_CHK_0199         ;連続ｾｯﾄｱｯﾌﾟ釦中
 8261 00000996 8B31                   M           BF      RDY_CHK_0199
 8262                            1467     
 8263 00000998                   1468     RDY_CHK_0150:
 8264 00000998 200A              1469             XOR     R0,R0
 8265 0000099A D113              1470             MOV.L   #_SET_UP_TIM,R1         ;//ｾｯﾄｱｯﾌﾟ(0なの?)
 8266 0000099C 2101              1471             MOV.W   R0,@R1                  ;
 8267                            1472     
 8268 0000099E 9215              1473             MOV.W   #_SYS_BSAME_TIM,R2      ;
 8269 000009A0 D112              1474             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
 8270 000009A2 2121              1475             MOV.W   R2,@R1                  ;
 8271                            1476     
 8272                            1477             FAR_JSR #_CPU_AB_RDY_ON_OUT,R0  ;
 8273 000009A4 D012                   M           MOV.L   #_CPU_AB_RDY_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8274 000009A6 400B                   M           JSR     @R0                     ;
 8275 000009A8 0009                   M           NOP                                     ;
 8276                            1478             FAR_JSR #_CPU_BA_RDY_ON_JG,R0   ;
 8277 000009AA D012                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8278 000009AC 400B                   M           JSR     @R0                     ;
 8279 000009AE 0009                   M           NOP                                     ;
 8280 000009B0 2008              1479             TST     R0,R0                   ;
 8281                            1480             TST_BIT_OF RDY_CHK_0198         ;WAIT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    45
PROGRAM NAME =

 8282 000009B2 8902                   M           BT      RDY_CHK_0198
 8283                            1481             FAR_JSR #_RDY_ON,R1             ;準備完了へ遷移
 8284 000009B4 D110                   M           MOV.L   #_RDY_ON,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8285 000009B6 410B                   M           JSR     @R1                     ;
 8286 000009B8 0009                   M           NOP                                     ;
 8287 000009BA                   1482     RDY_CHK_0198:
 8288                            1483             M_BRA   RDY_CHK_EXIT
 8289 000009BA A1E4                   M           BRA     RDY_CHK_EXIT
 8290 000009BC 0009                   M           NOP
 8291                            1484     
 8292                                     ***** BEGIN-POOL *****
 8293 000009BE 0004                       DATA FOR SOURCE-LINE 1371
 8294 000009C0 FFF7                       DATA FOR SOURCE-LINE 1386
 8295 000009C2 0005                       DATA FOR SOURCE-LINE 1420
 8296 000009C4 0014                       DATA FOR SOURCE-LINE 1431
 8297 000009C6 0015                       DATA FOR SOURCE-LINE 1442
 8298 000009C8 0008                       DATA FOR SOURCE-LINE 1458
 8299 000009CA 0080                       DATA FOR SOURCE-LINE 1464
 8300 000009CC 01F4                       DATA FOR SOURCE-LINE 1473
 8301 000009CE 0000                       ALIGNMENT CODE
 8302 000009D0 00000000                   DATA FOR SOURCE-LINE 1371,1420,1431,1442
 8303 000009D4 00000000                   DATA FOR SOURCE-LINE 1386
 8304 000009D8 00000000                   DATA FOR SOURCE-LINE 1425
 8305 000009DC 00000000                   DATA FOR SOURCE-LINE 1436
 8306 000009E0 00000000                   DATA FOR SOURCE-LINE 1456
 8307 000009E4 00000000                   DATA FOR SOURCE-LINE 1462
 8308 000009E8 00000000                   DATA FOR SOURCE-LINE 1470
 8309 000009EC 00000000                   DATA FOR SOURCE-LINE 1474
 8310 000009F0 00000000                   DATA FOR SOURCE-LINE 1477
 8311 000009F4 00000000                   DATA FOR SOURCE-LINE 1478
 8312 000009F8 00000000                   DATA FOR SOURCE-LINE 1481
 8313                                     ***** END-POOL *****
 8314 000009FC                   1485     RDY_CHK_0199:
 8315                            1486             FAR_JSR #_CMPSTP_POS_START_CLR,R0;//起動したいをOFF
 8316 000009FC D003                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8317 000009FE 400B                   M           JSR     @R0                     ;
 8318 00000A00 0009                   M           NOP                                     ;
 8319                            1487             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0;//準備完了にしたいをOFF
 8320 00000A02 D003                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8321 00000A04 400B                   M           JSR     @R0                     ;
 8322 00000A06 0009                   M           NOP                                     ;
 8323                            1488     
 8324                            1489             M_BRA   RDY_CHK_EXIT
 8325 00000A08 A1BD                   M           BRA     RDY_CHK_EXIT
 8326 00000A0A 0009                   M           NOP
 8327                            1490     
 8328                            1491     ;       ===================================
 8329                            1492     ;       ===     準備完了ON              ===
 8330                            1493     ;       ===     起動または準備未完了    ===
 8331                            1494     ;       ===================================
 8332                                     ***** BEGIN-POOL *****
 8333 00000A0C 00000000                   DATA FOR SOURCE-LINE 1486
 8334 00000A10 00000000                   DATA FOR SOURCE-LINE 1487
 8335                                     ***** END-POOL *****
 8336 00000A14                   1495     RDY_CHK_0200:
 8337                            1496              .AIF   1 EQ 1  ;
 8338                            1497 C   ;       -------- 2016-10-31 ADD 二重回路対策
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    46
PROGRAM NAME =

 8339                            1498              .AENDI
 8340                            1499             FAR_JSR #_START_CNT_INFO_OUT,R0         ;2016-07-22 二重回路対策
 8341 00000A14 D00E                   M           MOV.L   #_START_CNT_INFO_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8342 00000A16 400B                   M           JSR     @R0                     ;
 8343 00000A18 0009                   M           NOP                                     ;
 8344                            1500     
 8345                            1501     
 8346                            1502             FAR_JSR #_RDYON_CONF1,R1                ;
 8347 00000A1A D10E                   M           MOV.L   #_RDYON_CONF1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8348 00000A1C 410B                   M           JSR     @R1                     ;
 8349 00000A1E 0009                   M           NOP                                     ;
 8350 00000A20 2008              1503             TST     R0,R0                           ;
 8351                            1504             TST_BIT_ON RDY_CHK_0299A                ;準備未完了へ
 8352 00000A22 8B2D                   M           BF      RDY_CHK_0299A
 8353                            1505     
 8354                            1506     
 8355                            1507     ;       ------------------------------------
 8356                            1508             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-01
 8357 00000A24 D00C                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8358 00000A26 400B                   M           JSR     @R0                     ;
 8359 00000A28 0009                   M           NOP                                     ;
 8360                            1509     ;       ------------------------------------
 8361                            1510     
 8362                            1511             FAR_JSR #_BTTN_START_CHK,R1             ;(0.5秒同時ON,) R0=00(KEEP) 55(起動) FF(準
                                          備未完へ)
 8363 00000A2A D10C                   M           MOV.L   #_BTTN_START_CHK,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8364 00000A2C 410B                   M           JSR     @R1                     ;
 8365 00000A2E 0009                   M           NOP                                     ;
 8366 00000A30 2008              1512             TST     R0,R0                           ;
 8367                            1513             TST_BIT_OF RDY_CHK_0290A                ;変化なし 2002-10-08 相手側ﾁｪｯｸ
 8368 00000A32 8923                   M           BT      RDY_CHK_0290A
 8369 00000A34 8855              1514             CMP/EQ  #H'55,R0                        ;
 8370 00000A36 8B23              1515             BF      RDY_CHK_0299A                   ;失敗 -1
 8371                            1516     
 8372                            1517     ;       ---------------------------
 8373                            1518     ;       ---                     ---
 8374                            1519     ;       ---     起動が入った    ---
 8375                            1520     ;       ---     2007-01-16      ---
 8376                            1521     ;       ---                     ---
 8377                            1522     ;       ---------------------------
 8378                            1523             FAR_JSR #_DRV_START_KEP_WAIT,R0         ;
 8379 00000A38 D009                   M           MOV.L   #_DRV_START_KEP_WAIT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8380 00000A3A 400B                   M           JSR     @R0                     ;
 8381 00000A3C 0009                   M           NOP                                     ;
 8382 00000A3E 2008              1524             TST     R0,R0                           ;
 8383                            1525             TST_BIT_OF RDY_CHK_0280                 ;(原点復帰または解除中ではない)
 8384 00000A40 8912                   M           BT      RDY_CHK_0280
 8385 00000A42 8855              1526             CMP/EQ  #H'55,R0                        ;
 8386 00000A44 8B1A              1527             BF      RDY_CHK_0290A                   ;
 8387                            1528     
 8388                            1529     ;       ------- 起動時の原点復帰時の演算(ﾚﾍﾞﾙﾀｲﾌﾟのみ使用可能)------
 8389                            1530             FAR_JSR #_ORGIN_MODE_SEL_START,R0       ;
 8390 00000A46 D007                   M           MOV.L   #_ORGIN_MODE_SEL_START,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8391 00000A48 400B                   M           JSR     @R0                     ;
 8392 00000A4A 0009                   M           NOP                                     ;
 8393                            1531     
 8394                            1532             M_BRA   RDY_CHK_0220                    ;起動
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    47
PROGRAM NAME =

 8395 00000A4C A01A                   M           BRA     RDY_CHK_0220
 8396 00000A4E 0009                   M           NOP
 8397                            1533     
 8398                            1534     
 8399                                     ***** BEGIN-POOL *****
 8400 00000A50 00000000                   DATA FOR SOURCE-LINE 1499
 8401 00000A54 00000000                   DATA FOR SOURCE-LINE 1502
 8402 00000A58 00000000                   DATA FOR SOURCE-LINE 1508
 8403 00000A5C 00000000                   DATA FOR SOURCE-LINE 1511
 8404 00000A60 00000000                   DATA FOR SOURCE-LINE 1523
 8405 00000A64 00000000                   DATA FOR SOURCE-LINE 1530
 8406                                     ***** END-POOL *****
 8407 00000A68                   1535     RDY_CHK_0280
 8408                            1536     
 8409                            1537     ;       ===================================
 8410                            1538     ;       ===                             ===
 8411                            1539     ;       ===     2006-07-28              ===
 8412                            1540     ;       ===     原点起動                ===
 8413                            1541     ;       ===                             ===
 8414                            1542     ;       ===================================
 8415                            1543     ;       ここのはこない(エッジタイプだけこれ)
 8416                            1544             FAR_JSR #_ORGIN_MODE_SEL_WAIT,R0        ;
 8417 00000A68 D003                   M           MOV.L   #_ORGIN_MODE_SEL_WAIT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8418 00000A6A 400B                   M           JSR     @R0                     ;
 8419 00000A6C 0009                   M           NOP                                     ;
 8420 00000A6E 2008              1545             TST     R0,R0                           ;
 8421                            1546             TST_BIT_OF RDY_CHK_0220                 ;起動
 8422 00000A70 8908                   M           BT      RDY_CHK_0220
 8423                            1547             M_BRA   RDY_CHK_0399                    ;
 8424 00000A72 A0A9                   M           BRA     RDY_CHK_0399
 8425 00000A74 0009                   M           NOP
 8426                            1548     
 8427                            1549     
 8428                                     ***** BEGIN-POOL *****
 8429 00000A76 0000                       ALIGNMENT CODE
 8430 00000A78 00000000                   DATA FOR SOURCE-LINE 1544
 8431                                     ***** END-POOL *****
 8432 00000A7C                   1550     RDY_CHK_0290A:
 8433                            1551             M_BRA   RDY_CHK_0290                    ;
 8434 00000A7C A08E                   M           BRA     RDY_CHK_0290
 8435 00000A7E 0009                   M           NOP
 8436                            1552     
 8437 00000A80                   1553     RDY_CHK_0299A:
 8438                            1554             M_BRA   RDY_CHK_0299                    ;失敗 -1
 8439 00000A80 A096                   M           BRA     RDY_CHK_0299
 8440 00000A82 0009                   M           NOP
 8441                            1555     
 8442                            1556     
 8443 00000A84                   1557     RDY_CHK_0220:
 8444                            1558     
 8445                            1559     ;       ===================================
 8446                            1560     ;       ===     擬似起動処理            ===
 8447                            1561     ;       ===================================
 8448                            1562             FAR_JSR #_ORGIN_MODE_FLG_CLR,R0         ;
 8449 00000A84 D007                   M           MOV.L   #_ORGIN_MODE_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8450 00000A86 400B                   M           JSR     @R0                     ;
 8451 00000A88 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    48
PROGRAM NAME =

 8452                            1563     
 8453                            1564             FAR_JSR #_CPU_AB_STR_ON_OUT,R0          ;
 8454 00000A8A D007                   M           MOV.L   #_CPU_AB_STR_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8455 00000A8C 400B                   M           JSR     @R0                     ;
 8456 00000A8E 0009                   M           NOP                                     ;
 8457 00000A90 9006              1565             MOV.W   #BIT0,R0                        ;
 8458 00000A92 D106              1566             MOV.L   #_CMPSTEP_POS_START,R1          ;//起動したい
 8459 00000A94 2101              1567             MOV.W   R0,@R1                          ;
 8460                            1568     
 8461                            1569     ;       ==== 2003-07-01 ====
 8462                            1570             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;
 8463 00000A96 D006                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8464 00000A98 400B                   M           JSR     @R0                     ;
 8465 00000A9A 0009                   M           NOP                                     ;
 8466                            1571             M_BRA   RDY_CHK_0399                    ;準備完了はONのままとする
 8467 00000A9C A094                   M           BRA     RDY_CHK_0399
 8468 00000A9E 0009                   M           NOP
 8469                            1572     
 8470                                     ***** BEGIN-POOL *****
 8471 00000AA0 0001                       DATA FOR SOURCE-LINE 1565
 8472 00000AA2 0000                       ALIGNMENT CODE
 8473 00000AA4 00000000                   DATA FOR SOURCE-LINE 1562
 8474 00000AA8 00000000                   DATA FOR SOURCE-LINE 1564
 8475 00000AAC 00000000                   DATA FOR SOURCE-LINE 1566
 8476 00000AB0 00000000                   DATA FOR SOURCE-LINE 1570
 8477                                     ***** END-POOL *****
 8478 00000AB4                   1573     RDY_CHK_0200_START_WAIT:
 8479                            1574     ;       ---- 2015-03-15-------
 8480                            1575             .AIF    0 EQ    0       ;
 8481                            1576             .AELSE
 8482                            1577             FAR_JSR #_ELSE_CPU_START_POS_PRESET,R0  ;
 8483                            1578             .AENDI
 8484                            1579     
 8485                            1580             FAR_JSR #_CPU_BA_STR_ON_JG,R0           ;
 8486 00000AB4 D007                   M           MOV.L   #_CPU_BA_STR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8487 00000AB6 400B                   M           JSR     @R0                     ;
 8488 00000AB8 0009                   M           NOP                                     ;
 8489 00000ABA 2008              1581             TST     R0,R0                           ;
 8490                            1582             TST_BIT_ON RDY_CHK_0200_START           ;相手も起動したいぞ(これを最初にﾁｪｯｸする事
                                          )
 8491 00000ABC 8B12                   M           BF      RDY_CHK_0200_START
 8492                            1583     
 8493                            1584     
 8494                            1585     ;       -------HOLDからの起動(運転釦無し、自動起動)　2014-09-01--------------
 8495 00000ABE D106              1586             MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;
 8496 00000AC0 6011              1587             MOV.W   @R1,R0                          ;
 8497 00000AC2 2008              1588             TST     R0,R0                           ;
 8498                            1589             TST_BIT_ON RDY_CHK_0200_START_WT2       ;
 8499 00000AC4 8B0C                   M           BF      RDY_CHK_0200_START_WT2
 8500                            1590     ;       ------------------------------------------------
 8501                            1591     
 8502                            1592     
 8503                            1593             FAR_JSR #_CPU_BA_RDY_ON_JG,R0           ;
 8504 00000AC6 D005                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8505 00000AC8 400B                   M           JSR     @R0                     ;
 8506 00000ACA 0009                   M           NOP                                     ;
 8507                            1594     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    49
PROGRAM NAME =

 8508 00000ACC 2008              1595             TST     R0,R0                           ;
 8509                            1596             TST_BIT_ON RDY_CHK_0200_START_WT2       ;(準備完了ONならいつまでもまつ)
 8510 00000ACE 8B07                   M           BF      RDY_CHK_0200_START_WT2
 8511                            1597             M_BRA   RDY_CHK_0299                    ;失敗:起動をあきらめる
 8512 00000AD0 A06E                   M           BRA     RDY_CHK_0299
 8513 00000AD2 0009                   M           NOP
 8514                            1598     
 8515                                     ***** BEGIN-POOL *****
 8516 00000AD4 00000000                   DATA FOR SOURCE-LINE 1580
 8517 00000AD8 00000000                   DATA FOR SOURCE-LINE 1586
 8518 00000ADC 00000000                   DATA FOR SOURCE-LINE 1593
 8519                                     ***** END-POOL *****
 8520 00000AE0                   1599     RDY_CHK_0200_START_WT2:
 8521                            1600             M_BRA   RDY_CHK_0399
 8522 00000AE0 A072                   M           BRA     RDY_CHK_0399
 8523 00000AE2 0009                   M           NOP
 8524                            1601     
 8525 00000AE4                   1602     RDY_CHK_0200_START:
 8526                            1603     
 8527                            1604     ;       ===================================
 8528                            1605     ;       ===     起動処理                ===
 8529                            1606     ;       ===================================
 8530                            1607     
 8531                            1608     ;;;;;   FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-01
 8532                            1609     
 8533                            1610     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
 8534                            1611             FAR_JSR #_OVER_RID_UPDN_LAT_DTMK,R0     ;2005-01-17
 8535 00000AE4 D01C                   M           MOV.L   #_OVER_RID_UPDN_LAT_DTMK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8536 00000AE6 400B                   M           JSR     @R0                     ;
 8537 00000AE8 0009                   M           NOP                                     ;
 8538                            1612     
 8539                            1613             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
 8540 00000AEA D11C                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 8541 00000AEC 6011                   M           MOV.W   @R1,R0          ;
 8542 00000AEE 9430                   M           MOV.W   #LWORD (~BIT3),R4       ;
 8543 00000AF0 2049                   M           AND     R4,R0           ;
 8544 00000AF2 2101                   M           MOV.W   R0,@R1          ;
 8545                            1614     
 8546                            1615             FAR_JSR #_SV_UP_HOLD_CHK,R0     ;(上昇ﾎｰﾙﾄﾞ工程作成/)
 8547 00000AF4 D01A                   M           MOV.L   #_SV_UP_HOLD_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8548 00000AF6 400B                   M           JSR     @R0                     ;
 8549 00000AF8 0009                   M           NOP                                     ;
 8550                            1616             FAR_JSR #_UP_HOLD_FLG_CLR1,R0   ;(不要でしょう)
 8551 00000AFA D01A                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8552 00000AFC 400B                   M           JSR     @R0                     ;
 8553 00000AFE 0009                   M           NOP                                     ;
 8554                            1617             FAR_JSR #_UP_HOLD_FLG_CLR2,R0   ;
 8555 00000B00 D019                   M           MOV.L   #_UP_HOLD_FLG_CLR2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8556 00000B02 400B                   M           JSR     @R0                     ;
 8557 00000B04 0009                   M           NOP                                     ;
 8558                            1618     
 8559                            1619     ;       ==== 2004-01-28 ==
 8560 00000B06 200A              1620             XOR     R0,R0
 8561 00000B08 D118              1621             MOV.L   #_ENC360_OVER_FLG,R1            ;
 8562 00000B0A 2101              1622             MOV.W   R0,@R1                          ;
 8563                            1623     
 8564                            1624             FAR_JSR #_SFTY_MASK_END,R0              ;(結果としてはﾏｽｸするかもしれない)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    50
PROGRAM NAME =

 8565 00000B0C D018                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8566 00000B0E 400B                   M           JSR     @R0                     ;
 8567 00000B10 0009                   M           NOP                                     ;
 8568                            1625     
 8569                            1626             FAR_JSR #_CB_CTL_START_INI,R0
 8570 00000B12 D018                   M           MOV.L   #_CB_CTL_START_INI,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8571 00000B14 400B                   M           JSR     @R0                     ;
 8572 00000B16 0009                   M           NOP                                     ;
 8573                            1627             FAR_JSR #_STOPPING_TIM_MOV_INI,R0       ;
 8574 00000B18 D017                   M           MOV.L   #_STOPPING_TIM_MOV_INI,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8575 00000B1A 400B                   M           JSR     @R0                     ;
 8576 00000B1C 0009                   M           NOP                                     ;
 8577                            1628     
 8578                            1629     
 8579                            1630             FAR_JSR #_MN_POS_CTRL_START,R0                                                  ;
 8580 00000B1E D017                   M           MOV.L   #_MN_POS_CTRL_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8581 00000B20 400B                   M           JSR     @R0                     ;
 8582 00000B22 0009                   M           NOP                                     ;
 8583                            1631     
 8584                            1632     
 8585                            1633     
 8586                            1634     ;       --------------------2014-09-19-----------------------
 8587                            1635             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;
 8588 00000B24 D016                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8589 00000B26 400B                   M           JSR     @R0                     ;
 8590 00000B28 0009                   M           NOP                                     ;
 8591                            1636     
 8592                            1637     ;       --------------------2014-09-12-----------------------
 8593                            1638     ;;;;;;;;;;;     MOV.L   #_POS_HOLD_RDY_EXITF,R1 ;//しょうがない
 8594                            1639     ;;;;;;;;;;;     MOV.W   @R1,R0                  ;
 8595                            1640     ;;;;;;;;;;;     PUSH_REG1 R0
 8596                            1641     ;;;;;;;;;;;
 8597                            1642     ;;;;;;;;;;;     FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-12[位置計算後にCLR]
 8598                            1643     ;;;;;;;;;;;
 8599                            1644     ;;;;;;;;;;;     POP_REG1 R0
 8600                            1645     ;;;;;;;;;;;     TST     R0,R0                           ;
 8601                            1646     ;;;;;;;;;;;     TST_BIT_OF RDY_POSHLD_CHK050            ;再起動
 8602                            1647     ;;;;;;;;;;;
 8603                            1648     ;;;;;;;;;;;     MOV.B   #BIT0,R0                        ;
 8604                            1649     ;;;;;;;;;;;     MOV.L   #_POS_HOLD_RDY_EXITF2,R1        ;//しょうがない
 8605                            1650     ;;;;;;;;;;;     MOV.W   R0,@R1                          ;
 8606                            1651     ;;;;;;;;;;;
 8607                            1652     ;;;;;;;;;;;RDY_POSHLD_CHK050
 8608                            1653     ;       --------------------------------------
 8609                            1654     
 8610                            1655             MEM1_DATA_SET MEM=_DRV_ACT_FLG,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2       ;運転動作ﾌ
                                          ﾗｸﾞ BIT0:運転中
 8611 00000B2A D116                   M           MOV.L   #_DRV_ACT_FLG,R1                ;
 8612 00000B2C 9212                   M           MOV.W   #BIT0,R2                ;
 8613 00000B2E 2121                   M           MOV.W   R2,@R1  ;
 8614                            1656             FAR_JSR #_API_BREAK_VALV_FLG_ON,R0      ;2014-08-05
 8615 00000B30 D015                   M           MOV.L   #_API_BREAK_VALV_FLG_ON,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8616 00000B32 400B                   M           JSR     @R0                     ;
 8617 00000B34 0009                   M           NOP                                     ;
 8618                            1657     
 8619                            1658             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
 8620 00000B36 D015                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    51
PROGRAM NAME =

 8621 00000B38 400B                   M           JSR     @R0                     ;
 8622 00000B3A 0009                   M           NOP                                     ;
 8623                            1659             FAR_JSR #_RDY_OF,R1                     ;
 8624 00000B3C D114                   M           MOV.L   #_RDY_OF,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8625 00000B3E 410B                   M           JSR     @R1                     ;
 8626 00000B40 0009                   M           NOP                                     ;
 8627                            1660     
 8628                            1661              .AIF   1 EQ 1  ;
 8629                            1662 C   ;       -------- 2016-10-31 ADD 二重回路対策
 8630                            1663              .AENDI
 8631                            1664             FAR_JSR #_SELFCHK_LOCK_SET,R0           ;2016-04-16
 8632 00000B42 D014                   M           MOV.L   #_SELFCHK_LOCK_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8633 00000B44 400B                   M           JSR     @R0                     ;
 8634 00000B46 0009                   M           NOP                                     ;
 8635                            1665     
 8636                            1666     
 8637                            1667     ;       ====== 2007-01-16========
 8638                            1668             FAR_JSR #_START_SFTY_LOCK_CLR,R0
 8639 00000B48 D013                   M           MOV.L   #_START_SFTY_LOCK_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8640 00000B4A 400B                   M           JSR     @R0                     ;
 8641 00000B4C 0009                   M           NOP                                     ;
 8642                            1669     
 8643                            1670     
 8644                            1671     
 8645                            1672     
 8646                            1673     
 8647                            1674     ;;;     XOR     R0,R0                           ;
 8648                            1675     ;;;     MOV.L   #_CMPSTEP_POS_START,R1          ;//起動したいは終わり側にも使用する
 8649                            1676     ;;;     MOV.W   R0,@R1                          ;
 8650                            1677     ;;;     FAR_JSR #_CPU_BA_STR_OF_OUT,R0          ;(相手の起動信号ｸﾘｱ)
 8651                            1678             M_BRA   RDY_CHK_0399                    ;
 8652 00000B4E A03B                   M           BRA     RDY_CHK_0399
 8653 00000B50 0009                   M           NOP
 8654                            1679     
 8655                            1680     ;       ====== 保持状態=======
 8656                                     ***** BEGIN-POOL *****
 8657 00000B52 FFF7                       DATA FOR SOURCE-LINE 1613
 8658 00000B54 0001                       DATA FOR SOURCE-LINE 1655
 8659 00000B56 0000                       ALIGNMENT CODE
 8660 00000B58 00000000                   DATA FOR SOURCE-LINE 1611
 8661 00000B5C 00000000                   DATA FOR SOURCE-LINE 1613
 8662 00000B60 00000000                   DATA FOR SOURCE-LINE 1615
 8663 00000B64 00000000                   DATA FOR SOURCE-LINE 1616
 8664 00000B68 00000000                   DATA FOR SOURCE-LINE 1617
 8665 00000B6C 00000000                   DATA FOR SOURCE-LINE 1621
 8666 00000B70 00000000                   DATA FOR SOURCE-LINE 1624
 8667 00000B74 00000000                   DATA FOR SOURCE-LINE 1626
 8668 00000B78 00000000                   DATA FOR SOURCE-LINE 1627
 8669 00000B7C 00000000                   DATA FOR SOURCE-LINE 1630
 8670 00000B80 00000000                   DATA FOR SOURCE-LINE 1635
 8671 00000B84 00000000                   DATA FOR SOURCE-LINE 1655
 8672 00000B88 00000000                   DATA FOR SOURCE-LINE 1656
 8673 00000B8C 00000000                   DATA FOR SOURCE-LINE 1658
 8674 00000B90 00000000                   DATA FOR SOURCE-LINE 1659
 8675 00000B94 00000000                   DATA FOR SOURCE-LINE 1664
 8676 00000B98 00000000                   DATA FOR SOURCE-LINE 1668
 8677                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    52
PROGRAM NAME =

 8678 00000B9C                   1681     RDY_CHK_0290:                           ;((((()))))
 8679                            1682             FAR_JSR #_CPU_BA_RDY_ON_JG,R0   ;
 8680 00000B9C D003                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8681 00000B9E 400B                   M           JSR     @R0                     ;
 8682 00000BA0 0009                   M           NOP                                     ;
 8683 00000BA2 2008              1683             TST     R0,R0                   ;
 8684                            1684             TST_BIT_OF RDY_CHK_0299         ;相手側CPUのせいで準備未完了へ
 8685 00000BA4 8904                   M           BT      RDY_CHK_0299
 8686                            1685             M_BRA   RDY_CHK_0399            ;
 8687 00000BA6 A00F                   M           BRA     RDY_CHK_0399
 8688 00000BA8 0009                   M           NOP
 8689                            1686     
 8690                            1687     ;       ======= 準備完了失敗====
 8691                                     ***** BEGIN-POOL *****
 8692 00000BAA 0000                       ALIGNMENT CODE
 8693 00000BAC 00000000                   DATA FOR SOURCE-LINE 1682
 8694                                     ***** END-POOL *****
 8695 00000BB0                   1688     RDY_CHK_0299:
 8696                            1689             FAR_JSR #_CMPSTP_POS_START_CLR,R0       ;//起動したいをOFF
 8697 00000BB0 D006                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8698 00000BB2 400B                   M           JSR     @R0                     ;
 8699 00000BB4 0009                   M           NOP                                     ;
 8700                            1690             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
 8701 00000BB6 D006                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8702 00000BB8 400B                   M           JSR     @R0                     ;
 8703 00000BBA 0009                   M           NOP                                     ;
 8704                            1691             FAR_JSR #_RDY_OF,R0                     ;準備未完了へ遷移
 8705 00000BBC D005                   M           MOV.L   #_RDY_OF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8706 00000BBE 400B                   M           JSR     @R0                     ;
 8707 00000BC0 0009                   M           NOP                                     ;
 8708                            1692     ;;;     FAR_JSR #_TEPA_PLSCNT_CLR,R0            ;2006-07-28
 8709                            1693     
 8710                            1694     ;       ------- 2007-01-16----------
 8711 00000BC2 200A              1695             XOR     R0,R0
 8712 00000BC4 D104              1696             MOV.L   #_DRV_START_KEEP,R1             ;FLG
 8713 00000BC6 2101              1697             MOV.W   R0,@R1                          ;
 8714                            1698     
 8715 00000BC8                   1699     RDY_CHK_0399:
 8716                            1700             M_BRA   RDY_CHK_EXIT
 8717 00000BC8 A0DD                   M           BRA     RDY_CHK_EXIT
 8718 00000BCA 0009                   M           NOP
 8719                            1701     
 8720                            1702     
 8721                            1703     
 8722                            1704     ;       ===================================
 8723                            1705     ;       ===     ﾊﾞﾙﾌﾞON(位置決め中)     ===
 8724                            1706     ;       ===================================
 8725                            1707     ;       >> ﾛｯﾄｶｳﾝﾀ処理 <<
 8726                                     ***** BEGIN-POOL *****
 8727 00000BCC 00000000                   DATA FOR SOURCE-LINE 1689
 8728 00000BD0 00000000                   DATA FOR SOURCE-LINE 1690
 8729 00000BD4 00000000                   DATA FOR SOURCE-LINE 1691
 8730 00000BD8 00000000                   DATA FOR SOURCE-LINE 1696
 8731                                     ***** END-POOL *****
 8732 00000BDC                   1708     RDY_CHK_0500:
 8733                            1709     
 8734                            1710     ;;;2007-12-24   FAR_JSR #_LOT_CNT_CNT,R0        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    53
PROGRAM NAME =

 8735                            1711     
 8736                            1712     
 8737                            1713             FAR_JSR #_STEP_SIG_DISP,R0      ;
 8738 00000BDC D006                   M           MOV.L   #_STEP_SIG_DISP,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8739 00000BDE 400B                   M           JSR     @R0                     ;
 8740 00000BE0 0009                   M           NOP                                     ;
 8741                            1714     ;       ==== 2003-07-09 ====
 8742                            1715             FAR_JSR #_CNT_SPM_DISP_CHK,R0
 8743 00000BE2 D006                   M           MOV.L   #_CNT_SPM_DISP_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8744 00000BE4 400B                   M           JSR     @R0                     ;
 8745 00000BE6 0009                   M           NOP                                     ;
 8746                            1716     ;       ====================
 8747                            1717     
 8748                            1718     ;       ---------------------------------------------------------
 8749                            1719     ;       --------------------[一旦停止処理]-------------------
 8750                            1720     ;       ---------------------------------------------------------
 8751                            1721             FAR_JSR #_POSHLD1_STEP1_STOPCMD_CHK,R0                  ;
 8752 00000BE8 D005                   M           MOV.L   #_POSHLD1_STEP1_STOPCMD_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8753 00000BEA 400B                   M           JSR     @R0                     ;
 8754 00000BEC 0009                   M           NOP                                     ;
 8755 00000BEE 2008              1722             TST     R0,R0                                           ;
 8756                            1723             TST_BIT_OF RDY_CHK_0505                                 ;
 8757 00000BF0 8908                   M           BT      RDY_CHK_0505
 8758                            1724             M_BRA   RDY_CHK_1000                                    ;
 8759 00000BF2 A07E                   M           BRA     RDY_CHK_1000
 8760 00000BF4 0009                   M           NOP
 8761                                     ***** BEGIN-POOL *****
 8762 00000BF6 0000                       ALIGNMENT CODE
 8763 00000BF8 00000000                   DATA FOR SOURCE-LINE 1713
 8764 00000BFC 00000000                   DATA FOR SOURCE-LINE 1715
 8765 00000C00 00000000                   DATA FOR SOURCE-LINE 1721
 8766                                     ***** END-POOL *****
 8767 00000C04                   1725     RDY_CHK_0505:
 8768                            1726     
 8769                            1727     
 8770                            1728     
 8771                            1729     ;       --------- 2006-07-28---------------------
 8772                            1730     ;       位置決めキャンセル機能１
 8773                            1731             FAR_JSR #_POS_CANSEL_STOP_CHK,R0        ;
 8774 00000C04 D003                   M           MOV.L   #_POS_CANSEL_STOP_CHK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8775 00000C06 400B                   M           JSR     @R0                     ;
 8776 00000C08 0009                   M           NOP                                     ;
 8777 00000C0A 2008              1732             TST     R0,R0                           ;
 8778                            1733             TST_BIT_OF RDY_CHK_0510                 ;
 8779 00000C0C 8904                   M           BT      RDY_CHK_0510
 8780                            1734             M_BRA   RDY_CHK_1000                    ;
 8781 00000C0E A070                   M           BRA     RDY_CHK_1000
 8782 00000C10 0009                   M           NOP
 8783                                     ***** BEGIN-POOL *****
 8784 00000C12 0000                       ALIGNMENT CODE
 8785 00000C14 00000000                   DATA FOR SOURCE-LINE 1731
 8786                                     ***** END-POOL *****
 8787 00000C18                   1735     RDY_CHK_0510:
 8788                            1736     ;       ----------------------------------------------
 8789                            1737     ;       ===== 各々のモード処理======
 8790 00000C18 D102              1738             MOV.L   #_MNWR_POS_CMD,R1       ;ﾊﾟﾙｽ払出即停止
 8791 00000C1A 6011              1739             MOV.W   @R1,R0                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    54
PROGRAM NAME =

 8792 00000C1C 2008              1740             TST     R0,R0                   ;
 8793                            1741             TST_BIT_ON RDY_CHK_0520         ;BIT0
 8794 00000C1E 8B03                   M           BF      RDY_CHK_0520
 8795                            1742             M_BRA   RDY_CHK_1000            ;
 8796 00000C20 A067                   M           BRA     RDY_CHK_1000
 8797 00000C22 0009                   M           NOP
 8798                            1743     
 8799                                     ***** BEGIN-POOL *****
 8800 00000C24 00000000                   DATA FOR SOURCE-LINE 1738
 8801                                     ***** END-POOL *****
 8802 00000C28                   1744     RDY_CHK_0520:
 8803                            1745     
 8804                            1746     ;       ------ 2007-03-02[CMP]------------------------
 8805 00000C28 D102              1747             MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
 8806 00000C2A 6011              1748             MOV.W   @R1,R0                          ;
 8807 00000C2C C802              1749             TST     #BIT1,R0                        ;
 8808                            1750             TST_BIT_OF RDY_CHK_0525                 ;
 8809 00000C2E 8903                   M           BT      RDY_CHK_0525
 8810                            1751             M_BRA   RDY_CHK_1000                    ;
 8811 00000C30 A05F                   M           BRA     RDY_CHK_1000
 8812 00000C32 0009                   M           NOP
 8813                                     ***** BEGIN-POOL *****
 8814 00000C34 00000000                   DATA FOR SOURCE-LINE 1747
 8815                                     ***** END-POOL *****
 8816 00000C38                   1752     RDY_CHK_0525:
 8817                            1753     ;       ----------------------------------------
 8818                            1754     
 8819                            1755     
 8820                            1756     ;       -------- 2007-02-05 ----------
 8821                            1757     ;2015-09-06_BRK_SADOU_CHG EQ 1
 8822                            1758     ;;;廃止 FAR_JSR #_SFTY_DLY_SET2,R0      ;全モードで停止後の遮光ブレーキ遅延時間
 8823                            1759     
 8824 00000C38 D106              1760             MOV.L   #_MODE_SEL,R1           ;寸動・安全一工程・連続・OPT
 8825 00000C3A 6011              1761             MOV.W   @R1,R0                  ;
 8826 00000C3C C808              1762             TST     #_W1CNT,R0              ;
 8827                            1763             TST_BIT_OF RDY_CHK_0600         ;
 8828 00000C3E 8915                   M           BT      RDY_CHK_0600
 8829                            1764     
 8830 00000C40 9106              1765             MOV.W   #(BIT12+BIT11),R1       ;
 8831 00000C42 2018              1766             TST     R1,R0
 8832                            1767             TST_BIT_OF RDY_CHK_0530         ;
 8833 00000C44 890A                   M           BT      RDY_CHK_0530
 8834                            1768     
 8835                            1769             FAR_JSR #_MODE_CSS_STOP_CHK,R0  ;連続一行程・連続寸動一行程
 8836 00000C46 D004                   M           MOV.L   #_MODE_CSS_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8837 00000C48 400B                   M           JSR     @R0                     ;
 8838 00000C4A 0009                   M           NOP                                     ;
 8839                            1770             M_BRA   RDY_CHK_1000
 8840 00000C4C A051                   M           BRA     RDY_CHK_1000
 8841 00000C4E 0009                   M           NOP
 8842                            1771     
 8843                                     ***** BEGIN-POOL *****
 8844 00000C50 1800                       DATA FOR SOURCE-LINE 1765
 8845 00000C52 0000                       ALIGNMENT CODE
 8846 00000C54 00000000                   DATA FOR SOURCE-LINE 1760
 8847 00000C58 00000000                   DATA FOR SOURCE-LINE 1769
 8848                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    55
PROGRAM NAME =

 8849 00000C5C                   1772     RDY_CHK_0530:
 8850                            1773             FAR_JSR #_MODE_CNT_STOP_CHK,R0  ;
 8851 00000C5C D002                   M           MOV.L   #_MODE_CNT_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8852 00000C5E 400B                   M           JSR     @R0                     ;
 8853 00000C60 0009                   M           NOP                                     ;
 8854                            1774             M_BRA   RDY_CHK_1000
 8855 00000C62 A046                   M           BRA     RDY_CHK_1000
 8856 00000C64 0009                   M           NOP
 8857                                     ***** BEGIN-POOL *****
 8858 00000C66 0000                       ALIGNMENT CODE
 8859 00000C68 00000000                   DATA FOR SOURCE-LINE 1773
 8860                                     ***** END-POOL *****
 8861 00000C6C                   1775     RDY_CHK_0600:
 8862                            1776     
 8863 00000C6C C802              1777             TST     #_W1INC,R0              ;
 8864                            1778             TST_BIT_OF RDY_CHK_0650         ;
 8865 00000C6E 8907                   M           BT      RDY_CHK_0650
 8866                            1779             FAR_JSR #_MODE_INC_STOP_CHK,R0  ;
 8867 00000C70 D002                   M           MOV.L   #_MODE_INC_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8868 00000C72 400B                   M           JSR     @R0                     ;
 8869 00000C74 0009                   M           NOP                                     ;
 8870                            1780             M_BRA   RDY_CHK_1000
 8871 00000C76 A03C                   M           BRA     RDY_CHK_1000
 8872 00000C78 0009                   M           NOP
 8873                            1781     
 8874                                     ***** BEGIN-POOL *****
 8875 00000C7A 0000                       ALIGNMENT CODE
 8876 00000C7C 00000000                   DATA FOR SOURCE-LINE 1779
 8877                                     ***** END-POOL *****
 8878 00000C80                   1782     RDY_CHK_0650:
 8879                            1783     
 8880 00000C80 C804              1784             TST     #_W1SGL,R0              ;
 8881                            1785             TST_BIT_OF RDY_CHK_0700         ;
 8882 00000C82 891B                   M           BT      RDY_CHK_0700
 8883                            1786     ;       === 回転時は一度                [作業一行程,一行程,外部安全一]
 8884                            1787             FAR_JSR #_CTRL_UP_HOLD_CHK,R0   ;(上昇ﾎｰﾙﾄﾞまたは上昇無効の運転を行うﾓｰﾄﾞで呼ばれ
                                          る)
 8885 00000C84 D008                   M           MOV.L   #_CTRL_UP_HOLD_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8886 00000C86 400B                   M           JSR     @R0                     ;
 8887 00000C88 0009                   M           NOP                                     ;
 8888                            1788                                             ;上昇ホールドするかしないか
 8889                            1789     
 8890                            1790             FAR_JSR #_UP_HOLD_AREA_MASK,R0  ;安全一行程中のマスクするかしないかの条件
 8891 00000C8A D008                   M           MOV.L   #_UP_HOLD_AREA_MASK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8892 00000C8C 400B                   M           JSR     @R0                     ;
 8893 00000C8E 0009                   M           NOP                                     ;
 8894                            1791     
 8895                            1792     
 8896                            1793             FAR_JSR #_MODE_SGL_STOP_CHK,R0  ;AUTO SIGNAL MAKE　AUTOのための処理
 8897 00000C90 D007                   M           MOV.L   #_MODE_SGL_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8898 00000C92 400B                   M           JSR     @R0                     ;
 8899 00000C94 0009                   M           NOP                                     ;
 8900                            1794     
 8901 00000C96 D107              1795             MOV.L   #_UP_HOLD_FLG,R1        ;
 8902 00000C98 6011              1796             MOV.W   @R1,R0                  ;
 8903 00000C9A C802              1797             TST     #BIT1,R0                ;上昇無効
 8904                            1798             TST_BIT_OF SGL_UP_HOLD_MASK050  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    56
PROGRAM NAME =

 8905 00000C9C 8902                   M           BT      SGL_UP_HOLD_MASK050
 8906                            1799     
 8907                            1800             FAR_JSR #_SFTY_MASK_START,R0    ;[[[[]]]]
 8908 00000C9E D006                   M           MOV.L   #_SFTY_MASK_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8909 00000CA0 400B                   M           JSR     @R0                     ;
 8910 00000CA2 0009                   M           NOP                                     ;
 8911                            1801     
 8912                            1802     
 8913                            1803     ;       -------- 2007-02-05 ----------
 8914                            1804     ;2015-09-06_BRK_SADOU_CHG EQ 1
 8915                            1805     ;;;廃止 FAR_JSR #_SFTY_DLY_SET1,R0      ;
 8916                            1806     
 8917                            1807     ;;;;;   -------- 2006-11-21-------------
 8918                            1808     ;;;;;   MOV.L   #_PAR_SELF_WAIT_TM,R1   ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの時間
 8919                            1809     ;;;;;   MOV.W   @R1,R0                  ;
 8920                            1810     ;;;;;   -------- 2007-01-16-----
 8921                            1811     ;;;;;   MOV.L   #_PAR_SLOCK_DLY2,R1     ;
 8922                            1812     ;;;;;   MOV.W   @R1,R1                  ;
 8923                            1813     ;;;;;   ADD     R1,R0                   ;
 8924                            1814     ;;;;;   MOV.L   #_SFTY_LOCK_DLYTM,R1    ;
 8925                            1815     ;;;;;   MOV.W   R0,@R1                  ;(上昇ﾎｰﾙﾄﾞ無効)
 8926                            1816     ;;;;;;  ---------------------------------
 8927                            1817     
 8928                            1818     
 8929 00000CA4                   1819     SGL_UP_HOLD_MASK050:
 8930                            1820             M_BRA   RDY_CHK_1000            ;
 8931 00000CA4 A025                   M           BRA     RDY_CHK_1000
 8932 00000CA6 0009                   M           NOP
 8933                            1821     
 8934                                     ***** BEGIN-POOL *****
 8935 00000CA8 00000000                   DATA FOR SOURCE-LINE 1787
 8936 00000CAC 00000000                   DATA FOR SOURCE-LINE 1790
 8937 00000CB0 00000000                   DATA FOR SOURCE-LINE 1793
 8938 00000CB4 00000000                   DATA FOR SOURCE-LINE 1795
 8939 00000CB8 00000000                   DATA FOR SOURCE-LINE 1800
 8940                                     ***** END-POOL *****
 8941 00000CBC                   1822     RDY_CHK_0700:
 8942                            1823     
 8943 00000CBC C810              1824             TST     #_W1OPT,R0              ;
 8944                            1825             TST_BIT_OF RDY_CHK_0750         ;
 8945 00000CBE 890B                   M           BT      RDY_CHK_0750
 8946                            1826             FAR_JSR #_CTRL_UP_HOLD_CHK,R0   ;(上昇ﾎｰﾙﾄﾞまたは上昇無効の運転を行うﾓｰﾄﾞで呼ばれ
                                          る)
 8947 00000CC0 D003                   M           MOV.L   #_CTRL_UP_HOLD_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8948 00000CC2 400B                   M           JSR     @R0                     ;
 8949 00000CC4 0009                   M           NOP                                     ;
 8950                            1827             FAR_JSR #_MODE_OPT_STOP_CHK,R0  ;OPTION=安全一工程(分けるか?)
 8951 00000CC6 D003                   M           MOV.L   #_MODE_OPT_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8952 00000CC8 400B                   M           JSR     @R0                     ;
 8953 00000CCA 0009                   M           NOP                                     ;
 8954                            1828             M_BRA   RDY_CHK_1000            ;
 8955 00000CCC A011                   M           BRA     RDY_CHK_1000
 8956 00000CCE 0009                   M           NOP
 8957                                     ***** BEGIN-POOL *****
 8958 00000CD0 00000000                   DATA FOR SOURCE-LINE 1826
 8959 00000CD4 00000000                   DATA FOR SOURCE-LINE 1827
 8960                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    57
PROGRAM NAME =

 8961 00000CD8                   1829     RDY_CHK_0750:
 8962                            1830     
 8963 00000CD8 C840              1831             TST     #_W1DUP,R0                      ;
 8964                            1832             TST_BIT_OF RDY_CHK_0950                 ;
 8965 00000CDA 8907                   M           BT      RDY_CHK_0950
 8966                            1833             FAR_JSR #_MODE_DUP_STOP_CHK,R0          ;待機点復帰
 8967 00000CDC D002                   M           MOV.L   #_MODE_DUP_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8968 00000CDE 400B                   M           JSR     @R0                     ;
 8969 00000CE0 0009                   M           NOP                                     ;
 8970                            1834             M_BRA   RDY_CHK_1000
 8971 00000CE2 A006                   M           BRA     RDY_CHK_1000
 8972 00000CE4 0009                   M           NOP
 8973                                     ***** BEGIN-POOL *****
 8974 00000CE6 0000                       ALIGNMENT CODE
 8975 00000CE8 00000000                   DATA FOR SOURCE-LINE 1833
 8976                                     ***** END-POOL *****
 8977 00000CEC                   1835     RDY_CHK_0950:
 8978                            1836     
 8979                            1837             FAR_JSR #_MODE_DIC_STOP_CHK,R0  ;段取
 8980 00000CEC D008                   M           MOV.L   #_MODE_DIC_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8981 00000CEE 400B                   M           JSR     @R0                     ;
 8982 00000CF0 0009                   M           NOP                                     ;
 8983                            1838     
 8984                            1839     ;       ===================================
 8985                            1840     ;       ===     位置決め部              ===
 8986                            1841     ;       ===================================
 8987 00000CF2                   1842     RDY_CHK_1000:
 8988                            1843             FAR_JSR #_MN_POS_CTRL_ACT,R1            ;<00:運転継続中>
 8989 00000CF2 D108                   M           MOV.L   #_MN_POS_CTRL_ACT,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8990 00000CF4 410B                   M           JSR     @R1                     ;
 8991 00000CF6 0009                   M           NOP                                     ;
 8992                            1844                                                     ;<寸動等の停止 -->準備未完了へ "FF">
 8993                            1845                                                     ;<ｻｲｸﾙ終了->ｾﾙﾌﾁｪｯｸへ          "55">
 8994 00000CF8 D107              1846             MOV.L   #_END_CMD_LATCH,R1
 8995 00000CFA 2101              1847             MOV.W   R0,@R1                          ;
 8996 00000CFC 2008              1848             TST     R0,R0                           ;
 8997                            1849             TST_BIT_OF RDY_CHK_EXIT                 ;(継続)
 8998 00000CFE 8942                   M           BT      RDY_CHK_EXIT
 8999                            1850     
 9000 00000D00 200A              1851             XOR     R0,R0                           ;
 9001 00000D02 D106              1852             MOV.L   #_CMPSTEP_POS_START,R1          ;//起動したい
 9002 00000D04 2101              1853             MOV.W   R0,@R1                          ;
 9003                            1854             FAR_JSR #_CPU_BA_STR_OF_OUT,R0          ;(相手の起動信号ｸﾘｱ)
 9004 00000D06 D006                   M           MOV.L   #_CPU_BA_STR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9005 00000D08 400B                   M           JSR     @R0                     ;
 9006 00000D0A 0009                   M           NOP                                     ;
 9007                            1855             M_BRA   RDY_CHK_EXIT                    ;
 9008 00000D0C A03B                   M           BRA     RDY_CHK_EXIT
 9009 00000D0E 0009                   M           NOP
 9010                            1856     
 9011                                     ***** BEGIN-POOL *****
 9012 00000D10 00000000                   DATA FOR SOURCE-LINE 1837
 9013 00000D14 00000000                   DATA FOR SOURCE-LINE 1843
 9014 00000D18 00000000                   DATA FOR SOURCE-LINE 1846
 9015 00000D1C 00000000                   DATA FOR SOURCE-LINE 1852
 9016 00000D20 00000000                   DATA FOR SOURCE-LINE 1854
 9017                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    58
PROGRAM NAME =

 9018 00000D24                   1857     RDY_CHK_1200:
 9019                            1858             FAR_JSR #_CPU_BA_STR_ON_JG,R0           ;
 9020 00000D24 D005                   M           MOV.L   #_CPU_BA_STR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9021 00000D26 400B                   M           JSR     @R0                     ;
 9022 00000D28 0009                   M           NOP                                     ;
 9023 00000D2A 2008              1859             TST     R0,R0                           ;
 9024                            1860             TST_BIT_ON RDY_CHK_EXIT                 ;起動状態のまま
 9025 00000D2C 8B2B                   M           BF      RDY_CHK_EXIT
 9026                            1861     
 9027 00000D2E D104              1862             MOV.L   #_END_CMD_LATCH,R1              ;
 9028 00000D30 6011              1863             MOV.W   @R1,R0                          ;
 9029                            1864     
 9030 00000D32 8855              1865             CMP/EQ  #H'55,R0                        ;
 9031 00000D34 8906              1866             BT      RDY_CHK_CYCL_END                ;ｻｲｸﾙｴﾝﾄﾞ
 9032                            1867             M_BRA   RDY_CHK_END_COM                 ;寸動終了
 9033 00000D36 A014                   M           BRA     RDY_CHK_END_COM
 9034 00000D38 0009                   M           NOP
 9035                            1868     
 9036                                     ***** BEGIN-POOL *****
 9037 00000D3A 0000                       ALIGNMENT CODE
 9038 00000D3C 00000000                   DATA FOR SOURCE-LINE 1858
 9039 00000D40 00000000                   DATA FOR SOURCE-LINE 1862
 9040                                     ***** END-POOL *****
 9041 00000D44                   1869     RDY_CHK_CYCL_END:
 9042                            1870     ;;本当はここだけど、ここにこない        FAR_JSR #_UP_HOLD_FLG_CLR2,R0           ;(ﾛｯﾄｶｳﾝﾀ
                                          には使用できないので注意)
 9043                            1871     
 9044 00000D44 D112              1872             MOV.L   #_MODE_SEL,R1                   ;
 9045 00000D46 6011              1873             MOV.W   @R1,R0                          ;
 9046 00000D48 9220              1874             MOV.W   #(_W1DUP+_W1DIC+_W1INC),R2      ;
 9047 00000D4A 2028              1875             TST     R2,R0                           ;
 9048                            1876             TST_BIT_ON RDY_CHK_END_COM              ;
 9049 00000D4C 8B09                   M           BF      RDY_CHK_END_COM
 9050                            1877     
 9051 00000D4E D111              1878             MOV.L   #_SELF_CHK_SEL,R1               ;
 9052 00000D50 6011              1879             MOV.W   @R1,R0                          ;
 9053 00000D52 C802              1880             TST     #BIT1,R0                        ;2006-04-10 運転終了時にセルフするBIT1=1
 9054                            1881             TST_BIT_OF RDY_CHK_END_COM              ;ｾﾙﾌしない
 9055 00000D54 8905                   M           BT      RDY_CHK_END_COM
 9056                            1882     
 9057                            1883     ;;2006-04-10    TST     #BIT0,R0                        ;
 9058                            1884     ;;2006-04-10    TST_BIT_OF RDY_CHK_END_COM              ;ｾﾙﾌしない
 9059                            1885     
 9060                            1886     ;;2006-04-10    TST     #BIT1,R0                        ;
 9061                            1887     ;;2006-04-10    TST_BIT_OF RDY_CHK_END_COM              ;//制御停止時ｾﾙﾌﾁｪｯｸしない JUMP
 9062                            1888     
 9063 00000D56 D110              1889             MOV.L   #_SELF_TIMING_SIG,R1            ;2006-04-10
 9064 00000D58 9019              1890             MOV.W   #1,R0                           ;2006-04-10
 9065 00000D5A 2101              1891             MOV.W   R0,@R1                          ;2006-04-10
 9066                            1892     
 9067                            1893     ; ==== //制御停止時ｾﾙﾌﾁｪｯｸする===
 9068 00000D5C D10F              1894             MOV.L   #_IN_RDY_FLG,R1                 ;(待機点停止時に発生する:今回これは発生さ
                                          せない)
 9069 00000D5E 200A              1895             XOR     R0,R0                           ;
 9070 00000D60 2101              1896             MOV.W   R0,@R1                          ;
 9071                            1897     
 9072 00000D62                   1898     RDY_CHK_END_COM:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    59
PROGRAM NAME =

 9073                            1899             FAR_JSR #_STEP_SIG_DSP_CLR,R0           ;行程ｸﾘｱ
 9074 00000D62 D00F                   M           MOV.L   #_STEP_SIG_DSP_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9075 00000D64 400B                   M           JSR     @R0                     ;
 9076 00000D66 0009                   M           NOP                                     ;
 9077                            1900     
 9078                            1901             FAR_JSR #_UP_HOLD_FLG_CLR1,R0           ;中断及び１回転終了時
 9079 00000D68 D00E                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9080 00000D6A 400B                   M           JSR     @R0                     ;
 9081 00000D6C 0009                   M           NOP                                     ;
 9082                            1902     
 9083                            1903             FAR_JSR #_AUTO_OF,R0                    ;
 9084 00000D6E D00E                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9085 00000D70 400B                   M           JSR     @R0                     ;
 9086 00000D72 0009                   M           NOP                                     ;
 9087                            1904     
 9088 00000D74 200A              1905             XOR     R0,R0
 9089 00000D76 D10D              1906             MOV.L   #_DRV_ACT_FLG,R1                ;//運転動作ﾌﾗｸﾞ BIT0:運転中
 9090 00000D78 2101              1907             MOV.W   R0,@R1                          ;
 9091                            1908     
 9092                            1909             FAR_JSR #_API_BREAK_VALV_FLG_OF,R0      ;2014-08-05
 9093 00000D7A D00D                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9094 00000D7C 400B                   M           JSR     @R0                     ;
 9095 00000D7E 0009                   M           NOP                                     ;
 9096                            1910     
 9097                            1911             FAR_JSR #_FRCYCL_OF,R0                  ;上昇無効
 9098 00000D80 D00C                   M           MOV.L   #_FRCYCL_OF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9099 00000D82 400B                   M           JSR     @R0                     ;
 9100 00000D84 0009                   M           NOP                                     ;
 9101                            1912     
 9102 00000D86                   1913     RDY_CHK_EXIT:
 9103                            1914             SUB_END
 9104                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9105 00000D86 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9106                            1915             M_RTS
 9107 00000D88 000B                   M           RTS                             ;RTSの後ろの
 9108 00000D8A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9109                            1916     
 9110                            1917     
 9111                            1918     ;       ***********************************
 9112                            1919     ;       ***                             ***
 9113                            1920     ;       ***     RDY-ON 維持条件         ***
 9114                            1921     ;       ***                             ***
 9115                            1922     ;       ***********************************
 9116                            1923     ;       R0=0 RDY ON KEEP
 9117                                     ***** BEGIN-POOL *****
 9118 00000D8C 0062                       DATA FOR SOURCE-LINE 1874
 9119 00000D8E 0001                       DATA FOR SOURCE-LINE 1890
 9120 00000D90 00000000                   DATA FOR SOURCE-LINE 1872
 9121 00000D94 00000000                   DATA FOR SOURCE-LINE 1878
 9122 00000D98 00000000                   DATA FOR SOURCE-LINE 1889
 9123 00000D9C 00000000                   DATA FOR SOURCE-LINE 1894
 9124 00000DA0 00000000                   DATA FOR SOURCE-LINE 1899
 9125 00000DA4 00000000                   DATA FOR SOURCE-LINE 1901
 9126 00000DA8 00000000                   DATA FOR SOURCE-LINE 1903
 9127 00000DAC 00000000                   DATA FOR SOURCE-LINE 1906
 9128 00000DB0 00000000                   DATA FOR SOURCE-LINE 1909
 9129 00000DB4 00000000                   DATA FOR SOURCE-LINE 1911
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    60
PROGRAM NAME =

 9130                                     ***** END-POOL *****
 9131 00000DB8                   1924     _RDYON_CONF1:
 9132                            1925             SUB_START
 9133 00000DB8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9134                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9135 00000DBA D113              1926             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340
 9136 00000DBC 6011              1927             MOV.W   @R1,R0                          ;
 9137 00000DBE 941D              1928             MOV.W   #BIT14,R4                       ;
 9138 00000DC0 2048              1929             TST     R4,R0                           ;
 9139                            1930             TST_BIT_ON RDY_ON_CF_999                ;一旦停止指令
 9140 00000DC2 8B2B                   M           BF      RDY_ON_CF_999
 9141                            1931     
 9142                            1932     ;       ----------------------------------------------
 9143                            1933             _MONI_RDY_SET SETNO=10,SETREG=R0,WKREG=R1       ;2014-09-13
 9144 00000DC4 901B                   M           MOV.W   #10,R0
 9145 00000DC6 D111                   M           MOV.L   #_MONI_RDY_STEP,R1
 9146 00000DC8 2101                   M           MOV.W   R0,@R1
 9147                            1934     ;       ----------------------------------------------
 9148                            1935     
 9149 00000DCA D111              1936             MOV.L   #_SFTY_IN_DAT,R1                ;//安全装置入力 BIT0:前安全　BIT1:後安全装
                                          置
 9150 00000DCC 6011              1937             MOV.W   @R1,R0                          ;
 9151 00000DCE C803              1938             TST     #(BIT1+BIT0),R0                 ;FACT/RACT
 9152                            1939             TST_BIT_ON RDY_ON_CF_999                ;
 9153 00000DD0 8B24                   M           BF      RDY_ON_CF_999
 9154                            1940     
 9155                            1941     ;       ----------------------------------------------
 9156                            1942             _MONI_RDY_SET SETNO=11,SETREG=R0,WKREG=R1       ;2014-09-13
 9157 00000DD2 9015                   M           MOV.W   #11,R0
 9158 00000DD4 D10D                   M           MOV.L   #_MONI_RDY_STEP,R1
 9159 00000DD6 2101                   M           MOV.W   R0,@R1
 9160                            1943     ;       ----------------------------------------------
 9161                            1944     
 9162 00000DD8 D10E              1945             MOV.L   #_MODE_SEL,R1                   ;
 9163 00000DDA 6611              1946             MOV.W   @R1,R6                          ;
 9164 00000DDC 9211              1947             MOV.W   #(_W1DUP+_W1DIC+_W1INC),R2      ;
 9165 00000DDE 2628              1948             TST     R2,R6                           ;
 9166                            1949             TST_BIT_ON RDY_ON_CF_998                ;(寸動・段取はﾛｯﾄｶｳﾝﾄｱｯﾌﾟは関係なし)
 9167 00000DE0 8B09                   M           BF      RDY_ON_CF_998
 9168                            1950     
 9169                            1951     ;       ----------------------------------------------
 9170                            1952             _MONI_RDY_SET SETNO=12,SETREG=R0,WKREG=R1       ;2014-09-13
 9171 00000DE2 900F                   M           MOV.W   #12,R0
 9172 00000DE4 D109                   M           MOV.L   #_MONI_RDY_STEP,R1
 9173 00000DE6 2101                   M           MOV.W   R0,@R1
 9174                            1953     ;       ----------------------------------------------
 9175                            1954     
 9176 00000DE8 D10B              1955             MOV.L   #_CNT_STOP_CMD,R1               ;
 9177 00000DEA 6011              1956             MOV.W   @R1,R0                          ;
 9178 00000DEC 2008              1957             TST     R0,R0                           ;
 9179                            1958             TST_BIT_ON RDY_ON_CF_999                ;連続停止,LOT,設定異常
 9180 00000DEE 8B15                   M           BF      RDY_ON_CF_999
 9181                            1959     
 9182                            1960     ;;      MOV.L   #_di1_cb_ctl1_dt,R1             ;
 9183                            1961     ;;      MOV.W   @R1,R0                          ;
 9184                            1962     ;;      MOV.W   #_W1END,R2                      ;
 9185                            1963     ;;      TST     R2,R0                           ;連続停止
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    61
PROGRAM NAME =

 9186                            1964     ;;      TST_BIT_ON RDY_ON_CF_999                ;
 9187                            1965     
 9188                            1966     ;       ----------------------------------------------
 9189                            1967             _MONI_RDY_SET SETNO=13,SETREG=R0,WKREG=R1       ;2014-09-13
 9190 00000DF0 9009                   M           MOV.W   #13,R0
 9191 00000DF2 D106                   M           MOV.L   #_MONI_RDY_STEP,R1
 9192 00000DF4 2101                   M           MOV.W   R0,@R1
 9193                            1968     ;       ----------------------------------------------
 9194                            1969     
 9195 00000DF6                   1970     RDY_ON_CF_998:
 9196 00000DF6 200A              1971             XOR     R0,R0                   ;準備完了
 9197                            1972             M_BRA   RDY_ON_CF_EXT           ;
 9198 00000DF8 A011                   M           BRA     RDY_ON_CF_EXT
 9199 00000DFA 0009                   M           NOP
 9200                                     ***** BEGIN-POOL *****
 9201 00000DFC 4000                       DATA FOR SOURCE-LINE 1928
 9202 00000DFE 000A                       DATA FOR SOURCE-LINE 1933
 9203 00000E00 000B                       DATA FOR SOURCE-LINE 1942
 9204 00000E02 0062                       DATA FOR SOURCE-LINE 1947
 9205 00000E04 000C                       DATA FOR SOURCE-LINE 1952
 9206 00000E06 000D                       DATA FOR SOURCE-LINE 1967
 9207 00000E08 00000000                   DATA FOR SOURCE-LINE 1926
 9208 00000E0C 00000000                   DATA FOR SOURCE-LINE 1933,1942,1952,1967
 9209 00000E10 00000000                   DATA FOR SOURCE-LINE 1936
 9210 00000E14 00000000                   DATA FOR SOURCE-LINE 1945
 9211 00000E18 00000000                   DATA FOR SOURCE-LINE 1955
 9212                                     ***** END-POOL *****
 9213 00000E1C                   1973     RDY_ON_CF_999:
 9214 00000E1C E0FF              1974             MOV     #-1,R0                  ;準備未完了
 9215 00000E1E                   1975     RDY_ON_CF_EXT:
 9216                            1976             SUB_END
 9217                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9218 00000E1E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9219                            1977             M_RTS
 9220 00000E20 000B                   M           RTS                             ;RTSの後ろの
 9221 00000E22 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9222                            1978     
 9223                            1979     ;       ***********************************
 9224                            1980     ;       ***                             ***
 9225                            1981     ;       ***     2006-04-10              ***
 9226                            1982     ;       ***                             ***
 9227                            1983     ;       ***********************************
 9228                            1984     ;;;;2015-09-06
 9229                            1985     ;;;;_BRK_SADOU_CHG EQ 0 廃止
 9230                            1986     ;;;;_RDY_OF_SFTY_LOCK:
 9231                            1987     ;;;;    SUB_START
 9232                            1988     ;;;;    MOV.L   #_PAR_SFTY_BRKSEL,R1            ;
 9233                            1989     ;;;;    MOV.W   @R1,R0                          ;
 9234                            1990     ;;;;    CMP/EQ  #1,R0                           ;
 9235                            1991     ;;;;    BF      RDY_OF_SFTYLOCK_END             ;
 9236                            1992     ;;;;
 9237                            1993     ;;;;;   ----------- 位置決め完了から遅延時間分は遮光になってもブレーキかけない安一------
 9238                            1994     ;;;;;   (ｾﾙﾌﾁｪｯｸ遅延時間)2007-01-16(ﾌﾞﾚｰｷをかけない)
 9239                            1995     ;;;;    MOV.L   #_SFTY_LOCK_DLYTM,R1            ;
 9240                            1996     ;;;;    MOV.W   @R1,R0                          ;(上昇ﾎｰﾙﾄﾞ無効)
 9241                            1997     ;;;;    TST     R0,R0                           ;
 9242                            1998     ;;;;    TST_BIT_ON RDY_OF_SFTYLOCK_END          ;(位置決め完了遅延時間)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    62
PROGRAM NAME =

 9243                            1999     ;;;;
 9244                            2000     ;;;;
 9245                            2001     ;;;;    MOV.L   #_SFTY_IN_DAT,R1                ;//安全装置入力 BIT0:前安全　BIT1:後安全装
                                          置
 9246                            2002     ;;;;    MOV.W   @R1,R0                          ;
 9247                            2003     ;;;;    TST     #(BIT1+BIT0),R0                 ;FACT/RACT
 9248                            2004     ;;;;    TST_BIT_OF RDY_OF_SFTYLOCK_100          ;
 9249                            2005     ;;;;
 9250                            2006     ;;;;
 9251                            2007     ;;;;    MOV.W   #BIT0,R0                        ;
 9252                            2008     ;;;;    MOV.L   #_RDY_SFTY_LOCK,R1              ;//BIT0:LOCK
 9253                            2009     ;;;;    MOV.W   R0,@R1                          ;
 9254                            2010     ;;;;    M_BRA   RDY_OF_SFTYLOCK_END             ;
 9255                            2011     ;;;;
 9256                            2012     ;;;;RDY_OF_SFTYLOCK_100:
 9257                            2013     ;;;;    XOR     R0,R0
 9258                            2014     ;;;;    MOV.L   #_RDY_SFTY_LOCK,R1              ;//BIT0:LOCK
 9259                            2015     ;;;;    MOV.W   R0,@R1                          ;
 9260                            2016     ;;;;
 9261                            2017     ;;;;RDY_OF_SFTYLOCK_END:
 9262                            2018     ;;;;    SUB_END
 9263                            2019     ;;;;    M_RTS
 9264                            2020     
 9265                            2021     
 9266                            2022     ;       ***********************************
 9267                            2023     ;       ***                             ***
 9268                            2024     ;       ***     RDY-ON から起動条件     ***
 9269                            2025     ;       ***             準備未完へ      ***
 9270                            2026     ;       ***                             ***
 9271                            2027     ;       ***********************************
 9272                            2028     ;       (0.5秒同時ON,)
 9273                            2029     ;       R0=00(KEEP) H'55(起動) FF(準備未完へ)
 9274 00000E24                   2030     _BTTN_START_CHK:
 9275                            2031             SUB_START
 9276 00000E24 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9277                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9278                            2032     
 9279                            2033     ;       ------- 2007-01-16(遮光装置の遅延時の起動記憶)----------
 9280 00000E26 D105              2034             MOV.L   #_DRV_START_KEEP,R1             ;FLG
 9281 00000E28 6011              2035             MOV.W   @R1,R0                          ;
 9282 00000E2A C801              2036             TST     #BIT0,R0                        ;
 9283                            2037             TST_BIT_OF BTTN_DRVSEP_CHK_END          ;
 9284 00000E2C 890D                   M           BT      BTTN_DRVSEP_CHK_END
 9285                            2038     
 9286 00000E2E D104              2039             MOV.L   #_BTTN_FLG,R1                   ;
 9287 00000E30 6011              2040             MOV.W   @R1,R0                          ;
 9288 00000E32 C804              2041             TST     #BIT2,R0                        ;両手ON
 9289                            2042             TST_BIT_OF BTTN_DRVSEP_CHK_CLR          ;両手ONをやめた
 9290 00000E34 8906                   M           BT      BTTN_DRVSEP_CHK_CLR
 9291                            2043             M_BRA   BTTN_START_CK570                ;
 9292 00000E36 A09E                   M           BRA     BTTN_START_CK570
 9293 00000E38 0009                   M           NOP
 9294                            2044     
 9295                                     ***** BEGIN-POOL *****
 9296 00000E3A 0000                       ALIGNMENT CODE
 9297 00000E3C 00000000                   DATA FOR SOURCE-LINE 2034
 9298 00000E40 00000000                   DATA FOR SOURCE-LINE 2039
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    63
PROGRAM NAME =

 9299                                     ***** END-POOL *****
 9300 00000E44                   2045     BTTN_DRVSEP_CHK_CLR:
 9301 00000E44 200A              2046             XOR     R0,R0                   ;
 9302 00000E46 D10B              2047             MOV.L   #_DRV_START_KEEP,R1     ;FLG
 9303 00000E48 2101              2048             MOV.W   R0,@R1                  ;;
 9304 00000E4A                   2049     BTTN_DRVSEP_CHK_END:
 9305                            2050     
 9306                            2051     
 9307                            2052     ;;_BRK_SADOU_CHG EQ 0
 9308                            2053     ;;;;;;2015-09-06
 9309                            2054     ;;;;;;; ------- 2007-01-23(遮光装置の遅延時手動パルサは受け付けない)-------
 9310                            2055     ;;;;;;  MOV.L   #_RDY_SFTY_WAIT_TIM,R1                          ;
 9311                            2056     ;;;;;;  MOV.W   @R1,R0                                          ;
 9312                            2057     ;;;;;;  TST     R0,R0                                           ;
 9313                            2058     ;;;;;;  TST_BIT_OF BTTN_DRVTEP_CHKEND                           ;
 9314                            2059     ;;;;;;  FAR_JSR #_TEPA_PLSCNT_CLR,R0                            ;
 9315                            2060     ;;;;;;BTTN_DRVTEP_CHKEND
 9316                            2061     ;       ---------------------------------[2]
 9317                            2062     
 9318                            2063     
 9319                            2064     
 9320                            2065     
 9321                            2066     
 9322 00000E4A D10B              2067             MOV.L   #_BTTN_FLG,R1           ;
 9323 00000E4C 6011              2068             MOV.W   @R1,R0                  ;
 9324 00000E4E C801              2069             TST     #BIT0,R0                ;両手ﾌﾘ?
 9325                            2070             TST_BIT_OF BTTN_START_CK100     ;NO JUMP
 9326 00000E50 8905                   M           BT      BTTN_START_CK100
 9327                            2071     
 9328                            2072             FAR_JSR #_TEPA_PLSCNT_CLR,R0    ;2006-07-28
 9329 00000E52 D00A                   M           MOV.L   #_TEPA_PLSCNT_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9330 00000E54 400B                   M           JSR     @R0                     ;
 9331 00000E56 0009                   M           NOP                                     ;
 9332                            2073     
 9333 00000E58 9209              2074             MOV.W   #_SYS_BSAME_TIM,R2      ;(両手ﾌﾘｰ)
 9334 00000E5A D109              2075             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
 9335 00000E5C 2121              2076             MOV.W   R2,@R1                  ;
 9336 00000E5E                   2077     BTTN_START_CK100:
 9337                            2078     
 9338 00000E5E D109              2079             MOV.L   #_MODE_SEL,R1           ;
 9339 00000E60 6611              2080             MOV.W   @R1,R6                  ;
 9340 00000E62 9205              2081             MOV.W   #_W1CNT,R2              ;
 9341 00000E64 2628              2082             TST     R2,R6                   ;
 9342                            2083             TST_BIT_ON BTTN_START_CK150     ;
 9343 00000E66 8B0F                   M           BF      BTTN_START_CK150
 9344 00000E68 9203              2084             MOV.W   #H'7FFF,R2              ;連続以外はいつでも7FFF設定
 9345                            2085             M_BRA   BTTN_START_CK220        ;
 9346 00000E6A A042                   M           BRA     BTTN_START_CK220
 9347 00000E6C 0009                   M           NOP
 9348                            2086     
 9349                                     ***** BEGIN-POOL *****
 9350 00000E6E 01F4                       DATA FOR SOURCE-LINE 2074
 9351 00000E70 0008                       DATA FOR SOURCE-LINE 2081
 9352 00000E72 7FFF                       DATA FOR SOURCE-LINE 2084
 9353 00000E74 00000000                   DATA FOR SOURCE-LINE 2047
 9354 00000E78 00000000                   DATA FOR SOURCE-LINE 2067
 9355 00000E7C 00000000                   DATA FOR SOURCE-LINE 2072
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    64
PROGRAM NAME =

 9356 00000E80 00000000                   DATA FOR SOURCE-LINE 2075
 9357 00000E84 00000000                   DATA FOR SOURCE-LINE 2079
 9358                                     ***** END-POOL *****
 9359 00000E88                   2087     BTTN_START_CK150:
 9360                            2088     ;       **********************************
 9361                            2089     ;       ***     2004-01-26              **
 9362                            2090     ;       **********************************
 9363 00000E88 D106              2091             MOV.L   #_MODE_SEL,R1           ;
 9364 00000E8A 6011              2092             MOV.W   @R1,R0                  ;
 9365 00000E8C 9108              2093             MOV.W   #(BIT12+BIT11),R1       ;
 9366 00000E8E 2018              2094             TST     R1,R0                   ;OPTIONの連続寸動
 9367                            2095             TST_BIT_ON BTTN_START_CK180     ;本当のｵﾌﾟｼｮﾝではない
 9368 00000E90 8B03                   M           BF      BTTN_START_CK180
 9369                            2096     
 9370                            2097     ;       ===============================================
 9371                            2098     ;       ====== ｾｯﾄｱｯﾌﾟ仕様CHEAK 未なら 7FFF=R2 CK220へ==
 9372                            2099     ;       ================================================
 9373 00000E92 D105              2100             MOV.L   #_CB_SEQ_SW_SEL028,R1   ;//SEQ 28
 9374 00000E94 6011              2101             MOV.W   @R1,R0                  ;28.4
 9375 00000E96 C810              2102             TST     #BIT4,R0                ;
 9376                            2103             TST_BIT_ON BTTN_START_CK190     ;ｾｯﾄｱｯﾌﾟ仕様
 9377 00000E98 8B08                   M           BF      BTTN_START_CK190
 9378 00000E9A                   2104     BTTN_START_CK180:                       ;
 9379 00000E9A 9202              2105             MOV.W   #H'7FFF,R2              ;
 9380                            2106             M_BRA   BTTN_START_CK220        ;
 9381 00000E9C A029                   M           BRA     BTTN_START_CK220
 9382 00000E9E 0009                   M           NOP
 9383                            2107     
 9384                            2108     ;       ===== ｾｯﾄｱｯﾌﾟﾁｪｯｸ ====
 9385                                     ***** BEGIN-POOL *****
 9386 00000EA0 1800                       DATA FOR SOURCE-LINE 2093
 9387 00000EA2 7FFF                       DATA FOR SOURCE-LINE 2105
 9388 00000EA4 00000000                   DATA FOR SOURCE-LINE 2091
 9389 00000EA8 00000000                   DATA FOR SOURCE-LINE 2100
 9390                                     ***** END-POOL *****
 9391 00000EAC                   2109     BTTN_START_CK190:
 9392 00000EAC D105              2110             MOV.L   #_SET_UP_TIM,R1         ;
 9393 00000EAE 6211              2111             MOV.W   @R1,R2                  ;
 9394 00000EB0 2228              2112             TST     R2,R2                   ;
 9395                            2113             TST_BIT_OF BTTN_START_CK192     ;ｾｯﾄｱｯﾌﾟ待ち
 9396 00000EB2 890B                   M           BT      BTTN_START_CK192
 9397                            2114     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
 9398                            2115             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
 9399 00000EB4 D104                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 9400 00000EB6 6011                   M           MOV.W   @R1,R0          ;
 9401 00000EB8 9403                   M           MOV.W   #LWORD (~BIT3),R4       ;
 9402 00000EBA 2049                   M           AND     R4,R0           ;
 9403 00000EBC 2101                   M           MOV.W   R0,@R1          ;
 9404                            2116             M_BRA   BTTN_START_CK195
 9405 00000EBE A00A                   M           BRA     BTTN_START_CK195
 9406 00000EC0 0009                   M           NOP
 9407                                     ***** BEGIN-POOL *****
 9408 00000EC2 FFF7                       DATA FOR SOURCE-LINE 2115
 9409 00000EC4 00000000                   DATA FOR SOURCE-LINE 2110
 9410 00000EC8 00000000                   DATA FOR SOURCE-LINE 2115
 9411                                     ***** END-POOL *****
 9412 00000ECC                   2117     BTTN_START_CK192:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    65
PROGRAM NAME =

 9413                            2118     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち状態 ======
 9414                            2119             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB206,LG=W,BIT=(BIT3),WKRG1=R1,WKRG2=R4
 9415 00000ECC D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
 9416 00000ECE 6011                   M           MOV.W   @R1,R0          ;
 9417 00000ED0 9408                   M           MOV.W   #(BIT3),R4              ;
 9418 00000ED2 204B                   M           OR      R4,R0           ;
 9419 00000ED4 2101                   M           MOV.W   R0,@R1          ;
 9420 00000ED6                   2120     BTTN_START_CK195:
 9421                            2121     
 9422 00000ED6 D305              2122             MOV.L   #_di2_cb_ctl2_on,R3     ;
 9423 00000ED8 6131              2123             MOV.W   @R3,R1                  ;
 9424 00000EDA 9204              2124             MOV.W   #_W2SUP,R2              ;連続ｾｯﾄｱｯﾌﾟ釦
 9425 00000EDC 2128              2125             TST     R2,R1                   ;
 9426                            2126             TST_BIT_ON BTTN_START_CK200     ;
 9427 00000EDE 8B07                   M           BF      BTTN_START_CK200
 9428                            2127             M_BRA   BTTN_START_CK300        ;
 9429 00000EE0 A009                   M           BRA     BTTN_START_CK300
 9430 00000EE2 0009                   M           NOP
 9431                            2128     
 9432                                     ***** BEGIN-POOL *****
 9433 00000EE4 0008                       DATA FOR SOURCE-LINE 2119
 9434 00000EE6 0080                       DATA FOR SOURCE-LINE 2124
 9435 00000EE8 00000000                   DATA FOR SOURCE-LINE 2119
 9436 00000EEC 00000000                   DATA FOR SOURCE-LINE 2122
 9437                                     ***** END-POOL *****
 9438 00000EF0                   2129     BTTN_START_CK200:
 9439 00000EF0 9214              2130             MOV.W   #_SYS_SETUP_TIM,R2      ;
 9440 00000EF2                   2131     BTTN_START_CK220:
 9441 00000EF2 D10B              2132             MOV.L   #_SET_UP_TIM,R1         ;
 9442 00000EF4 2121              2133             MOV.W   R2,@R1                  ;
 9443                            2134     
 9444                            2135     ;       ============================
 9445 00000EF6                   2136     BTTN_START_CK300:
 9446 00000EF6 D10B              2137             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
 9447 00000EF8 6211              2138             MOV.W   @R1,R2                  ;
 9448 00000EFA 2228              2139             TST     R2,R2                   ;
 9449                            2140             TST_BIT_OF BTTN_START_CK599     ;準備未完了へ
 9450 00000EFC 893E                   M           BT      BTTN_START_CK599
 9451                            2141     
 9452                            2142     ;;;;;   -------- 2011-07-04 段取の手パモードでは手パしか受付ないように変更--
 9453                            2143     ;;;;;                                   ;ｾｯﾄｱｯﾌﾟの処理が必要
 9454                            2144     ;;;;;           MOV.L   #_BTTN_FLG,R1           ;
 9455                            2145     ;;;;;           MOV.W   @R1,R0                  ;
 9456                            2146     ;;;;;           TST     #BIT2,R0                ;両手ON
 9457                            2147     ;;;;;           TST_BIT_ON BTTN_START_CK350     ;ｾｯﾄｱｯﾌﾟﾁｪｯｸ後起動処理へ
 9458                            2148     ;;;;;
 9459                            2149     ;;;;;   ;       ------- 2006-07-28 ------------
 9460                            2150     ;;;;;           MOV.L   #_MODE_SEL,R1                   ;
 9461                            2151     ;;;;;           MOV.W   @R1,R0                          ;
 9462                            2152     ;;;;;           TST     #_W1DIC,R0                      ;
 9463                            2153     ;;;;;           TST_BIT_OF BTTN_START_CK320             ;
 9464                            2154     ;;;;;
 9465                            2155     ;;;;;           FAR_JSR #_TEPA_START_CHK,R0             ;
 9466                            2156     ;;;;;           TST     R0,R0                           ;
 9467                            2157     ;;;;;           TST_BIT_ON BTTN_START_CK570             ;
 9468                            2158     ;;;;;   BTTN_START_CK320:
 9469                            2159     ;       ---------------------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    66
PROGRAM NAME =

 9470                            2160     
 9471                            2161     ;       -------------------
 9472 00000EFE D10A              2162             MOV.L   #_MODE_SEL,R1                   ;
 9473 00000F00 6011              2163             MOV.W   @R1,R0                          ;
 9474 00000F02 C820              2164             TST     #_W1DIC,R0                      ;
 9475                            2165             TST_BIT_OF BTTN_START_CK320             ;
 9476 00000F04 8916                   M           BT      BTTN_START_CK320
 9477                            2166     
 9478 00000F06 D109              2167             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 9479 00000F08 6011              2168             MOV.W   @R1,R0                          ;
 9480 00000F0A C802              2169             TST     #BIT1,R0                        ;
 9481                            2170             TST_BIT_OF BTTN_START_CK320             ;手パ無効
 9482 00000F0C 8912                   M           BT      BTTN_START_CK320
 9483                            2171     
 9484                            2172             FAR_JSR #_TEPA_START_CHK,R0             ;
 9485 00000F0E D008                   M           MOV.L   #_TEPA_START_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9486 00000F10 400B                   M           JSR     @R0                     ;
 9487 00000F12 0009                   M           NOP                                     ;
 9488 00000F14 2008              2173             TST     R0,R0                           ;
 9489                            2174             TST_BIT_ON BTTN_START_CK570             ;
 9490 00000F16 8B2E                   M           BF      BTTN_START_CK570
 9491                            2175             M_BRA   BTTN_START_CK550                ;
 9492 00000F18 A02A                   M           BRA     BTTN_START_CK550
 9493 00000F1A 0009                   M           NOP
 9494                            2176     
 9495                                     ***** BEGIN-POOL *****
 9496 00000F1C 07D0                       DATA FOR SOURCE-LINE 2130
 9497 00000F1E 0000                       ALIGNMENT CODE
 9498 00000F20 00000000                   DATA FOR SOURCE-LINE 2132
 9499 00000F24 00000000                   DATA FOR SOURCE-LINE 2137
 9500 00000F28 00000000                   DATA FOR SOURCE-LINE 2162
 9501 00000F2C 00000000                   DATA FOR SOURCE-LINE 2167
 9502 00000F30 00000000                   DATA FOR SOURCE-LINE 2172
 9503                                     ***** END-POOL *****
 9504 00000F34                   2177     BTTN_START_CK320:
 9505                            2178     ;       -------- 2011-07-04 段取の手パモードでは手パしか受付ないように変更--
 9506                            2179                                     ;ｾｯﾄｱｯﾌﾟの処理が必要
 9507 00000F34 D107              2180             MOV.L   #_BTTN_FLG,R1           ;
 9508 00000F36 6011              2181             MOV.W   @R1,R0                  ;
 9509 00000F38 C804              2182             TST     #BIT2,R0                ;両手ON
 9510                            2183             TST_BIT_ON BTTN_START_CK350     ;ｾｯﾄｱｯﾌﾟﾁｪｯｸ後起動処理へ
 9511 00000F3A 8B11                   M           BF      BTTN_START_CK350
 9512                            2184     
 9513                            2185     ;       ---------------------------------
 9514                            2186     
 9515                            2187     ;       ===== ｾｯﾄｱｯﾌﾟ釦を押しながら2秒経過してしまったのかチェック===
 9516 00000F3C D106              2188             MOV.L   #_SET_UP_TIM,R1         ;
 9517 00000F3E 6211              2189             MOV.W   @R1,R2                  ;
 9518 00000F40 2228              2190             TST     R2,R2                   ;
 9519                            2191             TST_BIT_ON BTTN_START_CK550     ;
 9520 00000F42 8B15                   M           BF      BTTN_START_CK550
 9521                            2192     
 9522 00000F44 D305              2193             MOV.L   #_di2_cb_ctl2_dt,R3     ;
 9523 00000F46 6131              2194             MOV.W   @R3,R1                  ;
 9524 00000F48 9203              2195             MOV.W   #_W2SUP,R2              ;連続ｾｯﾄｱｯﾌﾟ釦
 9525 00000F4A 2128              2196             TST     R2,R1                   ;ON続けて2秒経過
 9526                            2197             TST_BIT_ON BTTN_START_CK599     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    67
PROGRAM NAME =

 9527 00000F4C 8B16                   M           BF      BTTN_START_CK599
 9528                            2198             M_BRA   BTTN_START_CK550        ;
 9529 00000F4E A00F                   M           BRA     BTTN_START_CK550
 9530 00000F50 0009                   M           NOP
 9531                            2199     
 9532                            2200     ;       ==== 運転釦ON ====
 9533                                     ***** BEGIN-POOL *****
 9534 00000F52 0080                       DATA FOR SOURCE-LINE 2195
 9535 00000F54 00000000                   DATA FOR SOURCE-LINE 2180
 9536 00000F58 00000000                   DATA FOR SOURCE-LINE 2188
 9537 00000F5C 00000000                   DATA FOR SOURCE-LINE 2193
 9538                                     ***** END-POOL *****
 9539 00000F60                   2201     BTTN_START_CK350:
 9540 00000F60 D102              2202             MOV.L   #_SET_UP_TIM,R1         ;
 9541 00000F62 6211              2203             MOV.W   @R1,R2                  ;
 9542 00000F64 2228              2204             TST     R2,R2                   ;
 9543                            2205             TST_BIT_OF BTTN_START_CK599     ;ｾｯﾄｱｯﾌﾟOFF
 9544 00000F66 8909                   M           BT      BTTN_START_CK599
 9545                            2206             M_BRA   BTTN_START_CK570
 9546 00000F68 A005                   M           BRA     BTTN_START_CK570
 9547 00000F6A 0009                   M           NOP
 9548                            2207     
 9549                            2208     
 9550                                     ***** BEGIN-POOL *****
 9551 00000F6C 00000000                   DATA FOR SOURCE-LINE 2202
 9552                                     ***** END-POOL *****
 9553 00000F70                   2209     BTTN_START_CK550:                       ;
 9554 00000F70 200A              2210             XOR     R0,R0                   ;
 9555                            2211             M_BRA   BTTN_START_CKEXT        ;
 9556 00000F72 A004                   M           BRA     BTTN_START_CKEXT
 9557 00000F74 0009                   M           NOP
 9558 00000F76                   2212     BTTN_START_CK570:
 9559 00000F76 E055              2213             MOV     #H'55,R0                ;起動
 9560                            2214             M_BRA   BTTN_START_CKEXT        ;
 9561 00000F78 A001                   M           BRA     BTTN_START_CKEXT
 9562 00000F7A 0009                   M           NOP
 9563 00000F7C                   2215     BTTN_START_CK599:                       ;
 9564 00000F7C E0FF              2216             MOV     #-1,R0                  ;準備未完へ
 9565 00000F7E                   2217     BTTN_START_CKEXT:
 9566                            2218             SUB_END
 9567                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9568 00000F7E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9569                            2219             M_RTS
 9570 00000F80 000B                   M           RTS                             ;RTSの後ろの
 9571 00000F82 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9572                            2220     
 9573                            2221     ;       *******************************************
 9574                            2222     ;       ***                                     ***
 9575                            2223     ;       ***     2016-10-31(2016-04-16)          ***
 9576                            2224     ;       ***      ｻﾌﾞﾙｰﾁﾝにする(JUMP)            ***
 9577                            2225     ;       *******************************************
 9578                            2226              .AIF   1 EQ 1  ;
 9579                            2227 C   ;       -------- 2016-10-31 ADD 二重回路対策
 9580                            2228              .AENDI
 9581                            2229     
 9582                            2230             .IMPORT _PAR_SELFCHK_POWSEL
 9583 00000F84                   2231     _SELFCHK_LOCK_SET:              ;2016-04-16
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    68
PROGRAM NAME =

 9584                            2232             SUB_START
 9585 00000F84 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9586                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9587                            2233     
 9588 00000F86 D108              2234             MOV.L   #_PAR_SELFCHK_POWSEL,R1         ;
 9589 00000F88 6011              2235             MOV.W   @R1,R0                          ;
 9590 00000F8A 8801              2236             CMP/EQ  #1,R0                           ;
 9591 00000F8C 8908              2237             BT      SELF_FORCE_POW_100              ;"1"ならちゃんとセルフする
 9592                            2238     
 9593                            2239     ;       ===== 2006-12-06 [1]=====
 9594 00000F8E 900A              2240             MOV.W   #BIT0,R0                        ;"0"なら起動１回後はセルフしない
 9595 00000F90 D106              2241             MOV.L   #_SELF_LOCK_FLG,R1              ;
 9596 00000F92 2101              2242             MOV.W   R0,@R1                          ;
 9597 00000F94 222A              2243             XOR     R2,R2                           ;
 9598 00000F96 233A              2244             XOR     R3,R3                           ;
 9599 00000F98 D105              2245             MOV.L   #_SELF_CHK_SEL,R1               ;
 9600 00000F9A 2121              2246             MOV.W   R2,@R1                          ;
 9601 00000F9C D105              2247             MOV.L   #_SELF_CHK_MATHED,R1            ;
 9602 00000F9E 2131              2248             MOV.W   R3,@R1                          ;
 9603                            2249     
 9604 00000FA0                   2250     SELF_FORCE_POW_100
 9605                            2251             SUB_END
 9606                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9607 00000FA0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9608                            2252             M_RTS
 9609 00000FA2 000B                   M           RTS                             ;RTSの後ろの
 9610 00000FA4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9611                            2253     
 9612                            2254     
 9613                            2255     ;       ***********************************
 9614                            2256     ;       ***                             ***
 9615                            2257     ;       ***     CPUA位置→CPUB位置      ***
 9616                            2258     ;       ***     2015-03-15 寸動対策     ***
 9617                            2259     ;       ***                             ***
 9618                            2260     ;       ***********************************
 9619                            2261             .IMPORT _SH_POSCTL_RL_ABSPLS
 9620                                     ***** BEGIN-POOL *****
 9621 00000FA6 0001                       DATA FOR SOURCE-LINE 2240
 9622 00000FA8 00000000                   DATA FOR SOURCE-LINE 2234
 9623 00000FAC 00000000                   DATA FOR SOURCE-LINE 2241
 9624 00000FB0 00000000                   DATA FOR SOURCE-LINE 2245
 9625 00000FB4 00000000                   DATA FOR SOURCE-LINE 2247
 9626                                     ***** END-POOL *****
 9627 00000FB8                   2262     _ELSE_CPU_START_POS_PRESET:
 9628                            2263             SUB_START
 9629 00000FB8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9630                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9631                            2264             .AIF    0 EQ    0       ;
 9632                            2265 C   
 9633                            2266             .AELSE
 9634                            2267     
 9635                            2268             MOV.L   #_SH_POSCTL_RL_ABSPLS,R4        ;CPUA
 9636                            2269             MOV.L   @(0,R4),R1                              ;
 9637                            2270             MOV.L   @(4,R4),R2                              ;
 9638                            2271     
 9639                            2272             MOV.L   @(0,R4),R5                              ;
 9640                            2273             MOV.L   @(4,R4),R6                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    69
PROGRAM NAME =

 9641                            2274             SUB     R1,R5
 9642                            2275             SUB     R2,R6                                   ;
 9643                            2276             OR      R5,R6                                   ;
 9644                            2277             TST     R6,R6                                   ;
 9645                            2278             TST_BIT_OF ELSECPU_GET_OBJPOS_100               ;8ﾊﾞｲﾄｱｸｾｽ中の問題
 9646                            2279     
 9647                            2280             MOV.L   @(0,R4),R1                              ;
 9648                            2281             MOV.L   @(4,R4),R2                              ;
 9649                            2282     
 9650                            2283     
 9651                            2284     ELSECPU_GET_OBJPOS_100
 9652                            2285             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
 9653                            2286             MOV.L   R1,@(0,R4)
 9654                            2287             MOV.L   R2,@(4,R4)
 9655                            2288     
 9656                            2289     ELSECPU_GET_OBJPOS_EXT
 9657                            2290     
 9658                            2291             .AENDI
 9659                            2292             SUB_END
 9660                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9661 00000FBA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9662                            2293             M_RTS
 9663 00000FBC 000B                   M           RTS                             ;RTSの後ろの
 9664 00000FBE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9665                            2294     
 9666                            2295     
 9667                            2296     
 9668                            2297     ;       *******************************************
 9669                            2298     ;       ***                                     ***
 9670                            2299     ;       ***                                     ***
 9671                            2300     ;       ***                                     ***
 9672                            2301     ;       *******************************************
 9673 00000FC0                   2302     _MODE_CNT_STOP_CHK:
 9674                            2303             SUB_START
 9675 00000FC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9676                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9677                            2304             FAR_JSR #_CPU_AB_CST_OF_JG,R0   ;
 9678 00000FC2 D017                   M           MOV.L   #_CPU_AB_CST_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9679 00000FC4 400B                   M           JSR     @R0                     ;
 9680 00000FC6 0009                   M           NOP                                     ;
 9681 00000FC8 2118              2305             TST     R1,R1                   ;
 9682                            2306             TST_BIT_OF MODE_CNT_STPCMP_100  ;自分のいくぞ信号ON? NO
 9683 00000FCA 890F                   M           BT      MODE_CNT_STPCMP_100
 9684                            2307     
 9685 00000FCC D115              2308             MOV.L   #_INT_POS_CTL_STEP,R1   ;//内部制御工程1~11
 9686 00000FCE 6011              2309             MOV.W   @R1,R0                  ;
 9687 00000FD0 D215              2310             MOV.L   #_CPOS_STEP_MAX,R2      ;
 9688 00000FD2 6421              2311             MOV.W   @R2,R4                  ;
 9689 00000FD4 7401              2312             ADD     #1,R4                   ;
 9690 00000FD6 3400              2313             CMP/EQ  R0,R4                   ;
 9691 00000FD8 8908              2314             BT      MODE_CNT_STPCMP_100     ;最終工程
 9692                            2315     
 9693 00000FDA 6503              2316             MOV     R0,R5                   ;push
 9694                            2317             FAR_JSR #_CPU_BA_STEP_LOAD,R2   ;ANS R3
 9695 00000FDC D213                   M           MOV.L   #_CPU_BA_STEP_LOAD,R2           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9696 00000FDE 420B                   M           JSR     @R2                     ;
 9697 00000FE0 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    70
PROGRAM NAME =

 9698 00000FE2 3500              2318             CMP/EQ  R0,R5                   ;
 9699 00000FE4 8B02              2319             BF      MODE_CNT_STPCMP_100     ;不一致状態
 9700                            2320     
 9701                            2321             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0 ;自分のいくぞ信号クリア(相手のもやったほうがいいの
                                          か？)
 9702 00000FE6 D012                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9703 00000FE8 400B                   M           JSR     @R0                     ;
 9704 00000FEA 0009                   M           NOP                                     ;
 9705                            2322     
 9706 00000FEC                   2323     MODE_CNT_STPCMP_100:
 9707                            2324     
 9708                            2325     ;       -------- 2015-11-13-------------------
 9709                            2326     ;;      MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
 9710                            2327     ;;      MOV.W   @R1,R0                          ;
 9711                            2328     ;;      MOV.W   #_WOATO,R2                      ;AUTO
 9712                            2329     ;;      TST     R2,R0                           ;
 9713                            2330     ;;      TST_BIT_ON MODE_CNT_STPCHK_200          ;AUTO ON
 9714                            2331     ;;
 9715                            2332     ;;      MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
 9716                            2333     ;;      MOV.W   @R1,R0                          ;
 9717                            2334     ;;      MOV.W   #(BIT9+BIT8),R4                 ;
 9718                            2335     ;;      TST     R4,R0                           ;
 9719                            2336     ;;      TST_BIT_OF MODE_CNT_STPCHK_199          ;通常ﾓ-ﾄﾞ
 9720                            2337     ;;
 9721                            2338     ;;      MOV.W   #BIT8,R4                        ;
 9722                            2339     ;;      TST     R4,R0                           ;ﾀｲﾏ?
 9723                            2340     ;;      TST_BIT_OF MODE_CNT_STPCHK_050
 9724                            2341     ;;      MOV.L   #_CONT_MOD_TIM_PV,R1            ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
 9725                            2342     ;;      MOV.L   @R1,R0                          ;
 9726                            2343     ;;      M_BRA   MODE_CNT_STPCHK_080             ;
 9727                            2344     ;;
 9728                            2345     ;;MODE_CNT_STPCHK_050:
 9729                            2346     ;;      MOV.L   #_CONT_MOD_CNT_PV,R1            ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
 9730                            2347     ;;      MOV.W   @R1,R0                          ;
 9731                            2348     ;;MODE_CNT_STPCHK_080:
 9732                            2349     ;;      TST     R0,R0                           ;ﾀｲﾏ/ｶｳﾝﾀ　UP?
 9733                            2350     ;;      TST_BIT_OF MODE_CNT_STPCHK_199          ;
 9734                            2351     
 9735                            2352     
 9736                            2353     ;       -------- 2015-11-13-------------------
 9737 00000FEC D111              2354             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
 9738 00000FEE 6011              2355             MOV.W   @R1,R0                          ;
 9739 00000FF0 9414              2356             MOV.W   #(BIT9+BIT8),R4                 ;
 9740 00000FF2 2048              2357             TST     R4,R0                           ;
 9741                            2358             TST_BIT_OF MODE_CNT_STPCHK_199          ;通常ﾓ-ﾄﾞ:AUTO ON固定
 9742 00000FF4 895E                   M           BT      MODE_CNT_STPCHK_199
 9743                            2359     
 9744                            2360     ;       -------------AUTO ON[ﾀｲﾏ,回転ﾓｰﾄﾞ]----------------------
 9745 00000FF6 D110              2361             MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
 9746 00000FF8 6011              2362             MOV.W   @R1,R0                          ;
 9747 00000FFA 9210              2363             MOV.W   #_WOATO,R2                      ;AUTO
 9748 00000FFC 2028              2364             TST     R2,R0                           ;
 9749                            2365             TST_BIT_OF MODE_CNT_STPCHK_120          ;AUTO OFF
 9750 00000FFE 8923                   M           BT      MODE_CNT_STPCHK_120
 9751                            2366     
 9752                            2367     ;;; .AIF 1 EQ 1
 9753                            2368     ;       --------- 相手CPU停止判定必要[2015-11-15]------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    71
PROGRAM NAME =

 9754                            2369             FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;
 9755 00001000 D00E                   M           MOV.L   #_CPU_BA_DRVSTOP_ON_JG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9756 00001002 400B                   M           JSR     @R0                     ;
 9757 00001004 0009                   M           NOP                                     ;
 9758 00001006 2008              2370             TST     R0,R0                           ;
 9759                            2371             TST_BIT_OF MODE_CNT_STPCHK_200
 9760 00001008 8957                   M           BT      MODE_CNT_STPCHK_200
 9761                            2372             MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set[ﾃ
                                          ﾞﾊﾞｯｸ用だと思う]
 9762 0000100A D10D                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
 9763 0000100C 6011                   M           MOV.W   @R1,R0          ;
 9764 0000100E CB01                   M           OR      #BIT0,R0                ;
 9765 00001010 2101                   M           MOV.W   R0,@R1          ;
 9766                            2373             FAR_JSR #_AUTO_OF,R0                    ;
 9767 00001012 D00C                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9768 00001014 400B                   M           JSR     @R0                     ;
 9769 00001016 0009                   M           NOP                                     ;
 9770                            2374             M_BRA   MODE_CNT_STPCHK_150             ;AUTO OFF
 9771 00001018 A033                   M           BRA     MODE_CNT_STPCHK_150
 9772 0000101A 0009                   M           NOP
 9773                            2375     
 9774                            2376     ;;; .AENDI
 9775                            2377     
 9776                            2378     
 9777                            2379     ;;;[2016-10-31不要]     M_BRA   MODE_CNT_STPCHK_200             ;AUTO ON
 9778                            2380     
 9779                            2381     
 9780                            2382     ;       -------------AUTO OFF[ﾀｲﾏ,回転ﾓｰﾄﾞ]----------------------
 9781                                     ***** BEGIN-POOL *****
 9782 0000101C 0300                       DATA FOR SOURCE-LINE 2356
 9783 0000101E 0040                       DATA FOR SOURCE-LINE 2363
 9784 00001020 00000000                   DATA FOR SOURCE-LINE 2304
 9785 00001024 00000000                   DATA FOR SOURCE-LINE 2308
 9786 00001028 00000000                   DATA FOR SOURCE-LINE 2310
 9787 0000102C 00000000                   DATA FOR SOURCE-LINE 2317
 9788 00001030 00000000                   DATA FOR SOURCE-LINE 2321
 9789 00001034 00000000                   DATA FOR SOURCE-LINE 2354
 9790 00001038 00000000                   DATA FOR SOURCE-LINE 2361
 9791 0000103C 00000000                   DATA FOR SOURCE-LINE 2369
 9792 00001040 00000000                   DATA FOR SOURCE-LINE 2372
 9793 00001044 00000000                   DATA FOR SOURCE-LINE 2373
 9794                                     ***** END-POOL *****
 9795 00001048                   2383     MODE_CNT_STPCHK_120                             ;AUTO OFF
 9796 00001048 D104              2384             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
 9797 0000104A 6011              2385             MOV.W   @R1,R0                          ;
 9798 0000104C 9405              2386             MOV.W   #BIT8,R4                        ;
 9799 0000104E 2048              2387             TST     R4,R0                           ;ﾀｲﾏ?
 9800                            2388             TST_BIT_OF MODE_CNT_STPCHK_050
 9801 00001050 8908                   M           BT      MODE_CNT_STPCHK_050
 9802 00001052 D103              2389             MOV.L   #_CONT_MOD_TIM_PV,R1            ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
 9803 00001054 6012              2390             MOV.L   @R1,R0                          ;
 9804                            2391             M_BRA   MODE_CNT_STPCHK_080             ;
 9805 00001056 A00A                   M           BRA     MODE_CNT_STPCHK_080
 9806 00001058 0009                   M           NOP
 9807                            2392     
 9808                                     ***** BEGIN-POOL *****
 9809 0000105A 0100                       DATA FOR SOURCE-LINE 2386
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    72
PROGRAM NAME =

 9810 0000105C 00000000                   DATA FOR SOURCE-LINE 2384
 9811 00001060 00000000                   DATA FOR SOURCE-LINE 2389
 9812                                     ***** END-POOL *****
 9813 00001064                   2393     MODE_CNT_STPCHK_050:
 9814 00001064 D10C              2394             MOV.L   #_CONT_MOD_CNT_PV,R1            ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
 9815 00001066 6011              2395             MOV.W   @R1,R0                          ;
 9816                            2396     
 9817                            2397     
 9818                            2398              .AIF   1 EQ 1  ;
 9819                            2399 C   ;       -------- 2016-10-31 ADD 二重回路対策
 9820                            2400              .AENDI
 9821                            2401     ;       -------- 2016-10-31(2016-07-21)(相手cpu状態)----------------
 9822                            2402             .AIF    0 EQ    0       ;
 9823 00001068 D10C              2403 C           MOV.L   #_CPUB_CONT_MOD_CNT_PV,R1       ;2016-07-18CHECK
 9824                            2404             .AELSE
 9825                            2405             MOV.L   #_CPUA_CONT_MOD_CNT_PV,R1       ;2016-07-18CHECK
 9826                            2406             .AENDI                                  ;
 9827 0000106A 6411              2407             MOV.W   @R1,R4                          ;
 9828 0000106C 204B              2408             OR      R4,R0                           ;自分+相手cpu
 9829                            2409     
 9830                            2410     
 9831 0000106E                   2411     MODE_CNT_STPCHK_080:
 9832 0000106E 2008              2412             TST     R0,R0                           ;ﾀｲﾏ/ｶｳﾝﾀ　UP?
 9833                            2413             TST_BIT_OF MODE_CNT_STPCHK_199          ;
 9834 00001070 8920                   M           BT      MODE_CNT_STPCHK_199
 9835                            2414     
 9836                            2415     
 9837 00001072 D10B              2416             MOV.L   #_BTTN_FLG,R1                   ;
 9838 00001074 6011              2417             MOV.W   @R1,R0                          ;
 9839 00001076 C804              2418             TST     #BIT2,R0                        ;両手ON
 9840                            2419             TST_BIT_ON MODE_CNT_STPCHK_300          ;<200の方が安全かな>
 9841 00001078 8B57                   M           BF      MODE_CNT_STPCHK_300
 9842                            2420     
 9843                            2421              .AIF   1 EQ 1  ;
 9844                            2422 C   ;       -------- 2016-10-31 ADD 二重回路対策
 9845                            2423              .AENDI
 9846                            2424     
 9847                            2425     ;       --2016-10-31(2016-07-31)(CMPERR対策)---------
 9848 0000107A D10A              2426             MOV.L   #_CMPSTEP_STEP_END,R1           ;
 9849 0000107C 6011              2427             MOV.W   @R1,R0                          ;
 9850 0000107E 2008              2428             TST     R0,R0                           ;
 9851                            2429             TST_BIT_ON MODE_CNT_STPCHK_300          ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
 9852 00001080 8B53                   M           BF      MODE_CNT_STPCHK_300
 9853                            2430     
 9854                            2431     ;[[2016-10-31]; ---------- 2015-11-13[行程2重回路対策]---------------
 9855                            2432     ;[[2016-10-31];;; .AIF 1 EQ 1
 9856                            2433     ;[[2016-10-31]  FAR_JSR #_API_ENDHAND_SIGCHK,R0 ;
 9857                            2434     ;[[2016-10-31]  TST     R0,R0                           ;
 9858                            2435     ;[[2016-10-31]  TST_BIT_ON MODE_CNT_STPCHK_300          ;ﾊﾝﾄﾞｼｪｲｸ途中は運転釦を見ない()
 9859                            2436     ;[[2016-10-31];;; .AENDI
 9860                            2437     
 9861 00001082                   2438     MODE_CNT_STPCHK_150:                            ;AUTO OFF
 9862                            2439     
 9863                            2440     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
 9864                            2441             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
 9865 00001082 D009                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9866 00001084 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    73
PROGRAM NAME =

 9867 00001086 0009                   M           NOP                                     ;
 9868                            2442     
 9869                            2443     ;       ---2007-03-02-----
 9870                            2444             MOD_LOW_STOP_R0_R1                      ;MNWR_POS_CMD=BIT1,減速停止,起動OFF
 9871 00001088 D108                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
 9872 0000108A E002                   M           MOV.B   #BIT1,R0                        ;
 9873 0000108C 2101                   M           MOV.W   R0,@R1                          ;
 9874                            2445             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;CPUBへSTOP(AUTO-ON,AUTO-OFF)に関わらず･･･
                                          AUTOにさせないため
 9875 0000108E D008                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9876 00001090 400B                   M           JSR     @R0                     ;
 9877 00001092 0009                   M           NOP                                     ;
 9878                            2446     
 9879                            2447             M_BRA   MODE_CNT_STPCHK_300             ;
 9880 00001094 A049                   M           BRA     MODE_CNT_STPCHK_300
 9881 00001096 0009                   M           NOP
 9882                            2448     
 9883                                     ***** BEGIN-POOL *****
 9884 00001098 00000000                   DATA FOR SOURCE-LINE 2394
 9885 0000109C 00000000                   DATA FOR SOURCE-LINE 2403
 9886 000010A0 00000000                   DATA FOR SOURCE-LINE 2416
 9887 000010A4 00000000                   DATA FOR SOURCE-LINE 2426
 9888 000010A8 00000000                   DATA FOR SOURCE-LINE 2441
 9889 000010AC 00000000                   DATA FOR SOURCE-LINE 2444
 9890 000010B0 00000000                   DATA FOR SOURCE-LINE 2445
 9891                                     ***** END-POOL *****
 9892 000010B4                   2449     MODE_CNT_STPCHK_199:                            ;
 9893                            2450             FAR_JSR #_AUTO_ON,R0                    ;
 9894 000010B4 D005                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9895 000010B6 400B                   M           JSR     @R0                     ;
 9896 000010B8 0009                   M           NOP                                     ;
 9897 000010BA                   2451     MODE_CNT_STPCHK_200:                            ;
 9898                            2452     
 9899                            2453     ;       -------------------------------------------
 9900 000010BA D105              2454             MOV.L   #_POSHLD1_STOPLATCH,R1          ;
 9901 000010BC 6011              2455             MOV.W   @R1,R0                          ;
 9902 000010BE 2008              2456             TST     R0,R0                           ;
 9903                            2457             TST_BIT_OF MODE_CNT_STPCHK_210          ;
 9904 000010C0 8908                   M           BT      MODE_CNT_STPCHK_210
 9905 000010C2 200A              2458             XOR     R0,R0                           ;
 9906 000010C4 2101              2459             MOV.W   R0,@R1                          ;
 9907                            2460             M_BRA   MODE_CNT_STPCHK_220             ;
 9908 000010C6 A00D                   M           BRA     MODE_CNT_STPCHK_220
 9909 000010C8 0009                   M           NOP
 9910                            2461     
 9911                                     ***** BEGIN-POOL *****
 9912 000010CA 0000                       ALIGNMENT CODE
 9913 000010CC 00000000                   DATA FOR SOURCE-LINE 2450
 9914 000010D0 00000000                   DATA FOR SOURCE-LINE 2454
 9915                                     ***** END-POOL *****
 9916 000010D4                   2462     MODE_CNT_STPCHK_210:                            ;
 9917                            2463     
 9918 000010D4 D10C              2464             MOV.L   #_CNT_STOP_CMD,R1               ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄｱｯﾌﾟ
 9919 000010D6 6011              2465             MOV.W   @R1,R0                          ;
 9920 000010D8 2008              2466             TST     R0,R0                           ;
 9921                            2467             TST_BIT_OF MODE_CNT_STPCHK_250          ;
 9922 000010DA 8907                   M           BT      MODE_CNT_STPCHK_250
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    74
PROGRAM NAME =

 9923                            2468     
 9924                            2469              .AIF   1 EQ 1  ;
 9925                            2470 C   ;       -------- 2016-10-31 ADD 二重回路対策
 9926                            2471              .AENDI
 9927                            2472     
 9928                            2473     ;       --2016-10-31(2016-08-11)(CMPERR対策)---------
 9929 000010DC D10B              2474             MOV.L   #_CNT_STOP_WAIT_TIM,R1          ;
 9930 000010DE 6011              2475             MOV.W   @R1,R0                          ;
 9931 000010E0 2008              2476             TST     R0,R0                           ;
 9932                            2477             TST_BIT_ON MODE_CNT_STPCHK_250          ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
 9933 000010E2 8B03                   M           BF      MODE_CNT_STPCHK_250
 9934                            2478     
 9935                            2479     
 9936 000010E4                   2480     MODE_CNT_STPCHK_220:                            ;
 9937                            2481     
 9938 000010E4 D10A              2482             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
 9939 000010E6 6011              2483             MOV.W   @R1,R0                          ;
 9940 000010E8 CB01              2484             OR      #BIT0,R0                        ;
 9941 000010EA 2101              2485             MOV.W   R0,@R1                          ;
 9942                            2486     
 9943 000010EC                   2487     MODE_CNT_STPCHK_250:
 9944                            2488     
 9945 000010EC D108              2489             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
 9946 000010EE 6011              2490             MOV.W   @R1,R0                          ;
 9947 000010F0 C801              2491             TST     #BIT0,R0                        ;
 9948                            2492             TST_BIT_OF MODE_CNT_STPCHK_300          ;
 9949 000010F2 891A                   M           BT      MODE_CNT_STPCHK_300
 9950                            2493     
 9951 000010F4 D107              2494             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
 9952 000010F6 6011              2495             MOV.W   @R1,R0                          ;
 9953 000010F8 D207              2496             MOV.L   #_CPOS_STEP_MAX,R2              ;
 9954 000010FA 6421              2497             MOV.W   @R2,R4                          ;
 9955 000010FC 7401              2498             ADD     #1,R4                           ;
 9956 000010FE 3400              2499             CMP/EQ  R0,R4                           ;
 9957 00001100 8B0C              2500             BF      MODE_CNT_STPCHK_280             ;最終工程以外?
 9958                            2501             M_BRA   MODE_CNT_STPCHK_300             ;
 9959 00001102 A012                   M           BRA     MODE_CNT_STPCHK_300
 9960 00001104 0009                   M           NOP
 9961                            2502     
 9962                                     ***** BEGIN-POOL *****
 9963 00001106 0000                       ALIGNMENT CODE
 9964 00001108 00000000                   DATA FOR SOURCE-LINE 2464
 9965 0000110C 00000000                   DATA FOR SOURCE-LINE 2474
 9966 00001110 00000000                   DATA FOR SOURCE-LINE 2482,2489
 9967 00001114 00000000                   DATA FOR SOURCE-LINE 2494
 9968 00001118 00000000                   DATA FOR SOURCE-LINE 2496
 9969                                     ***** END-POOL *****
 9970 0000111C                   2503     MODE_CNT_STPCHK_280:
 9971                            2504     ;       == 2004-12-20====
 9972 0000111C D104              2505             MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
 9973 0000111E 6011              2506             MOV.W   @R1,R0                                                  ;
 9974 00001120 C804              2507             TST     #BIT2,R0                                                ;2004-12-20
 9975                            2508             TST_BIT_ON MODE_CNT_STPCHK_300                                  ;(待機点停止しない
                                          ﾓｰﾄﾞは別)
 9976 00001122 8B02                   M           BF      MODE_CNT_STPCHK_300
 9977                            2509     
 9978                            2510             FAR_JSR #_STOP_LTH_OUT,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    75
PROGRAM NAME =

 9979 00001124 D003                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9980 00001126 400B                   M           JSR     @R0                     ;
 9981 00001128 0009                   M           NOP                                     ;
 9982                            2511     
 9983                            2512     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
 9984                            2513     
 9985                            2514     
 9986                            2515     
 9987 0000112A                   2516     MODE_CNT_STPCHK_300:                            ;
 9988                            2517     
 9989                            2518             SUB_END
 9990                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9991 0000112A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9992                            2519             M_RTS
 9993 0000112C 000B                   M           RTS                             ;RTSの後ろの
 9994 0000112E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9995                            2520     
 9996                            2521     
 9997                            2522     ;       ***************************************************
 9998                            2523     ;       ***                                             ***
 9999                            2524     ;       ***     2016-04-12                              ***
10000                            2525     ;       ***     連続一行程                              ***
10001                            2526     ;       ***     連続寸動一行程                          ***
10002                            2527     ;       ***     上記のための連続の共通部サブルーチン化  ***
10003                            2528     ;       ***     但し、連続には使用しないでおく          ***
10004                            2529     ;       ***                                             ***
10005                            2530     ;       ***************************************************
10006                                     ***** BEGIN-POOL *****
10007 00001130 00000000                   DATA FOR SOURCE-LINE 2505
10008 00001134 00000000                   DATA FOR SOURCE-LINE 2510
10009                                     ***** END-POOL *****
10010 00001138                   2531     _MODE_CNTCOM1_STOP_CHK:
10011                            2532             SUB_START
10012 00001138 4F22                   M           STS.L   PR,@-R15                ;[必要]
10013                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10014                            2533     
10015                            2534             FAR_JSR #_CPU_AB_CST_OF_JG,R0           ;R0=_SH4_HD_CNT_STOP,R1=_SH4_HD_CNT_CNT
10016 0000113A D00C                   M           MOV.L   #_CPU_AB_CST_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10017 0000113C 400B                   M           JSR     @R0                     ;
10018 0000113E 0009                   M           NOP                                     ;
10019 00001140 2118              2535             TST     R1,R1                           ;
10020                            2536             TST_BIT_OF MODE_CNTCOM1_STPCMP_100      ;自分のいくぞ信号ON? NO:
10021 00001142 890F                   M           BT      MODE_CNTCOM1_STPCMP_100
10022                            2537     
10023 00001144 D10A              2538             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10024 00001146 6011              2539             MOV.W   @R1,R0                          ;
10025 00001148 D20A              2540             MOV.L   #_CPOS_STEP_MAX,R2              ;
10026 0000114A 6421              2541             MOV.W   @R2,R4                          ;
10027 0000114C 7401              2542             ADD     #1,R4                           ;
10028 0000114E 3400              2543             CMP/EQ  R0,R4                           ;
10029 00001150 8908              2544             BT      MODE_CNTCOM1_STPCMP_100         ;最終工程
10030                            2545     
10031 00001152 6503              2546             MOV     R0,R5                           ;push
10032                            2547             FAR_JSR #_CPU_BA_STEP_LOAD,R2           ;ANS R0 (SH2_STEP_NO,SH4_STEP_NO)
10033 00001154 D208                   M           MOV.L   #_CPU_BA_STEP_LOAD,R2           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10034 00001156 420B                   M           JSR     @R2                     ;
10035 00001158 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    76
PROGRAM NAME =

10036 0000115A 3500              2548             CMP/EQ  R0,R5                           ;
10037 0000115C 8B02              2549             BF      MODE_CNTCOM1_STPCMP_100         ;不一致状態
10038                            2550     
10039                            2551                                                     ;自分のいくぞ信号クリア(相手のもやったほう
                                          がいいのか？)
10040                            2552             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0         ;_SH4_HD_CNT_CNT=0CLR
10041 0000115E D007                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10042 00001160 400B                   M           JSR     @R0                     ;
10043 00001162 0009                   M           NOP                                     ;
10044                            2553     
10045 00001164                   2554     MODE_CNTCOM1_STPCMP_100:
10046                            2555             SUB_END
10047                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10048 00001164 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10049                            2556             M_RTS
10050 00001166 000B                   M           RTS                             ;RTSの後ろの
10051 00001168 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10052                            2557     
10053                            2558     
10054                            2559     ;       **************************************************
10055                            2560     ;       ***                                             ***
10056                            2561     ;       ***     AUTO_ON状態(停止条件の判定              ***
10057                            2562     ;       ***                                             ***
10058                            2563     ;       ***************************************************
10059                                     ***** BEGIN-POOL *****
10060 0000116A 0000                       ALIGNMENT CODE
10061 0000116C 00000000                   DATA FOR SOURCE-LINE 2534
10062 00001170 00000000                   DATA FOR SOURCE-LINE 2538
10063 00001174 00000000                   DATA FOR SOURCE-LINE 2540
10064 00001178 00000000                   DATA FOR SOURCE-LINE 2547
10065 0000117C 00000000                   DATA FOR SOURCE-LINE 2552
10066                                     ***** END-POOL *****
10067 00001180                   2564     _MODE_CNTCNF1_STOP_CHK:
10068                            2565             SUB_START
10069 00001180 4F22                   M           STS.L   PR,@-R15                ;[必要]
10070                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10071                            2566     ;       -------------AUTO ON(連続一行程)------------
10072                            2567             FAR_JSR #_AUTO_ON,R0                            ;
10073 00001182 D005                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10074 00001184 400B                   M           JSR     @R0                     ;
10075 00001186 0009                   M           NOP                                     ;
10076                            2568     ;       -------------------------------------------
10077 00001188 D104              2569             MOV.L   #_POSHLD1_STOPLATCH,R1                  ;
10078 0000118A 6011              2570             MOV.W   @R1,R0                                  ;
10079 0000118C 2008              2571             TST     R0,R0                                   ;
10080                            2572             TST_BIT_OF MODE_CNTCNF1_STPCHK_210              ;
10081 0000118E 8907                   M           BT      MODE_CNTCNF1_STPCHK_210
10082 00001190 200A              2573             XOR     R0,R0                                   ;
10083 00001192 2101              2574             MOV.W   R0,@R1                                  ;
10084                            2575             M_BRA   MODE_CNTCNF1_STPCHK_220                 ;
10085 00001194 A008                   M           BRA     MODE_CNTCNF1_STPCHK_220
10086 00001196 0009                   M           NOP
10087                                     ***** BEGIN-POOL *****
10088 00001198 00000000                   DATA FOR SOURCE-LINE 2567
10089 0000119C 00000000                   DATA FOR SOURCE-LINE 2569
10090                                     ***** END-POOL *****
10091 000011A0                   2576     MODE_CNTCNF1_STPCHK_210:                                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    77
PROGRAM NAME =

10092                            2577     
10093 000011A0 D105              2578             MOV.L   #_CNT_STOP_CMD,R1                       ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄ
                                          ｱｯﾌﾟ
10094 000011A2 6011              2579             MOV.W   @R1,R0                                  ;
10095 000011A4 2008              2580             TST     R0,R0                                   ;
10096                            2581             TST_BIT_OF MODE_CNTCNF1_STPCHK_250              ;(上死点停止指令OFF)
10097 000011A6 8903                   M           BT      MODE_CNTCNF1_STPCHK_250
10098 000011A8                   2582     MODE_CNTCNF1_STPCHK_220:                                ;
10099                            2583     
10100                            2584     ;       //BIT0:ｽﾄｯﾌﾟ釦記憶 停止可能なタイミングで出力される
10101                            2585             MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH_B,LG=W,BIT=BIT0,WKREG=R1        ;bit-set
10102 000011A8 D104                   M           MOV.L   #_STOP_LATCH_B,R1               ;
10103 000011AA 6011                   M           MOV.W   @R1,R0          ;
10104 000011AC CB01                   M           OR      #BIT0,R0                ;
10105 000011AE 2101                   M           MOV.W   R0,@R1          ;
10106                            2586     
10107 000011B0                   2587     MODE_CNTCNF1_STPCHK_250:
10108                            2588             SUB_END
10109                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10110 000011B0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10111                            2589             M_RTS
10112 000011B2 000B                   M           RTS                             ;RTSの後ろの
10113 000011B4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10114                            2590     
10115                            2591     
10116                            2592     
10117                            2593     ;       **************************************************
10118                            2594     ;       ***                                             ***
10119                            2595     ;       ***     AUTO_ON状態(相手側も動作する状態)       ***
10120                            2596     ;       ***                                             ***
10121                            2597     ;       ***************************************************
10122                                     ***** BEGIN-POOL *****
10123 000011B6 0000                       ALIGNMENT CODE
10124 000011B8 00000000                   DATA FOR SOURCE-LINE 2578
10125 000011BC 00000000                   DATA FOR SOURCE-LINE 2585
10126                                     ***** END-POOL *****
10127 000011C0                   2598     _MODE_CNTCOM2_STOP_CHK:
10128                            2599             SUB_START
10129 000011C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
10130                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10131                            2600     
10132 000011C2 D106              2601             MOV.L   #_STOP_LATCH_B,R1                       ;//BIT0:ｽﾄｯﾌﾟ釦等
10133 000011C4 6011              2602             MOV.W   @R1,R0                                  ;
10134 000011C6 C801              2603             TST     #BIT0,R0                                ;
10135                            2604             TST_BIT_OF MODE_CNTCOM2_STPCHK_300              ;
10136 000011C8 8915                   M           BT      MODE_CNTCOM2_STPCHK_300
10137                            2605     
10138 000011CA D105              2606             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10139 000011CC 6011              2607             MOV.W   @R1,R0                          ;
10140 000011CE D205              2608             MOV.L   #_CPOS_STEP_MAX,R2              ;
10141 000011D0 6421              2609             MOV.W   @R2,R4                          ;
10142 000011D2 7401              2610             ADD     #1,R4                           ;
10143 000011D4 3400              2611             CMP/EQ  R0,R4                           ;
10144 000011D6 8B07              2612             BF      MODE_CNTCOM2_STPCHK_280         ;最終工程以外?
10145                            2613             M_BRA   MODE_CNTCOM2_STPCHK_300         ;最終行程は別で行う
10146 000011D8 A00D                   M           BRA     MODE_CNTCOM2_STPCHK_300
10147 000011DA 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    78
PROGRAM NAME =

10148                            2614     
10149                                     ***** BEGIN-POOL *****
10150 000011DC 00000000                   DATA FOR SOURCE-LINE 2601
10151 000011E0 00000000                   DATA FOR SOURCE-LINE 2606
10152 000011E4 00000000                   DATA FOR SOURCE-LINE 2608
10153                                     ***** END-POOL *****
10154 000011E8                   2615     MODE_CNTCOM2_STPCHK_280:
10155                            2616     
10156 000011E8 D104              2617             MOV.L   #_CPOS_MOD_FLG1,R1              ;
10157 000011EA 6011              2618             MOV.W   @R1,R0                          ;
10158 000011EC C804              2619             TST     #BIT2,R0                        ;2004-12-20
10159                            2620             TST_BIT_ON MODE_CNTCOM2_STPCHK_300      ;BIT2=1 待機点停止しないﾓｰﾄﾞは別で行う
10160 000011EE 8B02                   M           BF      MODE_CNTCOM2_STPCHK_300
10161                            2621     
10162                            2622             FAR_JSR #_STOP_LTH_OUT,R0               ;STOP_LATCH.BIT0=1,SH4_HD_CNT_STOP=-1
10163 000011F0 D003                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10164 000011F2 400B                   M           JSR     @R0                     ;
10165 000011F4 0009                   M           NOP                                     ;
10166                            2623     
10167 000011F6                   2624     MODE_CNTCOM2_STPCHK_300:                        ;
10168                            2625     
10169                            2626             SUB_END
10170                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10171 000011F6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10172                            2627             M_RTS
10173 000011F8 000B                   M           RTS                             ;RTSの後ろの
10174 000011FA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10175                            2628     
10176                            2629     ;       ***************************
10177                            2630     ;       ***                     ***
10178                            2631     ;       ***************************
10179                            2632             .EXPORT _STOP_LTH_OUT
10180                                     ***** BEGIN-POOL *****
10181 000011FC 00000000                   DATA FOR SOURCE-LINE 2617
10182 00001200 00000000                   DATA FOR SOURCE-LINE 2622
10183                                     ***** END-POOL *****
10184 00001204                   2633     _STOP_LTH_OUT:
10185                            2634             SUB_START
10186 00001204 4F22                   M           STS.L   PR,@-R15                ;[必要]
10187                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10188 00001206 D105              2635             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
10189 00001208 6011              2636             MOV.W   @R1,R0                          ;
10190 0000120A CB01              2637             OR      #BIT0,R0                        ;
10191 0000120C 2101              2638             MOV.W   R0,@R1                          ;
10192                            2639     
10193                            2640             FAR_JSR #_CPU_AB_CST_ON_OUT1,R0         ;
10194 0000120E D004                   M           MOV.L   #_CPU_AB_CST_ON_OUT1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10195 00001210 400B                   M           JSR     @R0                     ;
10196 00001212 0009                   M           NOP                                     ;
10197                            2641     
10198                            2642             SUB_END
10199                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10200 00001214 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10201                            2643             M_RTS
10202 00001216 000B                   M           RTS                             ;RTSの後ろの
10203 00001218 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10204                            2644     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    79
PROGRAM NAME =

10205                            2645     
10206                            2646     ;       *******************************************
10207                            2647     ;       ***                                     ***
10208                            2648     ;       ***             安全一工程              ***
10209                            2649     ;       ***             一行程                  ***
10210                            2650     ;       *******************************************
10211                                     ***** BEGIN-POOL *****
10212 0000121A 0000                       ALIGNMENT CODE
10213 0000121C 00000000                   DATA FOR SOURCE-LINE 2635
10214 00001220 00000000                   DATA FOR SOURCE-LINE 2640
10215                                     ***** END-POOL *****
10216 00001224                   2651     _MODE_SGL_STOP_CHK:
10217                            2652             SUB_START
10218 00001224 4F22                   M           STS.L   PR,@-R15                ;[必要]
10219                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10220                            2653     ;       === 2003-05-24==
10221 00001226 D105              2654             MOV.L   #_MODE_SEL,R1                   ;寸動・安全一工程・連続・OPT
10222 00001228 6011              2655             MOV.W   @R1,R0                          ;
10223 0000122A 9106              2656             MOV.W   #BIT10,R1                       ;
10224 0000122C 2018              2657             TST     R1,R0                           ;
10225                            2658             TST_BIT_OF MODE_SGL_STPCHK_050          ;安全一行程
10226 0000122E 8909                   M           BT      MODE_SGL_STPCHK_050
10227                            2659             FAR_JSR #_AUTO_ON,R0                    ;一行程
10228 00001230 D003                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10229 00001232 400B                   M           JSR     @R0                     ;
10230 00001234 0009                   M           NOP                                     ;
10231                            2660             M_BRA   MODE_SGL_STPCHK_200             ;
10232 00001236 A03F                   M           BRA     MODE_SGL_STPCHK_200
10233 00001238 0009                   M           NOP
10234                            2661     
10235                                     ***** BEGIN-POOL *****
10236 0000123A 0400                       DATA FOR SOURCE-LINE 2656
10237 0000123C 00000000                   DATA FOR SOURCE-LINE 2654
10238 00001240 00000000                   DATA FOR SOURCE-LINE 2659
10239                                     ***** END-POOL *****
10240 00001244                   2662     MODE_SGL_STPCHK_050:                            ;
10241 00001244 D10A              2663             MOV.L   #_UP_HOLD_FLG,R1                ;
10242 00001246 6011              2664             MOV.W   @R1,R0                          ;
10243 00001248 C801              2665             TST     #BIT0,R0                        ;上昇ﾎｰﾙﾄﾞ中
10244                            2666             TST_BIT_OF MODE_SGL_STPCHK_100          ;
10245 0000124A 8923                   M           BT      MODE_SGL_STPCHK_100
10246                            2667     ;;      FAR_JSR #_AUTO_ON,R0                    ;
10247                            2668     
10248                            2669     ;       ----2007-03-02-------------------------
10249                            2670             FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;相手側はautoにならないで止めたみたいか？
10250 0000124C D009                   M           MOV.L   #_CPU_BA_DRVSTOP_ON_JG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10251 0000124E 400B                   M           JSR     @R0                     ;
10252 00001250 0009                   M           NOP                                     ;
10253 00001252 2008              2671             TST     R0,R0                           ;
10254                            2672             TST_BIT_OF MODE_SGL_STPCHK_080          ;
10255 00001254 8916                   M           BT      MODE_SGL_STPCHK_080
10256                            2673             MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set
10257 00001256 D108                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
10258 00001258 6011                   M           MOV.W   @R1,R0          ;
10259 0000125A CB01                   M           OR      #BIT0,R0                ;
10260 0000125C 2101                   M           MOV.W   R0,@R1          ;
10261                            2674             FAR_JSR #_AUTO_OF,R0                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    80
PROGRAM NAME =

10262 0000125E D007                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10263 00001260 400B                   M           JSR     @R0                     ;
10264 00001262 0009                   M           NOP                                     ;
10265                            2675     
10266                            2676     ;       ---------- [2015-11-15]-------------------
10267                            2677     ;;; .AIF 1 EQ 1
10268                            2678             FAR_JSR #_UP_HOLD_MISS,R0       ;
10269 00001264 D006                   M           MOV.L   #_UP_HOLD_MISS,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10270 00001266 400B                   M           JSR     @R0                     ;
10271 00001268 0009                   M           NOP                                     ;
10272                            2679     ;;; .AENDI
10273                            2680     ;       ---------------------------------------
10274                            2681     
10275                            2682             M_BRA   MODE_SGL_STPCHK_150             ;
10276 0000126A A01C                   M           BRA     MODE_SGL_STPCHK_150
10277 0000126C 0009                   M           NOP
10278                            2683     
10279                                     ***** BEGIN-POOL *****
10280 0000126E 0000                       ALIGNMENT CODE
10281 00001270 00000000                   DATA FOR SOURCE-LINE 2663
10282 00001274 00000000                   DATA FOR SOURCE-LINE 2670
10283 00001278 00000000                   DATA FOR SOURCE-LINE 2673
10284 0000127C 00000000                   DATA FOR SOURCE-LINE 2674
10285 00001280 00000000                   DATA FOR SOURCE-LINE 2678
10286                                     ***** END-POOL *****
10287 00001284                   2684     MODE_SGL_STPCHK_080             ;
10288                            2685             FAR_JSR #_AUTO_ON,R0                    ;
10289 00001284 D002                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10290 00001286 400B                   M           JSR     @R0                     ;
10291 00001288 0009                   M           NOP                                     ;
10292                            2686             M_BRA   MODE_SGL_STPCHK_200             ;
10293 0000128A A015                   M           BRA     MODE_SGL_STPCHK_200
10294 0000128C 0009                   M           NOP
10295                            2687     
10296                                     ***** BEGIN-POOL *****
10297 0000128E 0000                       ALIGNMENT CODE
10298 00001290 00000000                   DATA FOR SOURCE-LINE 2685
10299                                     ***** END-POOL *****
10300 00001294                   2688     MODE_SGL_STPCHK_100:                            ;
10301                            2689     
10302                            2690     ;       ======= 2003-06-13 =====
10303                            2691     ;;;とりあえずくみこまない       MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分
                                          ) 2003-06-13
10304                            2692     ;;;とりあえずくみこまない       MOV.W   @R1,R0                          ;運転中止(寸動部分
                                          ) 2003-06-13
10305                            2693     ;;;とりあえずくみこまない       TST     R0,R0                           ;運転中止(寸動部分
                                          ) 2003-06-13
10306                            2694     ;;;とりあえずくみこまない       TST_BIT_OF MODE_SGL_STPCHK_150          ;TIME-OUT
10307                            2695     
10308                            2696     
10309 00001294 D10A              2697             MOV.L   #_BTTN_FLG,R1                   ;
10310 00001296 6011              2698             MOV.W   @R1,R0                          ;
10311 00001298 C804              2699             TST     #BIT2,R0                        ;両手ON
10312                            2700             TST_BIT_ON MODE_SGL_STPCHK_200          ;
10313 0000129A 8B0D                   M           BF      MODE_SGL_STPCHK_200
10314                            2701     
10315                            2702     ;       ---------- 2015-11-13[行程2重回路対策]---------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    81
PROGRAM NAME =

10316                            2703     ;;; .AIF 1 EQ 1
10317                            2704             FAR_JSR #_API_ENDHAND_SIGCHK,R0 ;
10318 0000129C D009                   M           MOV.L   #_API_ENDHAND_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10319 0000129E 400B                   M           JSR     @R0                     ;
10320 000012A0 0009                   M           NOP                                     ;
10321 000012A2 2008              2705             TST     R0,R0                           ;
10322                            2706             TST_BIT_ON MODE_SGL_STPCHK_200          ;ﾊﾝﾄﾞｼｪｲｸ途中は運転釦を見ない()
10323 000012A4 8B08                   M           BF      MODE_SGL_STPCHK_200
10324                            2707     ;;; .AENDI
10325                            2708     
10326 000012A6                   2709     MODE_SGL_STPCHK_150:
10327                            2710     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10328                            2711             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10329 000012A6 D008                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10330 000012A8 400B                   M           JSR     @R0                     ;
10331 000012AA 0009                   M           NOP                                     ;
10332                            2712     
10333                            2713     
10334                            2714     ;       ---2007-03-02-----
10335                            2715             MOD_LOW_STOP_R0_R1                      ;2007-03-02
10336 000012AC D107                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10337 000012AE E002                   M           MOV.B   #BIT1,R0                        ;
10338 000012B0 2101                   M           MOV.W   R0,@R1                          ;
10339                            2716             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10340 000012B2 D007                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10341 000012B4 400B                   M           JSR     @R0                     ;
10342 000012B6 0009                   M           NOP                                     ;
10343                            2717     
10344                            2718     
10345                            2719     
10346 000012B8                   2720     MODE_SGL_STPCHK_200:
10347                            2721             SUB_END
10348                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10349 000012B8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10350                            2722             M_RTS
10351 000012BA 000B                   M           RTS                             ;RTSの後ろの
10352 000012BC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10353                            2723     
10354                            2724     
10355                            2725     
10356                            2726     ;       *******************************************
10357                            2727     ;       ***                                     ***
10358                            2728     ;       ***     2016-04-12正式に作成            ***
10359                            2729     ;       ***                                     ***
10360                            2730     ;       *******************************************
10361                                     ***** BEGIN-POOL *****
10362 000012BE 0000                       ALIGNMENT CODE
10363 000012C0 00000000                   DATA FOR SOURCE-LINE 2697
10364 000012C4 00000000                   DATA FOR SOURCE-LINE 2704
10365 000012C8 00000000                   DATA FOR SOURCE-LINE 2711
10366 000012CC 00000000                   DATA FOR SOURCE-LINE 2715
10367 000012D0 00000000                   DATA FOR SOURCE-LINE 2716
10368                                     ***** END-POOL *****
10369 000012D4                   2731     _MODE_CSS_STOP_CHK:     ;連続一行程・連続寸動一行程
10370                            2732             SUB_START
10371 000012D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
10372                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    82
PROGRAM NAME =

10373                            2733     
10374 000012D6 D104              2734             MOV.L   #_MODE_SEL,R1           ;
10375 000012D8 6011              2735             MOV.W   @R1,R0                  ;
10376 000012DA 9103              2736             MOV.W   #BIT11,R1
10377 000012DC 2018              2737             TST     R1,R0           ;連続一行程？
10378                            2738             TST_BIT_ON MODE_CCC_STOPCHK     ;YES
10379 000012DE 8B05                   M           BF      MODE_CCC_STOPCHK
10380                            2739             M_BRA   MODE_CSS_STOPCHK_START  ;連続寸動一行程
10381 000012E0 A022                   M           BRA     MODE_CSS_STOPCHK_START
10382 000012E2 0009                   M           NOP
10383                            2740     
10384                            2741     ;       == 連続一行程==
10385                                     ***** BEGIN-POOL *****
10386 000012E4 0800                       DATA FOR SOURCE-LINE 2736
10387 000012E6 0000                       ALIGNMENT CODE
10388 000012E8 00000000                   DATA FOR SOURCE-LINE 2734
10389                                     ***** END-POOL *****
10390 000012EC                   2742     MODE_CCC_STOPCHK:
10391                            2743             FAR_JSR #_MODE_CNTCOM1_STOP_CHK,R0              ;
10392 000012EC D009                   M           MOV.L   #_MODE_CNTCOM1_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10393 000012EE 400B                   M           JSR     @R0                     ;
10394 000012F0 0009                   M           NOP                                     ;
10395                            2744             FAR_JSR #_MODE_CNTCNF1_STOP_CHK,R0              ;
10396 000012F2 D009                   M           MOV.L   #_MODE_CNTCNF1_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10397 000012F4 400B                   M           JSR     @R0                     ;
10398 000012F6 0009                   M           NOP                                     ;
10399 000012F8 D108              2745             MOV.L   #_BTTN_FLG,R1                           ;
10400 000012FA 6011              2746             MOV.W   @R1,R0                                  ;
10401 000012FC C804              2747             TST     #BIT2,R0                                ;
10402                            2748             TST_BIT_ON MODE_CCC_STPCMP_120                  ;両手ON
10403 000012FE 8B03                   M           BF      MODE_CCC_STPCMP_120
10404                            2749             MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH_B,LG=W,BIT=BIT0,WKREG=R1        ;bit-set
10405 00001300 D107                   M           MOV.L   #_STOP_LATCH_B,R1               ;
10406 00001302 6011                   M           MOV.W   @R1,R0          ;
10407 00001304 CB01                   M           OR      #BIT0,R0                ;
10408 00001306 2101                   M           MOV.W   R0,@R1          ;
10409 00001308                   2750     MODE_CCC_STPCMP_120:
10410                            2751     
10411                            2752             FAR_JSR #_MODE_CNTCOM2_STOP_CHK,R0              ;STOP_LATCH_B->STOP_LATCH
10412 00001308 D006                   M           MOV.L   #_MODE_CNTCOM2_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10413 0000130A 400B                   M           JSR     @R0                     ;
10414 0000130C 0009                   M           NOP                                     ;
10415                            2753                                                             ;良いﾀｲﾐﾝｸﾞで出力する()
10416                            2754     
10417                            2755             M_BRA   MODE_CSS_STOPCK1000     ;
10418 0000130E A0C7                   M           BRA     MODE_CSS_STOPCK1000
10419 00001310 0009                   M           NOP
10420                            2756     
10421                            2757     ;       ===========================================
10422                            2758     ;       ===             連続寸動一行程          ===
10423                            2759     ;       ===========================================
10424                            2760     ;       == 連続寸動一行程(あした考える) ==
10425                                     ***** BEGIN-POOL *****
10426 00001312 0000                       ALIGNMENT CODE
10427 00001314 00000000                   DATA FOR SOURCE-LINE 2743
10428 00001318 00000000                   DATA FOR SOURCE-LINE 2744
10429 0000131C 00000000                   DATA FOR SOURCE-LINE 2745
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    83
PROGRAM NAME =

10430 00001320 00000000                   DATA FOR SOURCE-LINE 2749
10431 00001324 00000000                   DATA FOR SOURCE-LINE 2752
10432                                     ***** END-POOL *****
10433 00001328                   2761     MODE_CSS_STOPCHK_START: ;
10434                            2762             FAR_JSR #_CPU_AB_CST_OF_JG,R0   ;
10435 00001328 D015                   M           MOV.L   #_CPU_AB_CST_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10436 0000132A 400B                   M           JSR     @R0                     ;
10437 0000132C 0009                   M           NOP                                     ;
10438 0000132E 2118              2763             TST     R1,R1                   ;
10439                            2764             TST_BIT_OF MODE_CCS_STPCMP_100  ;自分のいくぞ信号ON? NO
10440 00001330 890F                   M           BT      MODE_CCS_STPCMP_100
10441                            2765     
10442 00001332 D114              2766             MOV.L   #_INT_POS_CTL_STEP,R1   ;//内部制御工程1~11
10443 00001334 6011              2767             MOV.W   @R1,R0                  ;
10444 00001336 D214              2768             MOV.L   #_CPOS_STEP_MAX,R2      ;
10445 00001338 6421              2769             MOV.W   @R2,R4                  ;
10446 0000133A 7401              2770             ADD     #1,R4                   ;
10447 0000133C 3400              2771             CMP/EQ  R0,R4                   ;
10448 0000133E 8908              2772             BT      MODE_CCS_STPCMP_100     ;最終工程
10449                            2773     
10450 00001340 6503              2774             MOV     R0,R5                   ;push
10451                            2775             FAR_JSR #_CPU_BA_STEP_LOAD,R2   ;ANS R3
10452 00001342 D212                   M           MOV.L   #_CPU_BA_STEP_LOAD,R2           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10453 00001344 420B                   M           JSR     @R2                     ;
10454 00001346 0009                   M           NOP                                     ;
10455 00001348 3500              2776             CMP/EQ  R0,R5                   ;
10456 0000134A 8B02              2777             BF      MODE_CCS_STPCMP_100     ;不一致状態
10457                            2778     
10458                            2779             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0 ;自分のいくぞ信号クリア(相手のもやったほうがいいの
                                          か？)
10459 0000134C D010                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10460 0000134E 400B                   M           JSR     @R0                     ;
10461 00001350 0009                   M           NOP                                     ;
10462                            2780     
10463 00001352                   2781     MODE_CCS_STPCMP_100:
10464                            2782     
10465                            2783     
10466                            2784     ;       ----2007-11-21二重化対策 ﾎｰﾙﾄﾞ中でも相手が止めるなら止める-----------
10467                            2785     ;       本来なら200:~220でやるべき話だが　ここでやったほうが安全性は高い
10468                            2786             FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;_CPU_AB_DRVSTOP_ON_OUTで_SH2_HD_SFTY_AUTO
                                          =-1
10469 00001352 D010                   M           MOV.L   #_CPU_BA_DRVSTOP_ON_JG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10470 00001354 400B                   M           JSR     @R0                     ;
10471 00001356 0009                   M           NOP                                     ;
10472 00001358 2008              2787             TST     R0,R0                           ;_SH2_HD_SFTY_AUTO
10473                            2788             TST_BIT_OF MODE_CCS_STPCMP_105                                          ;
10474 0000135A 8927                   M           BT      MODE_CCS_STPCMP_105
10475                            2789             MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set
10476 0000135C D10E                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
10477 0000135E 6011                   M           MOV.W   @R1,R0          ;
10478 00001360 CB01                   M           OR      #BIT0,R0                ;
10479 00001362 2101                   M           MOV.W   R0,@R1          ;
10480                            2790             FAR_JSR #_AUTO_OF,R0                                                    ;
10481 00001364 D00D                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10482 00001366 400B                   M           JSR     @R0                     ;
10483 00001368 0009                   M           NOP                                     ;
10484                            2791     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    84
PROGRAM NAME =

10485                            2792             FAR_JSR #_BRK_ERR_WORK_CLR1,R0                                  ;ERR1.SRC
10486 0000136A D00D                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10487 0000136C 400B                   M           JSR     @R0                     ;
10488 0000136E 0009                   M           NOP                                     ;
10489                            2793             MOD_LOW_STOP_R0_R1                                              ;
10490 00001370 D10C                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10491 00001372 E002                   M           MOV.B   #BIT1,R0                        ;
10492 00001374 2101                   M           MOV.W   R0,@R1                          ;
10493                            2794             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0                              ;
10494 00001376 D00C                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10495 00001378 400B                   M           JSR     @R0                     ;
10496 0000137A 0009                   M           NOP                                     ;
10497                            2795             M_BRA   MODE_CCS_STPCMP_300                                     ;
10498 0000137C A090                   M           BRA     MODE_CCS_STPCMP_300
10499 0000137E 0009                   M           NOP
10500                            2796     
10501                            2797     
10502                            2798     
10503                                     ***** BEGIN-POOL *****
10504 00001380 00000000                   DATA FOR SOURCE-LINE 2762
10505 00001384 00000000                   DATA FOR SOURCE-LINE 2766
10506 00001388 00000000                   DATA FOR SOURCE-LINE 2768
10507 0000138C 00000000                   DATA FOR SOURCE-LINE 2775
10508 00001390 00000000                   DATA FOR SOURCE-LINE 2779
10509 00001394 00000000                   DATA FOR SOURCE-LINE 2786
10510 00001398 00000000                   DATA FOR SOURCE-LINE 2789
10511 0000139C 00000000                   DATA FOR SOURCE-LINE 2790
10512 000013A0 00000000                   DATA FOR SOURCE-LINE 2792
10513 000013A4 00000000                   DATA FOR SOURCE-LINE 2793
10514 000013A8 00000000                   DATA FOR SOURCE-LINE 2794
10515                                     ***** END-POOL *****
10516 000013AC                   2799     MODE_CCS_STPCMP_105:
10517                            2800     ;       ----------------------------------------------------------------
10518                            2801     
10519                            2802     
10520                            2803     
10521                            2804     ;;;;;;  ----- 2005-08-26 -------
10522                            2805     ;;;;;;  MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
10523                            2806     ;;;;;;  MOV.W   @R1,R0                          ;
10524                            2807     ;;;;;;  TST     #BIT0,R0                        ;STOP-LATCH-ON
10525                            2808     ;;;;;;  TST_BIT_OF MODE_CCS_STPCMP_110          ;
10526                            2809     ;;;;;;  M_BRA   MODE_CCS_STPCMP_270
10527                            2810     ;;;;;;MODE_CCS_STPCMP_110:
10528                            2811     ;       ------------------------
10529                            2812     
10530 000013AC D111              2813             MOV.L   #_BTTN_FLG,R1                   ;
10531 000013AE 6011              2814             MOV.W   @R1,R0                          ;
10532 000013B0 C804              2815             TST     #BIT2,R0                        ;
10533                            2816             TST_BIT_ON MODE_CCS_STPCMP_120          ;両手ON
10534 000013B2 8B02                   M           BF      MODE_CCS_STPCMP_120
10535                            2817     
10536 000013B4 901C              2818             MOV.W   #BIT0,R0                        ;
10537 000013B6 D110              2819             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
10538 000013B8 2101              2820             MOV.W   R0,@R1                          ;
10539                            2821     
10540 000013BA                   2822     MODE_CCS_STPCMP_120:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    85
PROGRAM NAME =

10541                            2823     ;       ---------回転の論理変更----------
10542 000013BA D110              2824             MOV.L   #_CPOS_CTL_MATH,R1              ;
10543 000013BC 6011              2825             MOV.W   @R1,R0                          ;
10544                            2826     ;;;2016-10-31   TST     #_DMATH_CNTROT,R0               ;
10545 000013BE C805              2827             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
10546                            2828             TST_BIT_OF MODE_CCS_STPCMP_140          ;
10547 000013C0 892C                   M           BT      MODE_CCS_STPCMP_140
10548                            2829     
10549 000013C2 D40F              2830             MOV.L   #_M_LINK_AREASIG,R4             ;//BIT0/BIT4:待機点範囲
10550 000013C4 6041              2831             MOV.W   @R4,R0                          ;
10551 000013C6 C802              2832             TST     #(BIT1),R0                      ;下降(停止)
10552                            2833             TST_BIT_ON MODE_CCS_STPCMP_145          ;(停止)
10553 000013C8 8B2C                   M           BF      MODE_CCS_STPCMP_145
10554                            2834     
10555 000013CA D50E              2835             MOV.L   #_INT_POS_CTL_STEP,R5           ;
10556 000013CC 6251              2836             MOV.W   @R5,R2                          ;
10557 000013CE D40E              2837             MOV.L   #_UP_HOLD_STEP,R4               ;//上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
10558 000013D0 6541              2838             MOV.W   @R4,R5                          ;
10559 000013D2 3252              2839             CMP/HS  R5,R2                           ;ﾁｪｯｸすべき工程にきたか
10560 000013D4 8B26              2840             BF      MODE_CCS_STPCMP_145             ;NO(停止)
10561                            2841     
10562 000013D6 D40D              2842             MOV.L   #_INC_ENC360,R4                 ;//360.0度(ｴﾝｺｰﾀﾞは表示と同じ)
10563 000013D8 6241              2843             MOV.W   @R4,R2                          ;
10564 000013DA D50D              2844             MOV.L   #_UP_HOLD_DIG,R5                ;//0.1度(165.0):ﾓｰﾀ軸ｴﾝｺｰﾀﾞ角度で比較
10565 000013DC 6151              2845             MOV.W   @R5,R1                          ;START
10566 000013DE D50D              2846             MOV.L   #_SETX_UPAREA_DIG,R5            ;
10567 000013E0 6351              2847             MOV.W   @R5,R3                          ;
10568                            2848             FAR_JSR #_DIG_AREA_CHK1,R0              ;"ANS:R5"
10569 000013E2 D00D                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10570 000013E4 400B                   M           JSR     @R0                     ;
10571 000013E6 0009                   M           NOP                                     ;
10572 000013E8 4511              2849             CMP/PZ  R5                              ;
10573 000013EA 8B1B              2850             BF      MODE_CCS_STPCMP_145             ;
10574                            2851             M_BRA   MODE_CCS_STPCMP_200             ;165~359.9　HOLD
10575 000013EC A042                   M           BRA     MODE_CCS_STPCMP_200
10576 000013EE 0009                   M           NOP
10577                            2852     
10578                                     ***** BEGIN-POOL *****
10579 000013F0 0001                       DATA FOR SOURCE-LINE 2818
10580 000013F2 0000                       ALIGNMENT CODE
10581 000013F4 00000000                   DATA FOR SOURCE-LINE 2813
10582 000013F8 00000000                   DATA FOR SOURCE-LINE 2819
10583 000013FC 00000000                   DATA FOR SOURCE-LINE 2824
10584 00001400 00000000                   DATA FOR SOURCE-LINE 2830
10585 00001404 00000000                   DATA FOR SOURCE-LINE 2835
10586 00001408 00000000                   DATA FOR SOURCE-LINE 2837
10587 0000140C 00000000                   DATA FOR SOURCE-LINE 2842
10588 00001410 00000000                   DATA FOR SOURCE-LINE 2844
10589 00001414 00000000                   DATA FOR SOURCE-LINE 2846
10590 00001418 00000000                   DATA FOR SOURCE-LINE 2848
10591                                     ***** END-POOL *****
10592 0000141C                   2853     MODE_CCS_STPCMP_140:
10593 0000141C D10D              2854             MOV.L   #_LOT_CNT_FLG,R1                ;//行程=1で0 最終工程で条件成立で=1()
10594 0000141E 6011              2855             MOV.W   @R1,R0                          ;BIT0=1 上昇ﾎｰﾙﾄﾞ〜1工程または下降工程まで
10595 00001420 C801              2856             TST     #BIT0,R0                        ;上昇ﾎｰﾙﾄﾞ中
10596                            2857             TST_BIT_ON MODE_CCS_STPCMP_200          ;
10597 00001422 8B27                   M           BF      MODE_CCS_STPCMP_200
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    86
PROGRAM NAME =

10598                            2858     
10599                            2859     
10600 00001424                   2860     MODE_CCS_STPCMP_145:
10601                            2861             FAR_JSR #_AUTO_OF,R0                    ;
10602 00001424 D00C                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10603 00001426 400B                   M           JSR     @R0                     ;
10604 00001428 0009                   M           NOP                                     ;
10605                            2862     
10606                            2863     ;       === 上昇ﾎｰﾙﾄﾞではない===
10607 0000142A D10C              2864             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
10608 0000142C 6011              2865             MOV.W   @R1,R0                          ;
10609 0000142E C801              2866             TST     #BIT0,R0                        ;
10610                            2867             TST_BIT_OF MODE_CCS_STPCMP_300          ;一回もOFFしていない
10611 00001430 8936                   M           BT      MODE_CCS_STPCMP_300
10612                            2868     
10613                            2869     ;;;;2005-08-28  MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
10614                            2870     
10615                            2871     ;下降行程で手を離したら無条件に停止する
10616                            2872     ;;;;2007-12-26  MOV.L   #_STOP_LATCH_B,R1               ;2005-08-28
10617                            2873     ;;;;2007-12-26  MOV.W   @R1,R0                          ;
10618                            2874     ;;;;2007-12-26  TST     #BIT0,R0                        ;
10619                            2875     ;;;;2007-12-26  TST_BIT_OF MODE_CCS_STPCMP_150          ;通常の停止
10620                            2876     ;;;;2007-12-26
10621                            2877     ;;;;2007-12-26  MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10622                            2878     ;;;;2007-12-26  MOV.W   @R1,R0                          ;
10623                            2879     ;;;;2007-12-26  MOV.L   #_CPOS_STEP_MAX,R2              ;
10624                            2880     ;;;;2007-12-26  MOV.W   @R2,R4                          ;
10625                            2881     ;;;;2007-12-26  ADD     #1,R4                           ;
10626                            2882     ;;;;2007-12-26  CMP/EQ  R0,R4                           ;
10627                            2883     ;;;;2007-12-26  BF      MODE_CCS_STPCMP_150             ;最終工程でないなら手動停止
10628                            2884     ;;;;2007-12-26  M_BRA   MODE_CCS_STPCMP_300             ;
10629                            2885     
10630 00001432                   2886     MODE_CCS_STPCMP_150:
10631                            2887     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10632                            2888             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10633 00001432 D00B                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10634 00001434 400B                   M           JSR     @R0                     ;
10635 00001436 0009                   M           NOP                                     ;
10636                            2889             MOD_LOW_STOP_R0_R1                      ;2007-03-02
10637 00001438 D10A                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10638 0000143A E002                   M           MOV.B   #BIT1,R0                        ;
10639 0000143C 2101                   M           MOV.W   R0,@R1                          ;
10640                            2890     ;       ---2007-03-02-----
10641                            2891             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10642 0000143E D00A                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10643 00001440 400B                   M           JSR     @R0                     ;
10644 00001442 0009                   M           NOP                                     ;
10645                            2892     
10646                            2893     ;       ------- 2007-12-26-------
10647 00001444 200A              2894             XOR     R0,R0
10648 00001446 D109              2895             MOV.L   #_STOP_LATCH_B,R1               ;
10649 00001448 2101              2896             MOV.W   R0,@R1
10650 0000144A D109              2897             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
10651 0000144C 2101              2898             MOV.W   R0,@R1
10652                            2899             M_BRA   MODE_CCS_STPCMP_300             ;
10653 0000144E A027                   M           BRA     MODE_CCS_STPCMP_300
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    87
PROGRAM NAME =

10654 00001450 0009                   M           NOP
10655                            2900     
10656                            2901     ;       ====== 上昇ﾎｰﾙﾄﾞ中 =====
10657                                     ***** BEGIN-POOL *****
10658 00001452 0000                       ALIGNMENT CODE
10659 00001454 00000000                   DATA FOR SOURCE-LINE 2854
10660 00001458 00000000                   DATA FOR SOURCE-LINE 2861
10661 0000145C 00000000                   DATA FOR SOURCE-LINE 2864
10662 00001460 00000000                   DATA FOR SOURCE-LINE 2888
10663 00001464 00000000                   DATA FOR SOURCE-LINE 2889
10664 00001468 00000000                   DATA FOR SOURCE-LINE 2891
10665 0000146C 00000000                   DATA FOR SOURCE-LINE 2895
10666 00001470 00000000                   DATA FOR SOURCE-LINE 2897
10667                                     ***** END-POOL *****
10668 00001474                   2902     MODE_CCS_STPCMP_200:
10669                            2903     ;2007-11-21 本来は200:~220:だけでいいが確認が難しいことと、不具合をださないなら上でやる
10670                            2904     ;       ----2007-11-21二重化対策 ﾎｰﾙﾄﾞ中でも相手が止めるなら止める-----------
10671                            2905     ;       FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;_CPU_AB_DRVSTOP_ON_OUTで_SH2_HD_SFTY_AUTO
                                          =-1
10672                            2906     ;       TST     R0,R0                           ;_SH2_HD_SFTY_AUTO
10673                            2907     ;       TST_BIT_OF MODE_CCS_STPCMP_220                                          ;
10674                            2908     ;       MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set
10675                            2909     ;       FAR_JSR #_AUTO_OF,R0                                                    ;
10676                            2910     ;
10677                            2911     ;       FAR_JSR #_BRK_ERR_WORK_CLR1,R0                                  ;ERR1.SRC
10678                            2912     ;       MOD_LOW_STOP_R0_R1                                              ;
10679                            2913     ;       FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0                              ;
10680                            2914     ;       M_BRA   MODE_CCS_STPCMP_300                                     ;
10681                            2915     ;MODE_CCS_STPCMP_220:
10682                            2916     ;       ----------------------------------------------------------------
10683                            2917     
10684                            2918             FAR_JSR #_AUTO_ON,R0                    ;
10685 00001474 D00C                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10686 00001476 400B                   M           JSR     @R0                     ;
10687 00001478 0009                   M           NOP                                     ;
10688                            2919     
10689 0000147A D10C              2920             MOV.L   #_CNT_STOP_CMD,R1               ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄｱｯﾌﾟ
10690 0000147C 6011              2921             MOV.W   @R1,R0                          ;
10691 0000147E 2008              2922             TST     R0,R0                           ;
10692                            2923             TST_BIT_ON MODE_CCS_STPCMP_250          ;停止すべき
10693 00001480 8B03                   M           BF      MODE_CCS_STPCMP_250
10694                            2924     
10695 00001482 D10B              2925             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
10696 00001484 6011              2926             MOV.W   @R1,R0                          ;
10697 00001486 C801              2927             TST     #BIT0,R0                        ;
10698                            2928             TST_BIT_OF MODE_CCS_STPCMP_300          ;一回もOFFしていない
10699 00001488 890A                   M           BT      MODE_CCS_STPCMP_300
10700                            2929     
10701 0000148A                   2930     MODE_CCS_STPCMP_250:
10702 0000148A D10A              2931             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
10703 0000148C 6011              2932             MOV.W   @R1,R0                          ;
10704 0000148E CB01              2933             OR      #BIT0,R0                        ;
10705 00001490 2101              2934             MOV.W   R0,@R1                          ;
10706                            2935     
10707 00001492                   2936     MODE_CCS_STPCMP_270:
10708                            2937     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    88
PROGRAM NAME =

10709                            2938     ;;;;;;;;;;;2007-12-26 最終工程でなくても上昇ﾎｰﾙﾄﾞで停止ｺﾏﾝﾄﾞ出力
10710                            2939     ;;;     ------------- 追加 2005-08-26 -----------
10711                            2940     ;;;        MOV.L        #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10712                            2941     ;;;        MOV.W        @R1,R0                          ;
10713                            2942     ;;;        MOV.L        #_CPOS_STEP_MAX,R2              ;
10714                            2943     ;;;        MOV.W        @R2,R4                          ;
10715                            2944     ;;;        ADD  #1,R4                           ;
10716                            2945     ;;;        CMP/EQ       R0,R4                           ;
10717                            2946     ;;;        BF   MODE_CCS_STPCMP_280             ;最終工程以外?
10718                            2947     ;;;        M_BRA        MODE_CCS_STPCMP_300             ;
10719                            2948     
10720 00001492                   2949     MODE_CCS_STPCMP_280:
10721 00001492 D109              2950             MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
10722 00001494 6011              2951             MOV.W   @R1,R0                                                  ;
10723 00001496 C804              2952             TST     #BIT2,R0                                                ;2004-12-20
10724                            2953             TST_BIT_ON MODE_CCS_STPCMP_300                                  ;
10725 00001498 8B02                   M           BF      MODE_CCS_STPCMP_300
10726                            2954     
10727                            2955             FAR_JSR #_STOP_LTH_OUT,R0
10728 0000149A D008                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10729 0000149C 400B                   M           JSR     @R0                     ;
10730 0000149E 0009                   M           NOP                                     ;
10731                            2956     
10732                            2957     
10733 000014A0                   2958     MODE_CCS_STPCMP_300:
10734                            2959     
10735 000014A0                   2960     MODE_CSS_STOPCK1000:
10736                            2961     
10737                            2962             SUB_END
10738                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10739 000014A0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10740                            2963             M_RTS
10741 000014A2 000B                   M           RTS                             ;RTSの後ろの
10742 000014A4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10743                            2964     
10744                            2965     
10745                                     ***** BEGIN-POOL *****
10746 000014A6 0000                       ALIGNMENT CODE
10747 000014A8 00000000                   DATA FOR SOURCE-LINE 2918
10748 000014AC 00000000                   DATA FOR SOURCE-LINE 2920
10749 000014B0 00000000                   DATA FOR SOURCE-LINE 2925
10750 000014B4 00000000                   DATA FOR SOURCE-LINE 2931
10751 000014B8 00000000                   DATA FOR SOURCE-LINE 2950
10752 000014BC 00000000                   DATA FOR SOURCE-LINE 2955
10753                                     ***** END-POOL *****
10754 000014C0                   2966     _MODE_OPT_STOP_CHK:;//(ｵﾌﾟｼｮﾝではなくなってしまっている ここにはこないPSDIぐらい)
10755 000014C0                   2967     _MODE_INC_STOP_CHK:
10756                            2968             SUB_START
10757 000014C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
10758                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10759 000014C2 D103              2969             MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分) 2003-06-13
10760 000014C4 6011              2970             MOV.W   @R1,R0                          ;運転中止(寸動部分) 2003-06-13
10761 000014C6 2008              2971             TST     R0,R0                           ;運転中止(寸動部分) 2003-06-13
10762                            2972             TST_BIT_OF MODE_INC_STPCHK_050          ;運転中止(寸動部分) 2003-06-13
10763 000014C8 8923                   M           BT      MODE_INC_STPCHK_050
10764                            2973             M_BRA   MODE_INC_STPCHK_000             ;運転中止(寸動部分) 2003-06-13
10765 000014CA A019                   M           BRA     MODE_INC_STPCHK_000
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    89
PROGRAM NAME =

10766 000014CC 0009                   M           NOP
10767                            2974     
10768                            2975     
10769                                     ***** BEGIN-POOL *****
10770 000014CE 0000                       ALIGNMENT CODE
10771 000014D0 00000000                   DATA FOR SOURCE-LINE 2969
10772                                     ***** END-POOL *****
10773 000014D4                   2976     _MODE_DIC_STOP_CHK:
10774                            2977             SUB_START
10775 000014D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
10776                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10777                            2978     ;       -------- 2006-07-28----
10778 000014D6 D107              2979             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
10779 000014D8 6011              2980             MOV.W   @R1,R0                          ;
10780 000014DA 2008              2981             TST     R0,R0                           ;
10781                            2982             TST_BIT_OF MODE_INC_STPCHK_000          ;
10782 000014DC 8910                   M           BT      MODE_INC_STPCHK_000
10783                            2983     
10784                            2984     
10785                            2985     ;       ---------手パﾓｰﾄﾞで手パ有効OFFなら終り[2011-07-04]
10786 000014DE D106              2986             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
10787 000014E0 6011              2987             MOV.W   @R1,R0                          ;
10788 000014E2 C802              2988             TST     #BIT1,R0                        ;
10789                            2989             TST_BIT_OF MODE_INC_STPCHK_050          ;
10790 000014E4 8915                   M           BT      MODE_INC_STPCHK_050
10791                            2990     
10792                            2991     
10793 000014E6 D105              2992             MOV.L   #_BTTN_FLG,R1                   ;
10794 000014E8 6011              2993             MOV.W   @R1,R0                          ;
10795 000014EA C802              2994             TST     #BIT1,R0                        ;
10796                            2995             TST_BIT_ON MODE_INC_STPCHK_100          ;片手ONなら継続
10797 000014EC 8B1A                   M           BF      MODE_INC_STPCHK_100
10798                            2996             M_BRA   MODE_INC_STPCHK_050             ;
10799 000014EE A010                   M           BRA     MODE_INC_STPCHK_050
10800 000014F0 0009                   M           NOP
10801                            2997     ;       -----------------------
10802                            2998     
10803                                     ***** BEGIN-POOL *****
10804 000014F2 0000                       ALIGNMENT CODE
10805 000014F4 00000000                   DATA FOR SOURCE-LINE 2979
10806 000014F8 00000000                   DATA FOR SOURCE-LINE 2986
10807 000014FC 00000000                   DATA FOR SOURCE-LINE 2992
10808                                     ***** END-POOL *****
10809 00001500                   2999     MODE_INC_STPCHK_000:
10810 00001500 D10A              3000             MOV.L   #_BTTN_FLG,R1                   ;
10811 00001502 6011              3001             MOV.W   @R1,R0                          ;
10812 00001504 C804              3002             TST     #BIT2,R0                        ;両手ON
10813                            3003             TST_BIT_ON MODE_INC_STPCHK_100          ;
10814 00001506 8B0D                   M           BF      MODE_INC_STPCHK_100
10815                            3004     
10816                            3005     
10817                            3006     ;       ---------- 2015-11-13[行程2重回路対策]---------------
10818                            3007     ;; .AIF 1 EQ 1
10819                            3008             FAR_JSR #_API_ENDHAND_SIGCHK,R0 ;
10820 00001508 D009                   M           MOV.L   #_API_ENDHAND_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10821 0000150A 400B                   M           JSR     @R0                     ;
10822 0000150C 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    90
PROGRAM NAME =

10823 0000150E 2008              3009             TST     R0,R0                           ;
10824                            3010             TST_BIT_ON MODE_INC_STPCHK_100          ;ﾊﾝﾄﾞｼｪｲｸ途中は運転釦を見ない()
10825 00001510 8B08                   M           BF      MODE_INC_STPCHK_100
10826                            3011     ;; .AENDI
10827                            3012     ;       ------------------------------------
10828                            3013     
10829 00001512                   3014     MODE_INC_STPCHK_050:
10830                            3015     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10831                            3016             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10832 00001512 D008                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10833 00001514 400B                   M           JSR     @R0                     ;
10834 00001516 0009                   M           NOP                                     ;
10835                            3017     
10836                            3018     ;       ---2007-03-02-----
10837                            3019             MOD_LOW_STOP_R0_R1                      ;2007-03-02
10838 00001518 D107                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10839 0000151A E002                   M           MOV.B   #BIT1,R0                        ;
10840 0000151C 2101                   M           MOV.W   R0,@R1                          ;
10841                            3020             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10842 0000151E D007                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10843 00001520 400B                   M           JSR     @R0                     ;
10844 00001522 0009                   M           NOP                                     ;
10845                            3021     
10846 00001524                   3022     MODE_INC_STPCHK_100:
10847                            3023             SUB_END
10848                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10849 00001524 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10850                            3024             M_RTS
10851 00001526 000B                   M           RTS                             ;RTSの後ろの
10852 00001528 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10853                            3025     
10854                            3026     ;       === 2003-07-09 =====
10855                                     ***** BEGIN-POOL *****
10856 0000152A 0000                       ALIGNMENT CODE
10857 0000152C 00000000                   DATA FOR SOURCE-LINE 3000
10858 00001530 00000000                   DATA FOR SOURCE-LINE 3008
10859 00001534 00000000                   DATA FOR SOURCE-LINE 3016
10860 00001538 00000000                   DATA FOR SOURCE-LINE 3019
10861 0000153C 00000000                   DATA FOR SOURCE-LINE 3020
10862                                     ***** END-POOL *****
10863 00001540                   3027     _MODE_DUP_STOP_CHK:
10864                            3028             SUB_START
10865 00001540 4F22                   M           STS.L   PR,@-R15                ;[必要]
10866                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10867                            3029     
10868 00001542 D109              3030             MOV.L   #_PAR_ORGDRV_MOD,R1             ;原点復帰方法変更
10869 00001544 6011              3031             MOV.W   @R1,R0                          ;
10870 00001546 8801              3032             CMP/EQ  #1,R0                           ;
10871 00001548 8918              3033             BT      MODE_DUP_STPCHK100              ;
10872                            3034     
10873 0000154A D108              3035             MOV.L   #_BTTN_FLG,R1                   ;
10874 0000154C 6011              3036             MOV.W   @R1,R0                          ;
10875 0000154E C804              3037             TST     #BIT2,R0                        ;両手ON
10876                            3038             TST_BIT_ON MODE_DUP_STPCHK200           ;
10877 00001550 8B22                   M           BF      MODE_DUP_STPCHK200
10878                            3039     
10879                            3040             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    91
PROGRAM NAME =

10880 00001552 D007                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10881 00001554 400B                   M           JSR     @R0                     ;
10882 00001556 0009                   M           NOP                                     ;
10883                            3041     
10884                            3042     ;       ---2007-03-02-----
10885                            3043             MOD_LOW_STOP_R0_R1                      ;減速停止
10886 00001558 D106                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10887 0000155A E002                   M           MOV.B   #BIT1,R0                        ;
10888 0000155C 2101                   M           MOV.W   R0,@R1                          ;
10889                            3044             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10890 0000155E D006                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10891 00001560 400B                   M           JSR     @R0                     ;
10892 00001562 0009                   M           NOP                                     ;
10893                            3045     
10894                            3046             M_BRA   MODE_DUP_STPCHK200
10895 00001564 A018                   M           BRA     MODE_DUP_STPCHK200
10896 00001566 0009                   M           NOP
10897                            3047     
10898                                     ***** BEGIN-POOL *****
10899 00001568 00000000                   DATA FOR SOURCE-LINE 3030
10900 0000156C 00000000                   DATA FOR SOURCE-LINE 3035
10901 00001570 00000000                   DATA FOR SOURCE-LINE 3040
10902 00001574 00000000                   DATA FOR SOURCE-LINE 3043
10903 00001578 00000000                   DATA FOR SOURCE-LINE 3044
10904                                     ***** END-POOL *****
10905 0000157C                   3048     MODE_DUP_STPCHK100:
10906                            3049     ;       ====原点復帰完了待ち
10907 0000157C D108              3050             MOV.L   #_ORG_RDY_CTL_FLG,R1            ;不本意ながらﾌﾗｸﾞ
10908 0000157E 6011              3051             MOV.W   @R1,R0                          ;起動でBIT1=BIT0=0 完了でBIT0=1　LATCH/BIT
                                          1=1
10909 00001580 C810              3052             TST     #BIT4,R0                        ;
10910                            3053             TST_BIT_ON MODE_DUP_STPCHK200           ;BIT4=1 全工程終了
10911 00001582 8B09                   M           BF      MODE_DUP_STPCHK200
10912                            3054     
10913 00001584 C808              3055             TST     #BIT3,R0                        ;終了 終了ﾗｯﾁ
10914                            3056             TST_BIT_OF MODE_DUP_STPCHK200           ;
10915 00001586 8907                   M           BT      MODE_DUP_STPCHK200
10916 00001588 CB10              3057             OR      #BIT4,R0                        ;
10917 0000158A 2101              3058             MOV.W   R0,@R1                          ;
10918                            3059     
10919                            3060     ;       ---2007-03-02-----
10920                            3061             MOD_LOW_STOP_R0_R1                      ;減速停止(本当は不要だけど終了させる為にあ
                                          えて)
10921 0000158C D105                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10922 0000158E E002                   M           MOV.B   #BIT1,R0                        ;
10923 00001590 2101                   M           MOV.W   R0,@R1                          ;
10924                            3062             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10925 00001592 D005                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10926 00001594 400B                   M           JSR     @R0                     ;
10927 00001596 0009                   M           NOP                                     ;
10928                            3063     
10929 00001598                   3064     MODE_DUP_STPCHK200
10930                            3065             SUB_END
10931                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10932 00001598 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10933                            3066             M_RTS
10934 0000159A 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    92
PROGRAM NAME =

10935 0000159C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10936                            3067     
10937                            3068     ;       *******************************************
10938                            3069     ;       ***                                     ***
10939                            3070     ;       ***     位置決めキャンセル指令時クリア  ***
10940                            3071     ;       ***                                     ***
10941                            3072     ;       *******************************************
10942                                     ***** BEGIN-POOL *****
10943 0000159E 0000                       ALIGNMENT CODE
10944 000015A0 00000000                   DATA FOR SOURCE-LINE 3050
10945 000015A4 00000000                   DATA FOR SOURCE-LINE 3061
10946 000015A8 00000000                   DATA FOR SOURCE-LINE 3062
10947                                     ***** END-POOL *****
10948 000015AC                   3073     _POS_CANSEL_STOP_CHK:
10949                            3074             SUB_START
10950 000015AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
10951                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10952                            3075              .AIF   1 EQ 1  ;
10953                            3076 C   ;       -------- 2016-10-31 ADD 二重回路対策
10954                            3077              .AENDI
10955                            3078     
10956                            3079     ;;;2016-10-31   MOV.L   #_CB_SEQ_CB_COM340,R1           ;340.11 位置決めキャンセル
10957                            3080     ;;;2016-10-31   MOV.W   @R1,R0                          ;
10958                            3081     ;;;2016-10-31   MOV.W   #BIT11,R4                       ;
10959                            3082     
10960                            3083     ;       -------- 2016-10-31(2016-05-11) ﾗｯﾁﾃﾞｰﾀに変更-----------
10961 000015AE D10C              3084             MOV.L   #_POSCANSEL_CMD,R1              ;
10962 000015B0 6011              3085             MOV.W   @R1,R0                          ;
10963 000015B2 9413              3086             MOV.W   #BIT11,R4                       ;
10964                            3087     
10965 000015B4 2048              3088             TST     R4,R0                           ;
10966                            3089             TST_BIT_OF POS_CANSEL_STPCHK_MOV        ;
10967 000015B6 891F                   M           BT      POS_CANSEL_STPCHK_MOV
10968                            3090     
10969                            3091             FAR_JSR #_POS_CANSEL_CLR,R0
10970 000015B8 D00A                   M           MOV.L   #_POS_CANSEL_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10971 000015BA 400B                   M           JSR     @R0                     ;
10972 000015BC 0009                   M           NOP                                     ;
10973                            3092             FAR_JSR #_ORGIN_MODE_FLG_CLR,R0         ;
10974 000015BE D00A                   M           MOV.L   #_ORGIN_MODE_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10975 000015C0 400B                   M           JSR     @R0                     ;
10976 000015C2 0009                   M           NOP                                     ;
10977                            3093     
10978                            3094     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10979                            3095             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10980 000015C4 D009                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10981 000015C6 400B                   M           JSR     @R0                     ;
10982 000015C8 0009                   M           NOP                                     ;
10983                            3096     
10984                            3097     ;       ---2007-03-02-----
10985                            3098             MOD_LOW_STOP_R0_R1              ;bit1->_MNWR_POS_CMD,R1         ;減速停止,起動OFF
10986 000015CA D109                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10987 000015CC E002                   M           MOV.B   #BIT1,R0                        ;
10988 000015CE 2101                   M           MOV.W   R0,@R1                          ;
10989                            3099             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10990 000015D0 D008                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10991 000015D2 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    93
PROGRAM NAME =

10992 000015D4 0009                   M           NOP                                     ;
10993                            3100     
10994                            3101     ;       ---- STOP ANS
10995 000015D6 E001              3102             MOV     #1,R0
10996                            3103             M_BRA   POS_CANSEL_STPCHK_END
10997 000015D8 A00F                   M           BRA     POS_CANSEL_STPCHK_END
10998 000015DA 0009                   M           NOP
10999                                     ***** BEGIN-POOL *****
11000 000015DC 0800                       DATA FOR SOURCE-LINE 3086
11001 000015DE 0000                       ALIGNMENT CODE
11002 000015E0 00000000                   DATA FOR SOURCE-LINE 3084
11003 000015E4 00000000                   DATA FOR SOURCE-LINE 3091
11004 000015E8 00000000                   DATA FOR SOURCE-LINE 3092
11005 000015EC 00000000                   DATA FOR SOURCE-LINE 3095
11006 000015F0 00000000                   DATA FOR SOURCE-LINE 3098
11007 000015F4 00000000                   DATA FOR SOURCE-LINE 3099
11008                                     ***** END-POOL *****
11009 000015F8                   3104     POS_CANSEL_STPCHK_MOV:
11010 000015F8 200A              3105             XOR     R0,R0
11011 000015FA                   3106     POS_CANSEL_STPCHK_END:
11012                            3107             SUB_END
11013                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11014 000015FA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11015                            3108             M_RTS
11016 000015FC 000B                   M           RTS                             ;RTSの後ろの
11017 000015FE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11018                            3109     
11019 00001600                   3110     _POS_CANSEL_CLR
11020                            3111             SUB_START
11021 00001600 4F22                   M           STS.L   PR,@-R15                ;[必要]
11022                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11023                            3112             FAR_JSR #_AUTO_OF,R0                    ;
11024 00001602 D006                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11025 00001604 400B                   M           JSR     @R0                     ;
11026 00001606 0009                   M           NOP                                     ;
11027 00001608 200A              3113             XOR     R0,R0
11028 0000160A D105              3114             MOV.L   #_STOP_LATCH_B,R1               ;
11029 0000160C 2101              3115             MOV.W   R0,@R1
11030 0000160E D105              3116             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
11031 00001610 2101              3117             MOV.W   R0,@R1
11032 00001612 D105              3118             MOV.L   #_INT_CLS_CTL_FLG,R1            ;//BIT0=1 START 起動時ｸﾘｱ
11033 00001614 2101              3119             MOV.W   R0,@R1                          ;
11034                            3120     
11035                            3121             SUB_END
11036                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11037 00001616 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11038                            3122             M_RTS
11039 00001618 000B                   M           RTS                             ;RTSの後ろの
11040 0000161A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11041                            3123     
11042                            3124     
11043                            3125     ;       *******************************************
11044                            3126     ;       ***                                     ***
11045                            3127     ;       ***     モード制御フラグの異常時クリア  ***
11046                            3128     ;       ***                                     ***
11047                            3129     ;       *******************************************
11048                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    94
PROGRAM NAME =

11049 0000161C 00000000                   DATA FOR SOURCE-LINE 3112
11050 00001620 00000000                   DATA FOR SOURCE-LINE 3114
11051 00001624 00000000                   DATA FOR SOURCE-LINE 3116
11052 00001628 00000000                   DATA FOR SOURCE-LINE 3118
11053                                     ***** END-POOL *****
11054 0000162C                   3130             .ALIGN  4                               ;
11055 0000162C                   3131     _EMG_CTL_FLG_PROC:
11056                            3132             SUB_START
11057 0000162C 4F22                   M           STS.L   PR,@-R15                ;[必要]
11058                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11059                            3133             FAR_JSR #_EXQ_CTL_FLG_PROC,R1           ;
11060 0000162E D10D                   M           MOV.L   #_EXQ_CTL_FLG_PROC,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11061 00001630 410B                   M           JSR     @R1                     ;
11062 00001632 0009                   M           NOP                                     ;
11063                            3134             FAR_JSR #_UP_HOLD_FLG_CLR1,R0           ;(ﾛｯﾄｶｳﾝﾀには使用できないので注意)
11064 00001634 D00C                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11065 00001636 400B                   M           JSR     @R0                     ;
11066 00001638 0009                   M           NOP                                     ;
11067                            3135             FAR_JSR #_UP_HOLD_FLG_CLR2,R0           ;
11068 0000163A D00C                   M           MOV.L   #_UP_HOLD_FLG_CLR2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11069 0000163C 400B                   M           JSR     @R0                     ;
11070 0000163E 0009                   M           NOP                                     ;
11071                            3136     
11072 00001640 200A              3137             XOR     R0,R0                           ;
11073 00001642 D10B              3138             MOV.L   #_INT_POS_CTL_STEP,R1           ;
11074 00001644 2101              3139             MOV.W   R0,@R1                          ;
11075 00001646 D10B              3140             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//連続が１ｽﾃｯﾌﾟになった
11076 00001648 2101              3141             MOV.W   R0,@R1                          ;
11077                            3142     
11078                            3143             FAR_JSR #_STEP_SIG_DSP_CLR,R0
11079 0000164A D00B                   M           MOV.L   #_STEP_SIG_DSP_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11080 0000164C 400B                   M           JSR     @R0                     ;
11081 0000164E 0009                   M           NOP                                     ;
11082                            3144     
11083 00001650 200A              3145             XOR     R0,R0                           ;2004-01-28
11084 00001652 D10A              3146             MOV.L   #_ENC360_OVER_FLG,R1            ;
11085 00001654 2101              3147             MOV.W   R0,@R1                          ;
11086                            3148     
11087                            3149     ;       ----- 2006-04-26 ------------
11088 00001656 200A              3150             XOR     R0,R0                           ;
11089 00001658 D109              3151             MOV.L   #_IN_RDY_FLG,R1                 ;ANTI LEVEL
11090 0000165A 2101              3152             MOV.W   R0,@R1                          ;
11091                            3153     
11092                            3154             SUB_END
11093                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11094 0000165C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11095                            3155             M_RTS
11096 0000165E 000B                   M           RTS                             ;RTSの後ろの
11097 00001660 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11098                            3156     
11099                                     ***** BEGIN-POOL *****
11100 00001662 0000                       ALIGNMENT CODE
11101 00001664 00000000                   DATA FOR SOURCE-LINE 3133
11102 00001668 00000000                   DATA FOR SOURCE-LINE 3134
11103 0000166C 00000000                   DATA FOR SOURCE-LINE 3135
11104 00001670 00000000                   DATA FOR SOURCE-LINE 3138
11105 00001674 00000000                   DATA FOR SOURCE-LINE 3140
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    95
PROGRAM NAME =

11106 00001678 00000000                   DATA FOR SOURCE-LINE 3143
11107 0000167C 00000000                   DATA FOR SOURCE-LINE 3146
11108 00001680 00000000                   DATA FOR SOURCE-LINE 3151
11109                                     ***** END-POOL *****
11110 00001684                   3157             .ALIGN  4                               ;
11111 00001684                   3158     _EXQ_CTL_FLG_PROC:                              ;EMGでも呼ばれる
11112                            3159             SUB_START
11113 00001684 4F22                   M           STS.L   PR,@-R15                ;[必要]
11114                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11115                            3160     ;;;     XOR     R0,R0                           ;
11116                            3161     ;;;2006-04-26   MOV.L   #_IN_RDY_FLG,R1         ;//内部準備完了(ANTIと同じﾚﾍﾞﾙ)
11117                            3162     ;;;2006-04-26   MOV.W   R0,@R1                  ;
11118                            3163     
11119 00001686 200A              3164             XOR     R0,R0                           ;
11120 00001688 D126              3165             MOV.L   #_DRV_ACT_FLG,R1        ;//運転動作ﾌﾗｸﾞ BIT0:運転中
11121 0000168A 2101              3166             MOV.W   R0,@R1                  ;
11122                            3167     
11123                            3168     
11124                            3169             FAR_JSR #_API_BREAK_VALV_FLG_OF,R0      ;2014-08-05[clr]
11125 0000168C D026                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11126 0000168E 400B                   M           JSR     @R0                     ;
11127 00001690 0009                   M           NOP                                     ;
11128                            3170     
11129                            3171     ;;      2007-01-16 START_SFTY_LOCK_CLRでｸﾘｱする
11130                            3172     ;;      MOV.L   #_RDY_SFTY_LOCK,R1      ;//BIT0:LOCK 2006-04-10
11131                            3173     ;;      MOV.W   R0,@R1                  ;2006-04-10
11132                            3174     ;;      MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;2006-04-10
11133                            3175     ;;      MOV.W   R0,@R1                  ;2006-04-10
11134                            3176     
11135                            3177     ;       ====== 2007-01-16========
11136                            3178             FAR_JSR #_START_SFTY_LOCK_CLR,R0        ;2007-01-16[KEP--clr]
11137 00001692 D026                   M           MOV.L   #_START_SFTY_LOCK_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11138 00001694 400B                   M           JSR     @R0                     ;
11139 00001696 0009                   M           NOP                                     ;
11140                            3179     
11141                            3180     ;;;;2012-09-25  FAR_JSR #_SFTY_MASK_START,R0    ;
11142                            3181     ;;;;2013-02-23  FAR_JSR #_SFTY_MASK_ST_NOT_DRV,R0       ;2012-09-25
11143                            3182             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0                ;2013-02-23 新ｿﾌﾄは
11144 00001698 D025                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11145 0000169A 400B                   M           JSR     @R0                     ;
11146 0000169C 0009                   M           NOP                                     ;
11147                            3183     
11148 0000169E 200A              3184             XOR     R0,R0                   ;
11149 000016A0 D124              3185             MOV.L   #_INT_CLS_CTL_FLG,R1    ;       //BIT0=1 START 起動時ｸﾘｱ
11150 000016A2 2101              3186             MOV.W   R0,@R1
11151                            3187     
11152 000016A4 200A              3188             XOR     R0,R0                           ;
11153 000016A6 D124              3189             MOV.L   #_RST_ERR_CHK_FLG,R1            ;BIT0=偏差異常みない
11154 000016A8 2101              3190             MOV.W   R0,@R1                          ;
11155                            3191     ;       == 2003-07-09 ==
11156 000016AA D124              3192             MOV.L   #_ORG_RDY_CTL_FLG,R1            ;不本意ながらﾌﾗｸﾞ
11157 000016AC 2101              3193             MOV.W   R0,@R1                          ;
11158                            3194     
11159                            3195     
11160                            3196     ;       ======ｻｲｸﾙ停止状態OFF==========================
11161                            3197             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4
11162 000016AE D124                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    96
PROGRAM NAME =

11163 000016B0 6011                   M           MOV.W   @R1,R0          ;
11164 000016B2 9433                   M           MOV.W   #LWORD (~BIT7),R4       ;
11165 000016B4 2049                   M           AND     R4,R0           ;
11166 000016B6 2101                   M           MOV.W   R0,@R1          ;
11167                            3198     
11168                            3199     ;       ======各一旦停止=================================
11169                            3200             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
11170 000016B8 D121                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11171 000016BA 6011                   M           MOV.W   @R1,R0          ;
11172 000016BC 942F                   M           MOV.W   #LWORD (~BIT9),R4       ;
11173 000016BE 2049                   M           AND     R4,R0           ;
11174 000016C0 2101                   M           MOV.W   R0,@R1          ;
11175                            3201     ;       ===============================================
11176                            3202             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~(H'FF),WKREG=R1 ;//位置決
                                          めｽﾃｰﾀｽ
11177 000016C2 D120                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
11178 000016C4 6011                   M           MOV.W   @R1,R0          ;
11179 000016C6 C900                   M           AND     #LOW ~(H'FF),R0         ;
11180 000016C8 2101                   M           MOV.W   R0,@R1          ;
11181                            3203     
11182                            3204     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
11183                            3205             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
11184 000016CA D11D                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11185 000016CC 6011                   M           MOV.W   @R1,R0          ;
11186 000016CE 9427                   M           MOV.W   #LWORD (~BIT3),R4       ;
11187 000016D0 2049                   M           AND     R4,R0           ;
11188 000016D2 2101                   M           MOV.W   R0,@R1          ;
11189                            3206     ;       ===============================================
11190                            3207             FAR_JSR #_CMPEMG_EXQ_FLG_CLR,R0                 ;起動したいもｸﾘｱ
11191 000016D4 D01C                   M           MOV.L   #_CMPEMG_EXQ_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11192 000016D6 400B                   M           JSR     @R0                     ;
11193 000016D8 0009                   M           NOP                                     ;
11194                            3208     
11195                            3209             FAR_JSR #_STOPPING_TIM_STOP_INI,R0
11196 000016DA D01C                   M           MOV.L   #_STOPPING_TIM_STOP_INI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11197 000016DC 400B                   M           JSR     @R0                     ;
11198 000016DE 0009                   M           NOP                                     ;
11199                            3210     
11200                            3211     ;       ==== 2012-03-06====
11201                            3212             FAR_JSR #_BRKTMCAL_STG1_STOPINI,R0              ;停止ソフト
11202 000016E0 D01B                   M           MOV.L   #_BRKTMCAL_STG1_STOPINI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11203 000016E2 400B                   M           JSR     @R0                     ;
11204 000016E4 0009                   M           NOP                                     ;
11205                            3213     
11206                            3214     
11207                            3215     ;       ==== 2003-07-01 ====
11208                            3216             FAR_JSR #_BRK_ERR_WORK_CLR1,R0
11209 000016E6 D01B                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11210 000016E8 400B                   M           JSR     @R0                     ;
11211 000016EA 0009                   M           NOP                                     ;
11212                            3217     
11213                            3218     ;       ==== 2003-07-09 ====
11214                            3219             FAR_JSR #_CNT_CYCL_DISP_ST,R0
11215 000016EC D01A                   M           MOV.L   #_CNT_CYCL_DISP_ST,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11216 000016EE 400B                   M           JSR     @R0                     ;
11217 000016F0 0009                   M           NOP                                     ;
11218                            3220     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    97
PROGRAM NAME =

11219                            3221     
11220                            3222     ;       ==== 2004-03-29 ===
11221                            3223             FAR_JSR #_EXQ_STOP_LEV_POS_CLR,R0
11222 000016F2 D01A                   M           MOV.L   #_EXQ_STOP_LEV_POS_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11223 000016F4 400B                   M           JSR     @R0                     ;
11224 000016F6 0009                   M           NOP                                     ;
11225                            3224     
11226                            3225     ;       ==== 2004-04-19 ==
11227                            3226             FAR_JSR #_GPOSIN_HOS_RESET,R0
11228 000016F8 D019                   M           MOV.L   #_GPOSIN_HOS_RESET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11229 000016FA 400B                   M           JSR     @R0                     ;
11230 000016FC 0009                   M           NOP                                     ;
11231                            3227     
11232                            3228     ;       ==== 2004-12-20 =====
11233                            3229             FAR_JSR #_CNTREST_HOS_RESET,R0
11234 000016FE D019                   M           MOV.L   #_CNTREST_HOS_RESET,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11235 00001700 400B                   M           JSR     @R0                     ;
11236 00001702 0009                   M           NOP                                     ;
11237                            3230     
11238                            3231     
11239                            3232     ;       ==== 2006-07-28 =====
11240                            3233             FAR_JSR #_ORGIN_MODE_FLG_CLR,R0 ;
11241 00001704 D018                   M           MOV.L   #_ORGIN_MODE_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11242 00001706 400B                   M           JSR     @R0                     ;
11243 00001708 0009                   M           NOP                                     ;
11244                            3234     
11245                            3235     
11246                            3236     ;       --------タイマ処理から再開をクリア[3/]------
11247                            3237             MEM_0CLR_R0_R1  MEM=_DURING_TIM_FX,LG=W
11248 0000170A 200A                   M           XOR     R0,R0           ;
11249 0000170C D117                   M           MOV.L   #_DURING_TIM_FX,R1      ;
11250 0000170E 2101                   M           MOV.W   R0,@R1          ;
11251                            3238     
11252                            3239     
11253                            3240     ;       -------------------2014-08-30 -----------
11254                            3241             FAR_JSR #_POS_HOLD_FLG_EXQ_CLR,R0
11255 00001710 D017                   M           MOV.L   #_POS_HOLD_FLG_EXQ_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11256 00001712 400B                   M           JSR     @R0                     ;
11257 00001714 0009                   M           NOP                                     ;
11258                            3242     
11259                            3243     
11260                            3244     
11261                            3245             SUB_END
11262                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11263 00001716 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11264                            3246             M_RTS
11265 00001718 000B                   M           RTS                             ;RTSの後ろの
11266 0000171A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11267                            3247     
11268                            3248     
11269                            3249     
11270                            3250     ;       *******************************************
11271                            3251     ;       ***                                     ***
11272                            3252     ;       ***     リセット制御フラグの異常時CLR   ***
11273                            3253     ;       ***                                     ***
11274                            3254     ;       *******************************************
11275                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    98
PROGRAM NAME =

11276 0000171C FF7F                       DATA FOR SOURCE-LINE 3197
11277 0000171E FDFF                       DATA FOR SOURCE-LINE 3200
11278 00001720 FFF7                       DATA FOR SOURCE-LINE 3205
11279 00001722 0000                       ALIGNMENT CODE
11280 00001724 00000000                   DATA FOR SOURCE-LINE 3165
11281 00001728 00000000                   DATA FOR SOURCE-LINE 3169
11282 0000172C 00000000                   DATA FOR SOURCE-LINE 3178
11283 00001730 00000000                   DATA FOR SOURCE-LINE 3182
11284 00001734 00000000                   DATA FOR SOURCE-LINE 3185
11285 00001738 00000000                   DATA FOR SOURCE-LINE 3189
11286 0000173C 00000000                   DATA FOR SOURCE-LINE 3192
11287 00001740 00000000                   DATA FOR SOURCE-LINE 3197,3200,3205
11288 00001744 00000000                   DATA FOR SOURCE-LINE 3202
11289 00001748 00000000                   DATA FOR SOURCE-LINE 3207
11290 0000174C 00000000                   DATA FOR SOURCE-LINE 3209
11291 00001750 00000000                   DATA FOR SOURCE-LINE 3212
11292 00001754 00000000                   DATA FOR SOURCE-LINE 3216
11293 00001758 00000000                   DATA FOR SOURCE-LINE 3219
11294 0000175C 00000000                   DATA FOR SOURCE-LINE 3223
11295 00001760 00000000                   DATA FOR SOURCE-LINE 3226
11296 00001764 00000000                   DATA FOR SOURCE-LINE 3229
11297 00001768 00000000                   DATA FOR SOURCE-LINE 3233
11298 0000176C 00000000                   DATA FOR SOURCE-LINE 3237
11299 00001770 00000000                   DATA FOR SOURCE-LINE 3241
11300                                     ***** END-POOL *****
11301 00001774                   3255             .ALIGN  4                               ;
11302 00001774                   3256     _STP_RST_FLG_PROC:
11303                            3257             SUB_START
11304 00001774 4F22                   M           STS.L   PR,@-R15                ;[必要]
11305                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11306 00001776 200A              3258             XOR     R0,R0
11307 00001778 D102              3259             MOV.L   #_reset_flg,R1                  ;
11308 0000177A 2101              3260             MOV.W   R0,@R1                          ;
11309                            3261             SUB_END
11310                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11311 0000177C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11312                            3262             M_RTS
11313 0000177E 000B                   M           RTS                             ;RTSの後ろの
11314 00001780 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11315                            3263     
11316                            3264     
11317                            3265     ;       ***************************************************
11318                            3266     ;       ***     ﾘｾｯﾄ開始時にｻｰﾎﾞを含めてやるべき処理    ***
11319                            3267     ;       ***************************************************
11320                            3268             .IMPORT _DEBUG_SIGNAL_OFF
11321                                     ***** BEGIN-POOL *****
11322 00001782 0000                       ALIGNMENT CODE
11323 00001784 00000000                   DATA FOR SOURCE-LINE 3259
11324                                     ***** END-POOL *****
11325 00001788                   3269     _RST_MOD_POS_START:
11326                            3270             SUB_START
11327 00001788 4F22                   M           STS.L   PR,@-R15                ;[必要]
11328                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11329                            3271     ;;;;;   FAR_JSR #_NOW_POS_PRESET_OUTPLS,R0      ;現在位置を目標位置に変える
11330                            3272             FAR_JSR #_DEBUG_SIGNAL_OFF,R0           ;2004-03-03
11331 0000178A D003                   M           MOV.L   #_DEBUG_SIGNAL_OFF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11332 0000178C 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE    99
PROGRAM NAME =

11333 0000178E 0009                   M           NOP                                     ;
11334                            3273             SUB_END
11335                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11336 00001790 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11337                            3274             M_RTS
11338 00001792 000B                   M           RTS                             ;RTSの後ろの
11339 00001794 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11340                            3275     
11341                            3276     
11342                            3277     ;       ***************************************************
11343                            3278     ;       ***     ﾘｾｯﾄ終了時にｻｰﾎﾞを含めてやるべき処理    ***
11344                            3279     ;       ***************************************************
11345                            3280     ;       [1]動作モードの決定
11346                            3281     ;       [2]
11347                            3282     ;
11348                            3283     ;
11349                                     ***** BEGIN-POOL *****
11350 00001796 0000                       ALIGNMENT CODE
11351 00001798 00000000                   DATA FOR SOURCE-LINE 3272
11352                                     ***** END-POOL *****
11353 0000179C                   3284     _RST_MOD_POS_END:
11354                            3285             SUB_START
11355 0000179C 4F22                   M           STS.L   PR,@-R15                ;[必要]
11356                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11357                            3286     
11358                            3287     ;;;;;;;;;       -----------2011-09-14 段取で安全一を動かすならこのソフトを生かす--
11359                            3288     ;;;;;;;;;       MOV.L   #_BRKTST_INPUT_CMD,R1           ;//BIT0:制動試験指令[349.0の替わり
                                          ],BIT1:制動試験停止指令
11360                            3289     ;;;;;;;;;       MOV.W   @R1,R0                          ;
11361                            3290     ;;;;;;;;;       TST     #BIT0,R0                        ;
11362                            3291     ;;;;;;;;;       TST_BIT_OF RST_MOD_POSEND_100           ;
11363                            3292     ;;;;;;;;;       MOV.W   #(_W1DIC),R0                    ;
11364                            3293     ;;;;;;;;;       MOV.L   #_MODE_SEL,R1                   ;
11365                            3294     ;;;;;;;;;       MOV.W   R0,@R1                          ;
11366                            3295     ;;;;;;;;;       M_BRA   RST_MOD_POSEND_200              ;
11367                            3296     ;       ------------------------------------------
11368                            3297     
11369 0000179E                   3298     RST_MOD_POSEND_100:
11370 0000179E D106              3299             MOV.L   #_INP_MODE,R1                   ;
11371 000017A0 6011              3300             MOV.W   @R1,R0                          ;
11372 000017A2 D106              3301             MOV.L   #_MODE_SEL,R1                   ;
11373 000017A4 2101              3302             MOV.W   R0,@R1                          ;
11374                            3303     
11375 000017A6                   3304     RST_MOD_POSEND_200:
11376                            3305     
11377 000017A6 200A              3306             XOR     R0,R0                           ;
11378 000017A8 D105              3307             MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
11379 000017AA 2101              3308             MOV.W   R0,@R1                          ;
11380 000017AC D105              3309             MOV.L   #_exq_err_flg,R1                ;//異常ﾗｯﾁ
11381 000017AE 2101              3310             MOV.W   R0,@R1                          ;
11382                            3311             SUB_END
11383                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11384 000017B0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11385                            3312             M_RTS
11386 000017B2 000B                   M           RTS                             ;RTSの後ろの
11387 000017B4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11388                            3313     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   100
PROGRAM NAME =

11389                            3314     ;       *******************************************
11390                            3315     ;       ***     上昇ﾎｰﾙﾄﾞ位置検索               ***
11391                            3316     ;       *******************************************
11392                            3317     ;       -- 設定からくる上昇位置をチェックする --
11393                            3318     ;       運転ﾓｰﾄﾞと運転方法から待機点へ戻る
11394                                     ***** BEGIN-POOL *****
11395 000017B6 0000                       ALIGNMENT CODE
11396 000017B8 00000000                   DATA FOR SOURCE-LINE 3299
11397 000017BC 00000000                   DATA FOR SOURCE-LINE 3301
11398 000017C0 00000000                   DATA FOR SOURCE-LINE 3307
11399 000017C4 00000000                   DATA FOR SOURCE-LINE 3309
11400                                     ***** END-POOL *****
11401 000017C8                   3319     _SV_UP_HOLD_CHK:
11402                            3320             SUB_START
11403 000017C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
11404                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11405 000017CA D104              3321             MOV.L   #_MODE_SEL,R1                           ;
11406 000017CC 6011              3322             MOV.W   @R1,R0                                  ;
11407 000017CE 9404              3323             MOV.W   #_W1INC+_W1SGL+_W1CNT+_W1OPT,R4         ;
11408 000017D0 2048              3324             TST     R4,R0                                   ;ﾓｰｼｮﾝ運転か?
11409                            3325             TST_BIT_ON SV_UP_HLDCHK_0050                    ;
11410 000017D2 8B05                   M           BF      SV_UP_HLDCHK_0050
11411 000017D4 200A              3326             XOR     R0,R0                                   ;
11412                            3327             M_BRA   SV_UP_HLDCHK_0900                       ;
11413 000017D6 A040                   M           BRA     SV_UP_HLDCHK_0900
11414 000017D8 0009                   M           NOP
11415                            3328     
11416                                     ***** BEGIN-POOL *****
11417 000017DA 001E                       DATA FOR SOURCE-LINE 3323
11418 000017DC 00000000                   DATA FOR SOURCE-LINE 3321
11419                                     ***** END-POOL *****
11420 000017E0                   3329     SV_UP_HLDCHK_0050:
11421 000017E0 D102              3330             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
11422 000017E2 6011              3331             MOV.W   @R1,R0                                  ;
11423 000017E4 C808              3332             TST     #_DMATH_UPDRIV,R0                       ;DRIVE MATH 上往復 BIT3
11424                            3333             TST_BIT_ON SV_UP_HLDCHK_0100                    ;上往復
11425 000017E6 8B03                   M           BF      SV_UP_HLDCHK_0100
11426                            3334             M_BRA   SV_UP_HLDCHK_0190                       ;
11427 000017E8 A012                   M           BRA     SV_UP_HLDCHK_0190
11428 000017EA 0009                   M           NOP
11429                            3335     ;       ======== 上往復 =======
11430                                     ***** BEGIN-POOL *****
11431 000017EC 00000000                   DATA FOR SOURCE-LINE 3330
11432                                     ***** END-POOL *****
11433 000017F0                   3336     SV_UP_HLDCHK_0100:
11434                            3337             FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;R1:往路 R2:復路
11435 000017F0 D404                   M           MOV.L   #_CW_CCW_ENDSTEP_SERACH,R4              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11436 000017F2 440B                   M           JSR     @R4                     ;
11437 000017F4 0009                   M           NOP                                     ;
11438 000017F6 D404              3338             MOV.L   #_UP_HOLD_STEP1,R4      ;
11439 000017F8 2411              3339             MOV.W   R1,@R4
11440 000017FA D404              3340             MOV.L   #_UP_HOLD_STEP2,R4      ;
11441 000017FC 2421              3341             MOV.W   R2,@R4
11442                            3342             M_BRA   SV_UP_HLDCHK_0900
11443 000017FE A02C                   M           BRA     SV_UP_HLDCHK_0900
11444 00001800 0009                   M           NOP
11445                            3343     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   101
PROGRAM NAME =

11446                                     ***** BEGIN-POOL *****
11447 00001802 0000                       ALIGNMENT CODE
11448 00001804 00000000                   DATA FOR SOURCE-LINE 3337
11449 00001808 00000000                   DATA FOR SOURCE-LINE 3338
11450 0000180C 00000000                   DATA FOR SOURCE-LINE 3340
11451                                     ***** END-POOL *****
11452 00001810                   3344     SV_UP_HLDCHK_0190:
11453 00001810 C804              3345             TST     #_DMATH_DNDRIV,R0               ;DRIVE MATH 下往復
11454                            3346             TST_BIT_ON SV_UP_HLDCHK_0200
11455 00001812 8B01                   M           BF      SV_UP_HLDCHK_0200
11456                            3347             M_BRA   SV_UP_HLDCHK_0290               ;
11457 00001814 A002                   M           BRA     SV_UP_HLDCHK_0290
11458 00001816 0009                   M           NOP
11459                            3348     
11460                            3349     ;       =====   下往復  =====
11461 00001818                   3350     SV_UP_HLDCHK_0200:
11462                            3351             M_BRA   SV_UP_HLDCHK_0295               ;回転と同じ論理[2009-10-07]
11463 00001818 A002                   M           BRA     SV_UP_HLDCHK_0295
11464 0000181A 0009                   M           NOP
11465                            3352     
11466                            3353     ;;[20091007下振子]      FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;R1:往路 R2:復路
11467                            3354     ;;[20091007下振子]      MOV.L   #_UP_HOLD_STEP1,R4      ;
11468                            3355     ;;[20091007下振子]      MOV.W   R1,@R4                  ;
11469                            3356     ;;[20091007下振子]      MOV.L   #_UP_HOLD_STEP2,R4      ;
11470                            3357     ;;[20091007下振子]      MOV.W   R2,@R4                  ;運転開始時にUP_HOLD_STEPにCOPY
11471                            3358     ;;[20091007下振子]      M_BRA   SV_UP_HLDCHK_0900
11472                            3359     
11473                            3360     
11474 0000181C                   3361     SV_UP_HLDCHK_0290:
11475 0000181C C802              3362             TST     #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
11476                            3363             TST_BIT_ON SV_UP_HLDCHK_0300            ;
11477 0000181E 8B13                   M           BF      SV_UP_HLDCHK_0300
11478 00001820                   3364     SV_UP_HLDCHK_0295:              ;20091007下振り子は回転と同じ論理
11479                            3365     ;       =====   回転    =====
11480                            3366             FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;ANS.R1
11481 00001820 D405                   M           MOV.L   #_CW_CCW_ENDSTEP_SERACH,R4              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11482 00001822 440B                   M           JSR     @R4                     ;
11483 00001824 0009                   M           NOP                                     ;
11484 00001826 D405              3367             MOV.L   #_UP_HOLD_STEP,R4;      //上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
11485 00001828 2411              3368             MOV.W   R1,@R4
11486 0000182A D405              3369             MOV.L   #_UP_HOLD_STEP1,R4      ;
11487 0000182C 2411              3370             MOV.W   R1,@R4
11488 0000182E D405              3371             MOV.L   #_UP_HOLD_STEP2,R4      ;
11489 00001830 2411              3372             MOV.W   R1,@R4
11490                            3373             M_BRA   SV_UP_HLDCHK_0900
11491 00001832 A012                   M           BRA     SV_UP_HLDCHK_0900
11492 00001834 0009                   M           NOP
11493                            3374     
11494                            3375     ;       =====   反転    =====
11495                                     ***** BEGIN-POOL *****
11496 00001836 0000                       ALIGNMENT CODE
11497 00001838 00000000                   DATA FOR SOURCE-LINE 3366
11498 0000183C 00000000                   DATA FOR SOURCE-LINE 3367
11499 00001840 00000000                   DATA FOR SOURCE-LINE 3369
11500 00001844 00000000                   DATA FOR SOURCE-LINE 3371
11501                                     ***** END-POOL *****
11502 00001848                   3376     SV_UP_HLDCHK_0300:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   102
PROGRAM NAME =

11503                            3377             FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;ANS.R2
11504 00001848 D405                   M           MOV.L   #_CW_CCW_ENDSTEP_SERACH,R4              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11505 0000184A 440B                   M           JSR     @R4                     ;
11506 0000184C 0009                   M           NOP                                     ;
11507 0000184E D405              3378             MOV.L   #_UP_HOLD_STEP,R4       ;       //上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
11508 00001850 2421              3379             MOV.W   R2,@R4
11509 00001852 D405              3380             MOV.L   #_UP_HOLD_STEP1,R4      ;
11510 00001854 2421              3381             MOV.W   R2,@R4
11511 00001856 D405              3382             MOV.L   #_UP_HOLD_STEP2,R4      ;
11512 00001858 2421              3383             MOV.W   R2,@R4
11513 0000185A                   3384     SV_UP_HLDCHK_0900:
11514                            3385     
11515                            3386             SUB_END
11516                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11517 0000185A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11518                            3387             M_RTS
11519 0000185C 000B                   M           RTS                             ;RTSの後ろの
11520 0000185E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11521                            3388     
11522                            3389     ;       *******************************************
11523                            3390     ;       ***                                     ***
11524                            3391     ;       ***     以降/時計回転ステップ検索       ***
11525                            3392     ;       ***     以降/反時計回転ステップ検索     ***
11526                            3393     ;       ***                                     ***
11527                            3394     ;       *******************************************
11528                            3395     ;       1,2,3,4,5,6(5段の最終)
11529                            3396     ;       ここでは段数を決定する
11530                            3397     ;       実動作で、角度を判定する
11531                            3398     ;
11532                            3399     ;       待機点を横切る運転はない
11533                            3400     ;       ANS R1 以降CW(正転)となるｽﾃｯﾌﾟ  待機=0度 1=100度 2=200 3=150 4=300 5=340 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=3
11534                            3401     ;       ANS R2                          待機=0度 1=100度 2=200 3=150 4=300 5=340 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=6
11535                            3402     ;
11536                            3403     ;       ANS R1 以降CW(正転)となるｽﾃｯﾌﾟ  待機=0度 1=100度 2=200 3=150 4=300 5=100 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=6
11537                            3404     ;       ANS R2                          待機=0度 1=100度 2=200 3=150 4=300 5=100 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=4
11538                            3405     ;
11539                            3406     ;       < つまり >      R1は位置増加(CW/正転:待機点への戻りの方向)
11540                            3407     ;                       R2は位置減少(CCW/逆転:待機点への戻りの方向)
11541                            3408     ;
11542                                     ***** BEGIN-POOL *****
11543 00001860 00000000                   DATA FOR SOURCE-LINE 3377
11544 00001864 00000000                   DATA FOR SOURCE-LINE 3378
11545 00001868 00000000                   DATA FOR SOURCE-LINE 3380
11546 0000186C 00000000                   DATA FOR SOURCE-LINE 3382
11547                                     ***** END-POOL *****
11548 00001870                   3409             .ALIGN  4
11549 00001870                   3410     _CW_CCW_ENDSTEP_SERACH:
11550                            3411             SUB_START
11551 00001870 4F22                   M           STS.L   PR,@-R15                ;[必要]
11552                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11553 00001872 D110              3412             MOV.L   #_SETX_POS_STEP_MAX,R1          ;//設定=1~10(2~11)
11554 00001874 6511              3413             MOV.W   @R1,R5                          ;R5ｶｳﾝﾀ
11555 00001876 7501              3414             ADD     #1,R5                           ;設定+1=MAX
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   103
PROGRAM NAME =

11556 00001878 6153              3415             MOV     R5,R1                           ;MAX-SET
11557 0000187A 6253              3416             MOV     R5,R2                           ;MAX-SET
11558 0000187C 6053              3417             MOV     R5,R0                           ;
11559 0000187E 70FF              3418             ADD     #-1,R0                          ;
11560 00001880 4008              3419             SHLL2   R0                              ;*4
11561 00001882 DA0D              3420             MOV.L   #_SETX_POS_SDAT1_OFSPOS,R10     ;
11562 00001884 3A0C              3421             ADD     R0,R10                          ;
11563 00001886 68A2              3422             MOV.L   @R10,R8                         ;最終工程(待機点)
11564 00001888 7AFC              3423             ADD     #-4,R10                         ;
11565 0000188A 6053              3424             MOV     R5,R0
11566                            3425     
11567 0000188C 233A              3426             XOR     R3,R3                           ;
11568 0000188E 244A              3427             XOR     R4,R4                           ;
11569                            3428     
11570 00001890                   3429     CW_CCW_ESTEP_LOP000:
11571 00001890 2008              3430             TST     R0,R0                           ;MAX STEP
11572                            3431             TST_BIT_OF CW_CCW_ESTEP_LOPEND          ;
11573 00001892 8927                   M           BT      CW_CCW_ESTEP_LOPEND
11574                            3432     
11575 00001894 67A2              3433             MOV.L   @R10,R7                         ;
11576 00001896 8801              3434             CMP/EQ  #1,R0                           ;1ｽﾃｯﾌﾟ
11577 00001898 8B01              3435             BF      CW_CCW_ESTEP_LOP050             ;最後? NO
11578 0000189A D508              3436             MOV.L   #_SETX_UPAREA_PLS,R5            ;//4;待機点
11579 0000189C 6752              3437             MOV.L   @R5,R7                          ;
11580 0000189E                   3438     CW_CCW_ESTEP_LOP050:                            ;
11581                            3439     
11582                            3440     
11583 0000189E 3870              3441             CMP/EQ  R7,R8                           ;R7(前段)=<R8(現段)
11584 000018A0 8914              3442             BT      CW_CCW_ESTEP_LOP300             ;
11585                            3443     
11586 000018A2 3877              3444             CMP/GT  R7,R8                           ;
11587 000018A4 8B0C              3445             BF      CW_CCW_ESTEP_LOP150             ;R7(前段)>=R8(現段)
11588 000018A6 E401              3446             MOV     #1,R4                           ;逆転終了
11589                            3447     
11590 000018A8 2338              3448             TST     R3,R3                           ;一回でも逆転があったか
11591                            3449             TST_BIT_ON CW_CCW_ESTEP_LOP400          ;
11592 000018AA 8B16                   M           BF      CW_CCW_ESTEP_LOP400
11593                            3450     ;       ===== 正転===
11594 000018AC 6103              3451             MOV     R0,R1                           ;
11595                            3452             M_BRA   CW_CCW_ESTEP_LOP400
11596 000018AE A014                   M           BRA     CW_CCW_ESTEP_LOP400
11597 000018B0 0009                   M           NOP
11598                            3453     
11599                                     ***** BEGIN-POOL *****
11600 000018B2 0000                       ALIGNMENT CODE
11601 000018B4 00000000                   DATA FOR SOURCE-LINE 3412
11602 000018B8 00000000                   DATA FOR SOURCE-LINE 3420
11603 000018BC 00000000                   DATA FOR SOURCE-LINE 3436
11604                                     ***** END-POOL *****
11605 000018C0                   3454     CW_CCW_ESTEP_LOP150:                            ;
11606 000018C0 E301              3455             MOV     #1,R3                           ;正転終了
11607 000018C2 2448              3456             TST     R4,R4                           ;
11608                            3457             TST_BIT_ON CW_CCW_ESTEP_LOP400          ;
11609 000018C4 8B09                   M           BF      CW_CCW_ESTEP_LOP400
11610                            3458     ;       ===== 逆転===
11611 000018C6 6203              3459             MOV     R0,R2                           ;
11612                            3460             M_BRA   CW_CCW_ESTEP_LOP400             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   104
PROGRAM NAME =

11613 000018C8 A007                   M           BRA     CW_CCW_ESTEP_LOP400
11614 000018CA 0009                   M           NOP
11615                            3461     
11616                            3462     
11617                            3463     ;       ===== ﾃﾞｰﾀEQU時の処理====
11618                            3464     ;       ===== 前段時の処理 =====
11619 000018CC                   3465     CW_CCW_ESTEP_LOP300:                            ;
11620 000018CC 2338              3466             TST     R3,R3                           ;
11621                            3467             TST_BIT_ON CW_CCW_ESTEP_LOP320          ;
11622 000018CE 8B00                   M           BF      CW_CCW_ESTEP_LOP320
11623                            3468     ;;;     ADD     #-1,R1                          ;
11624 000018D0 6203              3469             MOV     R0,R2                           ;
11625 000018D2                   3470     CW_CCW_ESTEP_LOP320:                            ;
11626                            3471     
11627 000018D2 2448              3472             TST     R4,R4                           ;
11628                            3473             TST_BIT_ON CW_CCW_ESTEP_LOP340          ;
11629 000018D4 8B00                   M           BF      CW_CCW_ESTEP_LOP340
11630                            3474     ;;;     ADD     #-1,R2                          ;
11631 000018D6 6203              3475             MOV     R0,R2                           ;
11632                            3476     
11633 000018D8                   3477     CW_CCW_ESTEP_LOP340:                            ;
11634 000018D8 0009              3478             NOP
11635 000018DA                   3479     CW_CCW_ESTEP_LOP400:                            ;
11636 000018DA 70FF              3480             ADD     #-1,R0                          ;
11637 000018DC 7AFC              3481             ADD     #-4,R10                         ;
11638 000018DE 6873              3482             MOV     R7,R8                           ;入れ替え
11639                            3483             M_BRA   CW_CCW_ESTEP_LOP000             ;
11640 000018E0 AFD6                   M           BRA     CW_CCW_ESTEP_LOP000
11641 000018E2 0009                   M           NOP
11642                            3484     
11643 000018E4                   3485     CW_CCW_ESTEP_LOPEND:
11644                            3486             M_BRA   CW_CCW_ESTEPTMCHK_START
11645 000018E4 A000                   M           BRA     CW_CCW_ESTEPTMCHK_START
11646 000018E6 0009                   M           NOP
11647                            3487     
11648                            3488     ;       --------- input R1,R2 OUTPUT R1,R2---------
11649 000018E8                   3489     CW_CCW_ESTEPTMCHK_START:
11650                            3490     ;;;     MOV.L   #_PAR_UPCHK_SEL1,R4             ;
11651 000018E8 D402              3491             MOV.L   #(_PAR_UPCHK_SEL1-_CB_SYS_PARAM000+_W_PARAM_TOP),R4     ;2012-03-06
11652 000018EA 6041              3492             MOV.W   @R4,R0                          ;
11653 000018EC 8801              3493             CMP/EQ  #1,R0                           ;
11654 000018EE 8903              3494             BT      CW_CCW_ESTEPTMCHK_010           ;
11655                            3495             M_BRA   CW_CCW_ESTEPTMCHK_LOPEND        ;
11656 000018F0 A026                   M           BRA     CW_CCW_ESTEPTMCHK_LOPEND
11657 000018F2 0009                   M           NOP
11658                            3496     
11659                                     ***** BEGIN-POOL *****
11660 000018F4 00000000                   DATA FOR SOURCE-LINE 3491
11661                                     ***** END-POOL *****
11662 000018F8                   3497     CW_CCW_ESTEPTMCHK_010
11663                            3498     
11664                            3499     
11665                            3500     ;       ========== 2011-09-01 r1:これ以降cw,r2:これ以降ccw
11666                            3501     ;タイマ停止があればその工程は上昇ホールドではない
11667                            3502     ;[R1,R2]
11668 000018F8 D40F              3503             MOV.L   #_SETX_POS_STEP_MAX,R4          ;//設定=1~10(2~11)
11669 000018FA 6541              3504             MOV.W   @R4,R5                          ;R5ｶｳﾝﾀ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   105
PROGRAM NAME =

11670                            3505     
11671 000018FC 7501              3506             ADD     #1,R5                           ;設定+1=MAX
11672 000018FE 6053              3507             MOV     R5,R0                           ;
11673 00001900 D40E              3508             MOV.L   #_SETX_POS_SDAT1_TIM,R4         ;
11674 00001902 70FE              3509             ADD     #-2,R0                          ;
11675 00001904 4008              3510             SHLL2   R0                              ;
11676 00001906 340C              3511             ADD     R0,R4                           ;
11677 00001908 6053              3512             MOV     R5,R0                           ;R0=2~6,2~11
11678 0000190A 70FF              3513             ADD     #-1,R0                          ;R0=2~5,2~10:　5段目が0以外なら6ｽﾃｯﾌﾟから
11679                            3514     
11680                            3515     
11681 0000190C                   3516     CW_CCW_ESTEPTMCHK_LOP:
11682 0000190C 2008              3517             TST     R0,R0
11683                            3518             TST_BIT_OF CW_CCW_ESTEPTMCHK_LOPEND     ;
11684 0000190E 8917                   M           BT      CW_CCW_ESTEPTMCHK_LOPEND
11685                            3519     
11686 00001910 6342              3520             MOV.L   @R4,R3                          ;R3:data
11687                            3521     
11688 00001912 3152              3522             CMP/HS  R5,R1                           ;MAX=< R1 演算不要
11689 00001914 8905              3523             BT      CW_CCW_ESTEPTMCHK_100           ;
11690 00001916 3106              3524             CMP/HI  R0,R1                           ;
11691 00001918 8903              3525             BT      CW_CCW_ESTEPTMCHK_100           ;
11692                            3526     
11693 0000191A 2338              3527             TST     R3,R3                           ;
11694                            3528             TST_BIT_OF CW_CCW_ESTEPTMCHK_100        ;
11695 0000191C 8901                   M           BT      CW_CCW_ESTEPTMCHK_100
11696 0000191E 6103              3529             MOV     R0,R1                           ;
11697 00001920 7101              3530             ADD     #1,R1                           ;
11698 00001922                   3531     CW_CCW_ESTEPTMCHK_100:
11699                            3532     
11700                            3533     
11701 00001922 3252              3534             CMP/HS  R5,R2                           ;MAX=< R2 演算不要
11702 00001924 8903              3535             BT      CW_CCW_ESTEPTMCHK_200           ;
11703 00001926 3206              3536             CMP/HI  R0,R2                           ;
11704 00001928 8901              3537             BT      CW_CCW_ESTEPTMCHK_200           ;
11705                            3538     
11706 0000192A 6203              3539             MOV     R0,R2                           ;
11707 0000192C 7201              3540             ADD     #1,R2                           ;
11708                            3541     
11709 0000192E                   3542     CW_CCW_ESTEPTMCHK_200:
11710 0000192E 74FC              3543             ADD     #-4,R4                          ;
11711 00001930 70FF              3544             ADD     #-1,R0                          ;
11712                            3545             M_BRA   CW_CCW_ESTEPTMCHK_LOP           ;
11713 00001932 AFEB                   M           BRA     CW_CCW_ESTEPTMCHK_LOP
11714 00001934 0009                   M           NOP
11715                                     ***** BEGIN-POOL *****
11716 00001936 0000                       ALIGNMENT CODE
11717 00001938 00000000                   DATA FOR SOURCE-LINE 3503
11718 0000193C 00000000                   DATA FOR SOURCE-LINE 3508
11719                                     ***** END-POOL *****
11720 00001940                   3546     CW_CCW_ESTEPTMCHK_LOPEND                ;
11721                            3547             SUB_END
11722                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11723 00001940 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11724                            3548             M_RTS
11725 00001942 000B                   M           RTS                             ;RTSの後ろの
11726 00001944 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   106
PROGRAM NAME =

11727                            3549     
11728                            3550     ;       ***********************************
11729                            3551     ;       ***                             ***
11730                            3552     ;       ***     上昇ﾎｰﾙﾄﾞ状態ならﾎｰﾙﾄﾞ  ***
11731                            3553     ;       ***                             ***
11732                            3554     ;       ***                             ***
11733                            3555     ;       ***********************************
11734 00001948                   3556             .ALIGN  4
11735 00001948                   3557     _CTRL_UP_HOLD_CHK:
11736                            3558             SUB_START
11737 00001948 4F22                   M           STS.L   PR,@-R15                ;[必要]
11738                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11739                            3559     ;;2012-03-06    MOV.L   #_INT_POS_CTL_STEP,R5   ;
11740                            3560     ;;2012-03-06    MOV.W   @R5,R0                  ;
11741                            3561     ;;2012-03-06    TST     R0,R0                   ;
11742                            3562     ;;2012-03-06    TST_BIT_ON CTRL_UP_HOLD_CK_ST00 ;
11743                            3563     ;;2012-03-06    M_BRA   CTRL_UP_HOLD_CK_END     ;
11744                            3564     
11745                            3565     ;ﾃｽﾄﾓｰﾄﾞ中はﾏｽｸ,AUTOにしない
11746 0000194A D105              3566             MOV.L   #_BRKTST_SW_IN,R1               ;2012-03-06
11747 0000194C 6011              3567             MOV.W   @R1,R0                          ;2012-03-06
11748 0000194E 2008              3568             TST     R0,R0                           ;2012-03-06
11749                            3569             TST_BIT_ON CTRL_UP_HOLD_CK_STAA         ;2012-03-06EXIT
11750 00001950 8B03                   M           BF      CTRL_UP_HOLD_CK_STAA
11751                            3570     
11752 00001952 D504              3571             MOV.L   #_INT_POS_CTL_STEP,R5   ;
11753 00001954 6051              3572             MOV.W   @R5,R0                  ;
11754 00001956 2008              3573             TST     R0,R0                   ;
11755                            3574             TST_BIT_ON CTRL_UP_HOLD_CK_ST00 ;
11756 00001958 8B06                   M           BF      CTRL_UP_HOLD_CK_ST00
11757 0000195A                   3575     CTRL_UP_HOLD_CK_STAA:
11758                            3576             M_BRA   CTRL_UP_HOLD_CK_ST_EXT  ;MISS CTRL_UP_HOLD_CK_END       ;
11759 0000195A A027                   M           BRA     CTRL_UP_HOLD_CK_ST_EXT
11760 0000195C 0009                   M           NOP
11761                            3577     
11762                            3578     
11763                            3579     
11764                            3580     
11765                            3581     
11766                                     ***** BEGIN-POOL *****
11767 0000195E 0000                       ALIGNMENT CODE
11768 00001960 00000000                   DATA FOR SOURCE-LINE 3566
11769 00001964 00000000                   DATA FOR SOURCE-LINE 3571
11770                                     ***** END-POOL *****
11771 00001968                   3582     CTRL_UP_HOLD_CK_ST00:
11772 00001968 D102              3583             MOV.L   #_UP_HOLD_FLG,R1        ;       //BIT0=1 上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝ
                                          ﾓｰﾄﾞでこの信号はON/OFFする
11773 0000196A 6011              3584             MOV.W   @R1,R0                  ;BIT4(OBJ~待機),BIT5(待機~OBJ)
11774 0000196C C801              3585             TST     #BIT0,R0                ;
11775                            3586             TST_BIT_OF CTRL_UP_HOLD_CK_ST20 ;
11776 0000196E 8903                   M           BT      CTRL_UP_HOLD_CK_ST20
11777                            3587             M_BRA   CTRL_UP_HOLD_CK_ST_EXT  ;MISS CTRL_UP_HOLD_CK_END       ;
11778 00001970 A01C                   M           BRA     CTRL_UP_HOLD_CK_ST_EXT
11779 00001972 0009                   M           NOP
11780                            3588     
11781                                     ***** BEGIN-POOL *****
11782 00001974 00000000                   DATA FOR SOURCE-LINE 3583
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   107
PROGRAM NAME =

11783                                     ***** END-POOL *****
11784 00001978                   3589     CTRL_UP_HOLD_CK_ST20:
11785                            3590     ;       ===== 一度ｴﾘｱ外にでたかﾁｪｯｸ ======
11786 00001978 D40E              3591             MOV.L   #_M_LINK_AREASIG,R4             ;//BIT0/BIT4:待機点範囲
11787 0000197A 6041              3592             MOV.W   @R4,R0                          ;
11788 0000197C C810              3593             TST     #BIT4,R0                        ;
11789                            3594             TST_BIT_ON CTRL_UP_HOLD_CK_ST40         ;
11790 0000197E 8B03                   M           BF      CTRL_UP_HOLD_CK_ST40
11791 00001980 D10D              3595             MOV.L   #_UP_HOLD_FLG,R1                ;１回目の運転開始(異常時または1CYCLEND)
11792 00001982 6011              3596             MOV.W   @R1,R0                          ;
11793 00001984 CB30              3597             OR      #(BIT5+BIT4),R0                 ;
11794 00001986 2101              3598             MOV.W   R0,@R1                          ;
11795 00001988                   3599     CTRL_UP_HOLD_CK_ST40:
11796                            3600             FAR_JSR #_UP_HOLD_SIG_MAK,R0
11797 00001988 D00C                   M           MOV.L   #_UP_HOLD_SIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11798 0000198A 400B                   M           JSR     @R0                     ;
11799 0000198C 0009                   M           NOP                                     ;
11800 0000198E 2008              3601             TST     R0,R0
11801                            3602             TST_BIT_OF CTRL_UP_HOLD_CK_ST_EXT
11802 00001990 890C                   M           BT      CTRL_UP_HOLD_CK_ST_EXT
11803                            3603     
11804                            3604     ;;2012-03-06    MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこ
                                          の信号はON/OFFする
11805                            3605     ;;2012-03-06    MOV.W   @R1,R0                  ;
11806                            3606     ;;2012-03-06    OR      #BIT0,R0                ;
11807                            3607     ;;2012-03-06    MOV.W   R0,@R1                  ;
11808                            3608     ;速度がある程度になったらホールドする
11809                            3609     
11810                            3610     ;       ===========================
11811                            3611     ;       ===     2012-03-06      ===
11812                            3612     ;       ===　　速度チェック     ===
11813                            3613     ;       ===========================
11814 00001992 D10B              3614             MOV.L   #(_PAR_UPCHK_SEL1-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
11815 00001994 6011              3615             MOV.W   @R1,R0                          ;
11816 00001996 8801              3616             CMP/EQ  #1,R0                           ;
11817 00001998 8B04              3617             BF      CTRL_UP_HOLD_CK_ST50            ;
11818                            3618     
11819                            3619     ;       -------2012-03-06--------
11820                            3620             FAR_JSR #_UP_HOLD_MASK_SPDCHK,R0        ;
11821 0000199A D00A                   M           MOV.L   #_UP_HOLD_MASK_SPDCHK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11822 0000199C 400B                   M           JSR     @R0                     ;
11823 0000199E 0009                   M           NOP                                     ;
11824 000019A0 2008              3621             TST     R0,R0                           ;
11825                            3622             TST_BIT_OF CTRL_UP_HOLD_CK_ST_EXT       ;動作方向でその速度に達していない
11826 000019A2 8903                   M           BT      CTRL_UP_HOLD_CK_ST_EXT
11827                            3623     
11828 000019A4                   3624     CTRL_UP_HOLD_CK_ST50:
11829                            3625     
11830 000019A4 D104              3626             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
11831 000019A6 6011              3627             MOV.W   @R1,R0                  ;
11832 000019A8 CB01              3628             OR      #BIT0,R0                ;
11833 000019AA 2101              3629             MOV.W   R0,@R1                  ;
11834                            3630     
11835                            3631     
11836                            3632     
11837                            3633     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   108
PROGRAM NAME =

11838                            3634     
11839                            3635     
11840                            3636     
11841                            3637     
11842 000019AC                   3638     CTRL_UP_HOLD_CK_ST_EXT:
11843                            3639     
11844                            3640             SUB_END
11845                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11846 000019AC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11847                            3641             M_RTS
11848 000019AE 000B                   M           RTS                             ;RTSの後ろの
11849 000019B0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11850                            3642     
11851                            3643     ;       ***************************************************
11852                            3644     ;       ***                                             ***
11853                            3645     ;       ***     上昇ホールドが相手ＣＰＵが行わないで    ***
11854                            3646     ;       ***     強制停止に向かった                      ***
11855                            3647     ;       ***                                             ***
11856                            3648     ;       ***************************************************
11857                            3649     ;       2015-11-15
11858                            3650     ;; .AIF 1 EQ 1
11859                                     ***** BEGIN-POOL *****
11860 000019B2 0000                       ALIGNMENT CODE
11861 000019B4 00000000                   DATA FOR SOURCE-LINE 3591
11862 000019B8 00000000                   DATA FOR SOURCE-LINE 3595,3626
11863 000019BC 00000000                   DATA FOR SOURCE-LINE 3600
11864 000019C0 00000000                   DATA FOR SOURCE-LINE 3614
11865 000019C4 00000000                   DATA FOR SOURCE-LINE 3620
11866                                     ***** END-POOL *****
11867 000019C8                   3651     _UP_HOLD_MISS
11868                            3652             SUB_START
11869 000019C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
11870                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11871                            3653             FAR_JSR #_UP_HOLD_FLG_CLR1,R0   ;
11872 000019CA D004                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11873 000019CC 400B                   M           JSR     @R0                     ;
11874 000019CE 0009                   M           NOP                                     ;
11875                            3654             FAR_JSR #_SFTY_MASK_END,R0      ;(結果としてはﾏｽｸするかもしれない)
11876 000019D0 D003                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11877 000019D2 400B                   M           JSR     @R0                     ;
11878 000019D4 0009                   M           NOP                                     ;
11879                            3655     
11880                            3656             SUB_END
11881                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11882 000019D6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11883                            3657             M_RTS
11884 000019D8 000B                   M           RTS                             ;RTSの後ろの
11885 000019DA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11886                            3658     ;; .AENDI
11887                            3659     
11888                            3660     ;       ***********************************
11889                            3661     ;       ***                             ***
11890                            3662     ;       ***                             ***
11891                            3663     ;       ***                             ***
11892                            3664     ;       ***********************************
11893                            3665     ;
11894                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   109
PROGRAM NAME =

11895 000019DC 00000000                   DATA FOR SOURCE-LINE 3653
11896 000019E0 00000000                   DATA FOR SOURCE-LINE 3654
11897                                     ***** END-POOL *****
11898 000019E4                   3666             .ALIGN  4
11899 000019E4                   3667     _UP_HOLD_SIG_MAK:
11900                            3668             SUB_START
11901 000019E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
11902                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11903 000019E6 D50A              3669             MOV.L   #_INT_POS_CTL_STEP,R5   ;
11904 000019E8 6251              3670             MOV.W   @R5,R2                  ;
11905 000019EA D40A              3671             MOV.L   #_UP_HOLD_STEP,R4       ;//上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
11906 000019EC 6541              3672             MOV.W   @R4,R5                  ;
11907 000019EE 3252              3673             CMP/HS  R5,R2                   ;ﾁｪｯｸすべき工程にきたか
11908 000019F0 8B34              3674             BF      CTRL_UP_HOLD_CK_END     ;
11909                            3675     
11910                            3676     ;       ======== ﾁｪｯｸすべき工程だ =======
11911                            3677     ;;[2009-10-07下振子]    MOV.L   #_INC_ENC360,R4         ;//360.0度(ｴﾝｺｰﾀﾞは表示と同じ)
11912                            3678     ;;[2009-10-07下振子]    MOV.W   @R4,R2                  ;
11913                            3679     ;       --------- [2009-10-07下振子]----
11914 000019F2 D409              3680             MOV.L   #_DNM_CTL_INC3600,R4    ;2009-10-07
11915 000019F4 6241              3681             MOV.W   @R4,R2                  ;
11916                            3682     
11917 000019F6 D509              3683             MOV.L   #_UP_HOLD_DIG,R5        ;//0.1度(165.0):ﾓｰﾀ軸ｴﾝｺｰﾀﾞ角度で比較
11918 000019F8 6151              3684             MOV.W   @R5,R1                  ;START
11919 000019FA D509              3685             MOV.L   #_SETX_UPAREA_DIG,R5    ;
11920 000019FC 6351              3686             MOV.W   @R5,R3                  ;
11921                            3687             FAR_JSR #_DIG_AREA_CHK1,R0      ;"ANS:R5"
11922 000019FE D009                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11923 00001A00 400B                   M           JSR     @R0                     ;
11924 00001A02 0009                   M           NOP                                     ;
11925                            3688     
11926                            3689     
11927 00001A04 D108              3690             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
11928 00001A06 6011              3691             MOV.W   @R1,R0                                  ;
11929 00001A08 C808              3692             TST     #_DMATH_UPDRIV,R0                       ;DRIVE MATH 上往復 BIT3
11930                            3693             TST_BIT_OF CTRL_UP_HOLD_CK_200                  ;
11931 00001A0A 890F                   M           BT      CTRL_UP_HOLD_CK_200
11932                            3694             M_BRA   CTRL_UP_HOLD_CK_400                     ;2009-10-07
11933 00001A0C A018                   M           BRA     CTRL_UP_HOLD_CK_400
11934 00001A0E 0009                   M           NOP
11935                            3695     ;;      M_BRA   CTRL_UP_HOLD_CK_END                     ;(作成未)
11936                            3696     
11937                                     ***** BEGIN-POOL *****
11938 00001A10 00000000                   DATA FOR SOURCE-LINE 3669
11939 00001A14 00000000                   DATA FOR SOURCE-LINE 3671
11940 00001A18 00000000                   DATA FOR SOURCE-LINE 3680
11941 00001A1C 00000000                   DATA FOR SOURCE-LINE 3683
11942 00001A20 00000000                   DATA FOR SOURCE-LINE 3685
11943 00001A24 00000000                   DATA FOR SOURCE-LINE 3687
11944 00001A28 00000000                   DATA FOR SOURCE-LINE 3690
11945                                     ***** END-POOL *****
11946 00001A2C                   3697     CTRL_UP_HOLD_CK_200:
11947 00001A2C C804              3698             TST     #_DMATH_DNDRIV,R0                       ;DRIVE MATH 上往復 BIT3
11948                            3699             TST_BIT_OF CTRL_UP_HOLD_CK_300                  ;
11949 00001A2E 8901                   M           BT      CTRL_UP_HOLD_CK_300
11950                            3700             M_BRA   CTRL_UP_HOLD_CK_400                     ;[2009-10-07下振子]
11951 00001A30 A006                   M           BRA     CTRL_UP_HOLD_CK_400
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   110
PROGRAM NAME =

11952 00001A32 0009                   M           NOP
11953                            3701     ;;;[2009-10-07下振子]   M_BRA   CTRL_UP_HOLD_CK_END                     ;(作成未)
11954                            3702     
11955 00001A34                   3703     CTRL_UP_HOLD_CK_300:
11956 00001A34 C802              3704             TST     #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
11957                            3705             TST_BIT_OF CTRL_UP_HOLD_CK_400                  ;
11958 00001A36 8903                   M           BT      CTRL_UP_HOLD_CK_400
11959                            3706     
11960                            3707     ;       ==== 反転R5=0,-1 ====
11961 00001A38 4515              3708             CMP/PL  R5                                      ;
11962 00001A3A 8B0B              3709             BF      CTRL_UP_HOLD_CK_700                     ;成立
11963                            3710             M_BRA   CTRL_UP_HOLD_CK_END                     ;
11964 00001A3C A00E                   M           BRA     CTRL_UP_HOLD_CK_END
11965 00001A3E 0009                   M           NOP
11966                            3711     
11967 00001A40                   3712     CTRL_UP_HOLD_CK_400:
11968                            3713     ;       ==== 正転R5=0,1 ====
11969 00001A40 D603              3714             MOV.L   #_UP_HOLD_FLG,R6                ;
11970 00001A42 6061              3715             MOV.W   @R6,R0                          ;
11971 00001A44 C820              3716             TST     #BIT5,R0                        ;範囲外へ一度いっているか？
11972                            3717             TST_BIT_OF CTRL_UP_HOLD_CK_END
11973 00001A46 8909                   M           BT      CTRL_UP_HOLD_CK_END
11974 00001A48 4511              3718             CMP/PZ  R5
11975 00001A4A 8903              3719             BT      CTRL_UP_HOLD_CK_700                     ;成立
11976                            3720             M_BRA   CTRL_UP_HOLD_CK_END                     ;
11977 00001A4C A006                   M           BRA     CTRL_UP_HOLD_CK_END
11978 00001A4E 0009                   M           NOP
11979                                     ***** BEGIN-POOL *****
11980 00001A50 00000000                   DATA FOR SOURCE-LINE 3714
11981                                     ***** END-POOL *****
11982 00001A54                   3721     CTRL_UP_HOLD_CK_700:
11983                            3722     
11984 00001A54 E0FF              3723             MOV     #-1,R0                  ;
11985                            3724     
11986                            3725             SUB_END
11987                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11988 00001A56 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11989                            3726             M_RTS
11990 00001A58 000B                   M           RTS                             ;RTSの後ろの
11991 00001A5A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11992                            3727     
11993                            3728     
11994                            3729     
11995 00001A5C                   3730     CTRL_UP_HOLD_CK_END:
11996 00001A5C 200A              3731             XOR     R0,R0
11997                            3732             SUB_END
11998                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11999 00001A5E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12000                            3733             M_RTS
12001 00001A60 000B                   M           RTS                             ;RTSの後ろの
12002 00001A62 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12003                            3734     
12004                            3735     
12005                            3736     
12006                            3737     ;       ***********************************
12007                            3738     ;       ***                             ***
12008                            3739     ;       ***     2012-03-06              ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   111
PROGRAM NAME =

12009                            3740     ;       ***     　　速度チェック        ***
12010                            3741     ;       ***                             ***
12011                            3742     ;       ***********************************
12012                            3743     ;動作方向にその速度以上になったらホールド・マスクする
12013 00001A64                   3744             .ALIGN  4                               ;
12014 00001A64                   3745     _UP_HOLD_MASK_SPDCHK:
12015                            3746             SUB_START
12016 00001A64 4F22                   M           STS.L   PR,@-R15                ;[必要]
12017                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12018                            3747     
12019 00001A66 D109              3748             MOV.L   #_ENC_PLS_SPD_DIR,R1                                    ;
12020 00001A68 6211              3749             MOV.W   @R1,R2                                                  ;
12021                            3750     
12022 00001A6A D109              3751             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12023 00001A6C 6011              3752             MOV.W   @R1,R0                                  ;
12024 00001A6E C801              3753             TST     #_DMATH_CNTROT,R0                       ;
12025                            3754             TST_BIT_ON UP_HOLD_MASKSPDCHK_FWD
12026 00001A70 8B07                   M           BF      UP_HOLD_MASKSPDCHK_FWD
12027                            3755     
12028 00001A72 C802              3756             TST     #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
12029                            3757             TST_BIT_ON UP_HOLD_MASKSPDCHK_REV               ;
12030 00001A74 8B10                   M           BF      UP_HOLD_MASKSPDCHK_REV
12031                            3758     
12032 00001A76 C804              3759             TST     #_DMATH_DNDRIV,R0                       ;DRIVE MATH ふりこ
12033                            3760             TST_BIT_OF UP_HOLD_MASKSPDCHK_NG                ;選択されていない
12034 00001A78 891E                   M           BT      UP_HOLD_MASKSPDCHK_NG
12035                            3761     
12036                            3762     ;ふりこ[今往路?復路]
12037 00001A7A D106              3763             MOV.L   #_DNM_DIR_SET_FLG,R1                    ;//
12038 00001A7C 6011              3764             MOV.W   @R1,R0                                  ;0:往路
12039 00001A7E 2008              3765             TST     R0,R0                                   ;
12040                            3766             TST_BIT_ON UP_HOLD_MASKSPDCHK_REV               ;1:復路
12041 00001A80 8B0A                   M           BF      UP_HOLD_MASKSPDCHK_REV
12042                            3767     
12043 00001A82                   3768     UP_HOLD_MASKSPDCHK_FWD:
12044 00001A82 2228              3769             TST     R2,R2                                   ;
12045                            3770             TST_BIT_ON UP_HOLD_MASKSPDCHK_NG                ;逆回転 EXIT
12046 00001A84 8B18                   M           BF      UP_HOLD_MASKSPDCHK_NG
12047                            3771             M_BRA   UP_HOLD_MASKSPDCHK_COM                  ;
12048 00001A86 A009                   M           BRA     UP_HOLD_MASKSPDCHK_COM
12049 00001A88 0009                   M           NOP
12050                            3772     
12051                                     ***** BEGIN-POOL *****
12052 00001A8A 0000                       ALIGNMENT CODE
12053 00001A8C 00000000                   DATA FOR SOURCE-LINE 3748
12054 00001A90 00000000                   DATA FOR SOURCE-LINE 3751
12055 00001A94 00000000                   DATA FOR SOURCE-LINE 3763
12056                                     ***** END-POOL *****
12057 00001A98                   3773     UP_HOLD_MASKSPDCHK_REV:
12058 00001A98 2228              3774             TST     R2,R2                                   ;
12059                            3775             TST_BIT_OF UP_HOLD_MASKSPDCHK_NG                ;正回転 EXIT
12060 00001A9A 890D                   M           BT      UP_HOLD_MASKSPDCHK_NG
12061                            3776     
12062 00001A9C                   3777     UP_HOLD_MASKSPDCHK_COM:
12063                            3778     
12064                            3779     
12065                            3780     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   112
PROGRAM NAME =

12066 00001A9C D104              3781             MOV.L   #(_PAR_UPMASK_SPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
12067 00001A9E 6211              3782             MOV.W   @R1,R2                                                  ;
12068 00001AA0 D104              3783             MOV.L   #_PV_ENC_SPD_PER,R1                                     ;
12069 00001AA2 6311              3784             MOV.W   @R1,R3                                                  ;
12070 00001AA4 3323              3785             CMP/GE  R2,R3                                                   ;R2=<R3[PV]
12071 00001AA6 8B07              3786             BF      UP_HOLD_MASKSPDCHK_NG
12072                            3787     ;       ------------------------------------------------------------------
12073                            3788     ;       ---回転では+方向
12074                            3789     ;       ---反転では-方向
12075                            3790     ;       ---ふりこ往路では+方向
12076                            3791     ;       ---ふりこ復路では-方向
12077                            3792     ;       ---ブレーキテストでは
12078                            3793     
12079 00001AA8                   3794     UP_HOLD_MASKSPDCHK_STR:
12080 00001AA8 E001              3795             MOV.B   #1,R0
12081                            3796             M_BRA   UP_HOLD_MASKSPDCHK_END
12082 00001AAA A006                   M           BRA     UP_HOLD_MASKSPDCHK_END
12083 00001AAC 0009                   M           NOP
12084                            3797     
12085                                     ***** BEGIN-POOL *****
12086 00001AAE 0000                       ALIGNMENT CODE
12087 00001AB0 00000000                   DATA FOR SOURCE-LINE 3781
12088 00001AB4 00000000                   DATA FOR SOURCE-LINE 3783
12089                                     ***** END-POOL *****
12090 00001AB8                   3798     UP_HOLD_MASKSPDCHK_NG:
12091 00001AB8 200A              3799             XOR     R0,R0
12092 00001ABA                   3800     UP_HOLD_MASKSPDCHK_END
12093                            3801     
12094                            3802             SUB_END
12095                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12096 00001ABA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12097                            3803             M_RTS
12098 00001ABC 000B                   M           RTS                             ;RTSの後ろの
12099 00001ABE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12100                            3804     
12101                            3805     
12102                            3806     ;       ===================================
12103                            3807     ;       ===     上昇ﾎｰﾙﾄﾞ無効出力       ===
12104                            3808     ;       ===================================
12105 00001AC0                   3809     _UP_HOLD_AREA_MASK:
12106                            3810             SUB_START
12107 00001AC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
12108                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12109 00001AC2 D10D              3811             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
12110 00001AC4 6011              3812             MOV.W   @R1,R0                  ;
12111 00001AC6 C802              3813             TST     #BIT1,R0                ;
12112                            3814             TST_BIT_ON UP_HOLD_ARA_MASK500  ;既に終了
12113 00001AC8 8B12                   M           BF      UP_HOLD_ARA_MASK500
12114 00001ACA C801              3815             TST     #BIT0,R0                ;ﾎｰﾙﾄﾞ状態か
12115                            3816             TST_BIT_OF UP_HOLD_ARA_MASK500  ;
12116 00001ACC 8910                   M           BT      UP_HOLD_ARA_MASK500
12117                            3817     
12118                            3818     ;       === 上昇無効仕様か ===
12119                            3819     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       MOV.L   #_CB_SEQ_SW_SEL028,R1   ;//SEQ 28
12120                            3820     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       MOV.W   @R1,R0                  ;28.2
12121                            3821     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       TST     #BIT2,R0                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   113
PROGRAM NAME =

12122                            3822     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       TST_BIT_OF UP_HOLD_ARA_MASK500  ;
12123                            3823     
12124                            3824     
12125                            3825     ;       ---2010-08-23[ｵﾌﾟｼｮﾝの安全一行程のみｼｽﾊﾟﾗの指示に従う]--
12126                            3826     ;;;     FAR_JSR #_OPT_SFTY_MASK_CHK,R0  ;
12127                            3827     ;;;     TST     R0,R0                           ;
12128                            3828     ;;;;    TST_BIT_ON UP_HOLD_ARA_MASK500          ;・外部の安全一行程で且つｼｽﾊﾟﾗが上昇無効に
                                          しないを指定
12129                            3829     
12130                            3830             FAR_JSR #_OPT_SGL_SFTY_MASK_CHK,R0      ;
12131 00001ACE D00B                   M           MOV.L   #_OPT_SGL_SFTY_MASK_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12132 00001AD0 400B                   M           JSR     @R0                     ;
12133 00001AD2 0009                   M           NOP                                     ;
12134 00001AD4 2008              3831             TST     R0,R0                           ;R0=-1　上昇無効にしない
12135                            3832             TST_BIT_ON UP_HOLD_ARA_MASK500          ;・外部の安全一行程で且つｼｽﾊﾟﾗが上昇無効に
                                          しないを指定
12136 00001AD6 8B0B                   M           BF      UP_HOLD_ARA_MASK500
12137                            3833                                                     ;・作業一行程、一行程は待機点２ＳＷに従う
12138                            3834     
12139                            3835     
12140                            3836     ;;;;2013-02-20 振子・反転とも上昇ホールド＋マスク有り
12141                            3837     ;;;;2013-02-20 ;        ----2011-09-06 振り子と反転は　上昇ホールドはするが上昇無効にはし
                                          ない
12142                            3838     ;;;;2013-02-20  MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12143                            3839     ;;;;2013-02-20  MOV.W   @R1,R0                                  ;
12144                            3840     ;;;;2013-02-20  TST     #(_DMATH_DNDRIV+_DMATH_REVRSE),R0       ;ふりこと反転は
12145                            3841     ;;;;2013-02-20  TST_BIT_ON UP_HOLD_ARA_MASK500                  ;
12146                            3842     ;;;;反転がマスクはされているが遮光停止するのはなぜ？
12147                            3843     
12148                            3844     
12149                            3845     ;       ====== 2013-02-23 やっぱり　ふりこと反転は　マスクする、しないを切り替える
12150 00001AD8 D109              3846             MOV.L   #_UPMSK2_DRVSEL,R1                      ;//2013-02-23
12151 00001ADA 6011              3847             MOV.W   @R1,R0                                  ;0:反転,ふりこを上昇無効にしない
12152 00001ADC 2008              3848             TST     R0,R0                                   ;
12153                            3849             TST_BIT_ON UP_HOLD_ARA_MASK480                  ;1の場合見なくする
12154 00001ADE 8B03                   M           BF      UP_HOLD_ARA_MASK480
12155                            3850     ;       -------------------------------------------------------------------
12156                            3851     
12157 00001AE0 D108              3852             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12158 00001AE2 6011              3853             MOV.W   @R1,R0                                  ;
12159 00001AE4 C806              3854             TST     #(_DMATH_DNDRIV+_DMATH_REVRSE),R0       ;ふりこと反転は
12160                            3855             TST_BIT_ON UP_HOLD_ARA_MASK500                  ;
12161 00001AE6 8B03                   M           BF      UP_HOLD_ARA_MASK500
12162                            3856     
12163                            3857     
12164 00001AE8                   3858     UP_HOLD_ARA_MASK480:
12165                            3859     
12166                            3860     ;       ======= このフラグをONすれば上昇ﾎｰﾙﾄﾞ+速度条件でﾏｽｸ===-
12167 00001AE8 D103              3861             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
12168 00001AEA 6011              3862             MOV.W   @R1,R0                  ;
12169 00001AEC CB02              3863             OR      #BIT1,R0                ;
12170 00001AEE 2101              3864             MOV.W   R0,@R1                  ;
12171                            3865     
12172                            3866     
12173 00001AF0                   3867     UP_HOLD_ARA_MASK500:
12174                            3868     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   114
PROGRAM NAME =

12175                            3869             SUB_END
12176                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12177 00001AF0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12178                            3870             M_RTS
12179 00001AF2 000B                   M           RTS                             ;RTSの後ろの
12180 00001AF4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12181                            3871     
12182                            3872     
12183                            3873     
12184                                     ***** BEGIN-POOL *****
12185 00001AF6 0000                       ALIGNMENT CODE
12186 00001AF8 00000000                   DATA FOR SOURCE-LINE 3811,3861
12187 00001AFC 00000000                   DATA FOR SOURCE-LINE 3830
12188 00001B00 00000000                   DATA FOR SOURCE-LINE 3846
12189 00001B04 00000000                   DATA FOR SOURCE-LINE 3852
12190                                     ***** END-POOL *****
12191 00001B08                   3874     _UP_HOLD_FLG_CLR1:
12192                            3875             SUB_START
12193 00001B08 4F22                   M           STS.L   PR,@-R15                ;[必要]
12194                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12195 00001B0A D103              3876             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ信号(手放し自動、上昇無効出力用)
12196 00001B0C 6011              3877             MOV.W   @R1,R0                  ;
12197 00001B0E C9FC              3878             AND     #LOW ~(BIT1+BIT0),R0    ;(ここでOFFする必要があるのか？)
12198 00001B10 2101              3879             MOV.W   R0,@R1                  ;
12199                            3880             SUB_END
12200                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12201 00001B12 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12202                            3881             M_RTS
12203 00001B14 000B                   M           RTS                             ;RTSの後ろの
12204 00001B16 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12205                            3882     
12206                                     ***** BEGIN-POOL *****
12207 00001B18 00000000                   DATA FOR SOURCE-LINE 3876
12208                                     ***** END-POOL *****
12209 00001B1C                   3883     _UP_HOLD_FLG_CLR2:
12210                            3884             SUB_START
12211 00001B1C 4F22                   M           STS.L   PR,@-R15                ;[必要]
12212                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12213 00001B1E D103              3885             MOV.L   #_UP_HOLD_FLG,R1        ;１回目の運転開始(異常時または1CYCLEND)
12214 00001B20 6011              3886             MOV.W   @R1,R0                  ;
12215 00001B22 C9CF              3887             AND     #LOW ~(BIT5+BIT4),R0    ;
12216 00001B24 2101              3888             MOV.W   R0,@R1                  ;
12217                            3889             SUB_END
12218                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12219 00001B26 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12220                            3890             M_RTS
12221 00001B28 000B                   M           RTS                             ;RTSの後ろの
12222 00001B2A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12223                            3891     
12224                            3892     
12225                            3893     
12226                            3894     
12227                            3895     
12228                            3896     
12229                            3897     
12230                            3898     
12231                            3899     ;       ***************************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   115
PROGRAM NAME =

12232                            3900     ;       ***                                             ***
12233                            3901     ;       ***     ミューテングの定義変更                  ***
12234                            3902     ;       ***     2012-09-25                              ***
12235                            3903     ;       ***     準備完了・未完了中も急停止にする        ***
12236                            3904     ;       ***                                             ***
12237                            3905     ;       ***************************************************
12238                            3906     ;;;2013-02-23 不要      .ALIGN  4                               ;
12239                            3907     ;;;2013-02-23 不要_SFTY_MASK_ST_NOT_DRV:
12240                            3908     ;;;2013-02-23 不要      SUB_START
12241                            3909     ;;;2013-02-23 不要
12242                            3910     ;;;2013-02-23 不要;     ======== 2013-02-20[SEQ349.9] ====
12243                            3911     ;;;2013-02-23 不要      MOV.L   #_MYUTING_MOD_STOPSEL,R1        ;//1:いつでも遮光有効(ﾐｭｰﾃ
                                          ﾝｸﾞ無効)
12244                            3912     ;;;2013-02-23 不要      MOV.W   @R1,R0                          ;
12245                            3913     ;;;2013-02-23 不要      CMP/EQ  #1,R0                           ;
12246                            3914     ;;;2013-02-23 不要      BT      SFTY_MASK_ST_NOTDRV100          ;
12247                            3915     ;;;2013-02-23 不要
12248                            3916     ;;;2013-02-23 不要
12249                            3917     ;;;2013-02-23 不要;;;2012-10-15 MOV.L   #_UPMSK2_MOD,R1                         ;//0:参照
                                          しない 1:参照する
12250                            3918     ;;;2013-02-23 不要      MOV.L   #_UPMSK2_MATH,R1                        ;//0:参照しない 1:
                                          参照する
12251                            3919     ;;;2013-02-23 不要      MOV.W   @R1,R0                                  ;
12252                            3920     ;;;2013-02-23 不要      TST     R0,R0                                   ;
12253                            3921     ;;;2013-02-23 不要      TST_BIT_ON SFTY_MASK_ST_NOTDRV100               ;
12254                            3922     ;;;2013-02-23 不要
12255                            3923     ;;;2013-02-23 不要      FAR_JSR #_SFTY_MASK_START,R0                    ;今までどおり
12256                            3924     ;;;2013-02-23 不要
12257                            3925     ;;;2013-02-23 不要      M_BRA   SFTY_MASK_ST_NOTDRV500
12258                            3926     ;;;2013-02-23 不要
12259                            3927     ;;;2013-02-23 不要
12260                            3928     ;;;2013-02-23 不要SFTY_MASK_ST_NOTDRV100:
12261                            3929     ;;;2013-02-23 不要
12262                            3930     ;;;2013-02-23 不要      FAR_JSR #_SFTY_MASK_END,R0                      ;
12263                            3931     ;;;2013-02-23 不要
12264                            3932     ;;;2013-02-23 不要SFTY_MASK_ST_NOTDRV500:                                       ;
12265                            3933     ;;;2013-02-23 不要
12266                            3934     ;;;2013-02-23 不要      SUB_END
12267                            3935     ;;;2013-02-23 不要      M_RTS
12268                            3936     
12269                            3937     
12270                            3938     ;       ***********************************
12271                            3939     ;       ***                             ***
12272                            3940     ;       ***     停止中のマスク          ***
12273                            3941     ;       ***                             ***
12274                            3942     ;       ***********************************
12275                            3943     ;       ***************************
12276                            3944     ;       ***     2013-02-23      ***
12277                            3945     ;       ***************************
12278                            3946     ;       上昇無効が有効/無効
12279                            3947     ;       SWが有効で,SWがONか?
12280                            3948     ;
12281                            3949     ;
12282                                     ***** BEGIN-POOL *****
12283 00001B2C 00000000                   DATA FOR SOURCE-LINE 3885
12284                                     ***** END-POOL *****
12285 00001B30                   3950     _NEWMASK_SEL_STOPMSK
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   116
PROGRAM NAME =

12286                            3951             SUB_START                               ;
12287 00001B30 4F22                   M           STS.L   PR,@-R15                ;[必要]
12288                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12289                            3952     
12290                            3953     ;       ======== 2013-02-20[SEQ349.9] ====
12291 00001B32 D10A              3954             MOV.L   #_MYUTING_MOD_STOPSEL,R1                ;//1:いつでも遮光有効(ﾐｭｰﾃﾝｸﾞ無効)
12292 00001B34 6011              3955             MOV.W   @R1,R0                                  ;
12293 00001B36 8801              3956             CMP/EQ  #1,R0                                   ;
12294 00001B38 890B              3957             BT      NEWMASK_SELSTOPCHK400                   ;
12295                            3958     
12296                            3959     ;       ----------------------------------
12297 00001B3A D109              3960             MOV.L   #_UPMSK2_MATH,R1                ;[0:停止中はﾏｽｸ固定],[1:停止中はﾏｽｸする/し
                                          ないをSWで決定]
12298 00001B3C 6011              3961             MOV.W   @R1,R0                          ;
12299 00001B3E 2008              3962             TST     R0,R0                           ;
12300                            3963             TST_BIT_OF NEWMASK_SELSTOPCHK500        ;
12301 00001B40 8916                   M           BT      NEWMASK_SELSTOPCHK500
12302                            3964     
12303 00001B42 D108              3965             MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない:1:参照する
12304 00001B44 6011              3966             MOV.W   @R1,R0                          ;
12305 00001B46 2008              3967             TST     R0,R0                           ;
12306                            3968             TST_BIT_OF NEWMASK_SELSTOPCHK500        ;
12307 00001B48 8912                   M           BT      NEWMASK_SELSTOPCHK500
12308                            3969     
12309 00001B4A D107              3970             MOV.L   #_UPMAK2_MOD_USE_SW,R1          ;
12310 00001B4C 6011              3971             MOV.W   @R1,R0                          ;
12311 00001B4E 2008              3972             TST     R0,R0
12312                            3973             TST_BIT_ON NEWMASK_SELSTOPCHK500        ;上昇無効にする
12313 00001B50 8B0E                   M           BF      NEWMASK_SELSTOPCHK500
12314                            3974     
12315                            3975     ;       ----------ﾐｭｰﾃﾝｸﾞ[ﾏｽｸ]にしない----
12316 00001B52                   3976     NEWMASK_SELSTOPCHK400
12317                            3977             FAR_JSR #_SFTY_MASK_END,R0                      ;
12318 00001B52 D006                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12319 00001B54 400B                   M           JSR     @R0                     ;
12320 00001B56 0009                   M           NOP                                     ;
12321                            3978             M_BRA   NEWMASK_SELSTOPCHKEND
12322 00001B58 A00D                   M           BRA     NEWMASK_SELSTOPCHKEND
12323 00001B5A 0009                   M           NOP
12324                            3979     
12325                            3980     ;       ----------ﾐｭｰﾃﾝｸﾞ[ﾏｽｸ]にする----
12326                                     ***** BEGIN-POOL *****
12327 00001B5C 00000000                   DATA FOR SOURCE-LINE 3954
12328 00001B60 00000000                   DATA FOR SOURCE-LINE 3960
12329 00001B64 00000000                   DATA FOR SOURCE-LINE 3965
12330 00001B68 00000000                   DATA FOR SOURCE-LINE 3970
12331 00001B6C 00000000                   DATA FOR SOURCE-LINE 3977
12332                                     ***** END-POOL *****
12333 00001B70                   3981     NEWMASK_SELSTOPCHK500
12334                            3982             FAR_JSR #_SFTY_MASK_START,R0                    ;今までどおり
12335 00001B70 D002                   M           MOV.L   #_SFTY_MASK_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12336 00001B72 400B                   M           JSR     @R0                     ;
12337 00001B74 0009                   M           NOP                                     ;
12338 00001B76                   3983     NEWMASK_SELSTOPCHKEND
12339                            3984     
12340                            3985     
12341                            3986             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   117
PROGRAM NAME =

12342                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12343 00001B76 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12344                            3987             M_RTS
12345 00001B78 000B                   M           RTS                             ;RTSの後ろの
12346 00001B7A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12347                            3988     
12348                            3989     
12349                            3990     ;       ***********************************
12350                            3991     ;       ***     動作上ﾏｽｸしたい         ***
12351                            3992     ;       ***     上昇無効,運転終了       ***
12352                            3993     ;       ***********************************
12353                                     ***** BEGIN-POOL *****
12354 00001B7C 00000000                   DATA FOR SOURCE-LINE 3982
12355                                     ***** END-POOL *****
12356 00001B80                   3994     _SFTY_MASK_START:
12357                            3995             SUB_START
12358 00001B80 4F22                   M           STS.L   PR,@-R15                ;[必要]
12359                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12360 00001B82 D105              3996             MOV.L   #_FR_CYL_MASK_FLG,R1    ;//上昇無効中"1"
12361 00001B84 6011              3997             MOV.W   @R1,R0                  ;
12362 00001B86 CB03              3998             OR      #(BIT1+BIT0),R0         ;
12363 00001B88 2101              3999             MOV.W   R0,@R1                  ;
12364                            4000             FAR_JSR #_FRCYCL_OF,R0          ;
12365 00001B8A D004                   M           MOV.L   #_FRCYCL_OF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12366 00001B8C 400B                   M           JSR     @R0                     ;
12367 00001B8E 0009                   M           NOP                                     ;
12368                            4001             SUB_END
12369                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12370 00001B90 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12371                            4002             M_RTS
12372 00001B92 000B                   M           RTS                             ;RTSの後ろの
12373 00001B94 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12374                            4003     
12375                            4004     ;       ***********************************
12376                            4005     ;       ***     動作上ﾏｽｸやめたい       ***
12377                            4006     ;       ***     起動時                  ***
12378                            4007     ;       ***********************************
12379                                     ***** BEGIN-POOL *****
12380 00001B96 0000                       ALIGNMENT CODE
12381 00001B98 00000000                   DATA FOR SOURCE-LINE 3996
12382 00001B9C 00000000                   DATA FOR SOURCE-LINE 4000
12383                                     ***** END-POOL *****
12384 00001BA0                   4008     _SFTY_MASK_END:
12385                            4009             SUB_START
12386 00001BA0 4F22                   M           STS.L   PR,@-R15                ;[必要]
12387                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12388 00001BA2 D104              4010             MOV.L   #_SW_DEV_MASK_FLG,R1    ;//BIT1=BIT0=0 安全装置無効  BIT1=BIT0=1 安全装置
                                          有効
12389 00001BA4 6011              4011             MOV.W   @R1,R0                  ;
12390 00001BA6 C803              4012             TST     #(BIT1+BIT0),R0         ;
12391                            4013             TST_BIT_ON SFTY_MASK_ED_100     ;
12392 00001BA8 8B08                   M           BF      SFTY_MASK_ED_100
12393                            4014             FAR_JSR #_SFTY_MASK_START,R0    ;
12394 00001BAA D003                   M           MOV.L   #_SFTY_MASK_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12395 00001BAC 400B                   M           JSR     @R0                     ;
12396 00001BAE 0009                   M           NOP                                     ;
12397                            4015             M_BRA   SFTY_MASK_ED_200        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   118
PROGRAM NAME =

12398 00001BB0 A00B                   M           BRA     SFTY_MASK_ED_200
12399 00001BB2 0009                   M           NOP
12400                            4016     
12401                                     ***** BEGIN-POOL *****
12402 00001BB4 00000000                   DATA FOR SOURCE-LINE 4010
12403 00001BB8 00000000                   DATA FOR SOURCE-LINE 4014
12404                                     ***** END-POOL *****
12405 00001BBC                   4017     SFTY_MASK_ED_100:
12406 00001BBC D104              4018             MOV.L   #_FR_CYL_MASK_FLG,R1    ;//上昇無効中"1"
12407 00001BBE 6011              4019             MOV.W   @R1,R0                  ;
12408 00001BC0 C9FC              4020             AND     #LOW ~(BIT1+BIT0),R0    ;
12409 00001BC2 2101              4021             MOV.W   R0,@R1                  ;
12410                            4022             FAR_JSR #_FRCYCL_ON,R0          ;
12411 00001BC4 D003                   M           MOV.L   #_FRCYCL_ON,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12412 00001BC6 400B                   M           JSR     @R0                     ;
12413 00001BC8 0009                   M           NOP                                     ;
12414 00001BCA                   4023     SFTY_MASK_ED_200:
12415                            4024             SUB_END
12416                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12417 00001BCA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12418                            4025             M_RTS
12419 00001BCC 000B                   M           RTS                             ;RTSの後ろの
12420 00001BCE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12421                            4026     
12422                            4027     
12423                            4028     
12424                            4029     
12425                            4030     
12426                            4031     
12427                            4032     
12428                            4033     
12429                            4034     
12430                            4035     
12431                            4036     ;       *******************************************************************
12432                            4037     ;       ***                                                             ***
12433                            4038     ;       ***     2010-08-23[ｵﾌﾟｼｮﾝの安全一行程のみｼｽﾊﾟﾗの指示に従う]     ***
12434                            4039     ;       ***                                                             ***
12435                            4040     ;       *******************************************************************
12436                            4041     ;       ANS R0=0
12437                            4042     ;       ANS R0=-1 (上昇無効にしない)
12438                            4043     ;;_OPT_SFTY_MASK_CHK:
12439                            4044     ;;      SUB_START
12440                            4045     ;;      XOR     R2,R2                   ;
12441                            4046     ;;
12442                            4047     ;;      MOV.L   #_di1_cb_ctl1_dt,R1             ;
12443                            4048     ;;      MOV.W   @R1,R0                          ;
12444                            4049     ;;      TST     #_W1OPT,R0                      ;OPTION?
12445                            4050     ;;      TST_BIT_OF OPT_SFTY_MASKCHK_100         ;ｵﾌﾟｼｮﾝではない(通常の安全一行程)
12446                            4051     ;;
12447                            4052     ;;      MOV.L   #_MODE_SEL,R1                   ;
12448                            4053     ;;      MOV.W   @R1,R0                          ;
12449                            4054     ;;      MOV.W   #BIT10,R1                       ;
12450                            4055     ;;      TST     R1,R0                           ;
12451                            4056     ;;      TST_BIT_ON OPT_SFTY_MASKCHK_100         ;ON:一行程
12452                            4057     ;;
12453                            4058     ;;      ---ｵﾌﾟｼｮﾝの安全一行程--
12454                            4059     ;;      MOV.L   #_WPAR_SFYOPT_USEL,R1           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   119
PROGRAM NAME =

12455                            4060     ;;      MOV.W   @R1,R0                          ;
12456                            4061     ;;      CMP/EQ  #1,R0                           ;
12457                            4062     ;;      BF      OPT_SFTY_MASKCHK_100            ;
12458                            4063     ;;
12459                            4064     ;;      MOV.B   #-1,R2                          ;
12460                            4065     ;;
12461                            4066     ;;OPT_SFTY_MASKCHK_100:
12462                            4067     ;;      MOV     R2,R0
12463                            4068     ;;      SUB_END
12464                            4069     ;;      M_RTS
12465                            4070     
12466                            4071     ;       ***************************************************************************
12467                            4072     ;       ***                                                                     ***
12468                            4073     ;       ***     2012-09-25                                                      ***
12469                            4074     ;       ***     [ｵﾌﾟｼｮﾝの安全一行程はｼｽﾊﾟﾗの指示に従い上昇無効にする/しない]    ***
12470                            4075     ;       ***                                                                     ***
12471                            4076     ;       ***************************************************************************
12472                            4077     ;       ANS R0=0:上昇無効にする,-1:上昇無効にしない
12473                                     ***** BEGIN-POOL *****
12474 00001BD0 00000000                   DATA FOR SOURCE-LINE 4018
12475 00001BD4 00000000                   DATA FOR SOURCE-LINE 4022
12476                                     ***** END-POOL *****
12477 00001BD8                   4078             .ALIGN  4                               ;
12478 00001BD8                   4079     _OPT_SGL_SFTY_MASK_CHK:
12479                            4080             SUB_START
12480 00001BD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
12481                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12482 00001BDA 222A              4081             XOR     R2,R2                   ;
12483                            4082     
12484                            4083     ;       ======== 2013-02-20[SEQ349.9] ====
12485 00001BDC D10B              4084             MOV.L   #_MYUTING_MOD_STOPSEL,R1        ;//1:いつでも遮光有効(ﾐｭｰﾃﾝｸﾞ無効)
12486 00001BDE 6011              4085             MOV.W   @R1,R0                          ;
12487 00001BE0 8801              4086             CMP/EQ  #1,R0                           ;
12488 00001BE2 8936              4087             BT      OPT_SGL_SFTY_MASKCHK_500        ;
12489                            4088     
12490                            4089     
12491 00001BE4 D10A              4090             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
12492 00001BE6 6011              4091             MOV.W   @R1,R0                          ;28.2
12493 00001BE8 C804              4092             TST     #BIT2,R0                        ;
12494                            4093             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_500     ;
12495 00001BEA 8932                   M           BT      OPT_SGL_SFTY_MASKCHK_500
12496                            4094     
12497                            4095     
12498 00001BEC D109              4096             MOV.L   #_di1_cb_ctl1_dt,R1             ;
12499 00001BEE 6011              4097             MOV.W   @R1,R0                          ;
12500 00001BF0 C810              4098             TST     #_W1OPT,R0                      ;OPTION?
12501                            4099             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_100     ;ｵﾌﾟｼｮﾝではない(通常の安全一行程)
12502 00001BF2 891D                   M           BT      OPT_SGL_SFTY_MASKCHK_100
12503                            4100     
12504 00001BF4 D108              4101             MOV.L   #_MODE_SEL,R1                   ;
12505 00001BF6 6011              4102             MOV.W   @R1,R0                          ;
12506 00001BF8 9107              4103             MOV.W   #BIT10,R1                       ;
12507 00001BFA 2018              4104             TST     R1,R0                           ;
12508                            4105             TST_BIT_ON OPT_SGL_SFTY_MASKCHK_080     ;ON:一行程　2012-09-25
12509 00001BFC 8B10                   M           BF      OPT_SGL_SFTY_MASKCHK_080
12510                            4106     ;;;;;;  TST_BIT_ON OPT_SGL_SFTY_MASKCHK_100     ;ON:一行程
12511                            4107     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   120
PROGRAM NAME =

12512                            4108     ;       ---ｵﾌﾟｼｮﾝの安全一行程--
12513 00001BFE D107              4109             MOV.L   #_WPAR_SFYOPT_USEL,R1           ;PARAM66
12514 00001C00 6011              4110             MOV.W   @R1,R0                          ;
12515 00001C02 8801              4111             CMP/EQ  #1,R0                           ;
12516 00001C04 8925              4112             BT      OPT_SGL_SFTY_MASKCHK_500        ;1:上昇無効にしない
12517                            4113             M_BRA   OPT_SGL_SFTY_MASKCHK_400        ;0,2上昇無効にする
12518 00001C06 A021                   M           BRA     OPT_SGL_SFTY_MASKCHK_400
12519 00001C08 0009                   M           NOP
12520                            4114     
12521                            4115     ;       --------一行程[新ﾓｰﾄﾞでは上昇無効にしない]---
12522                                     ***** BEGIN-POOL *****
12523 00001C0A 0400                       DATA FOR SOURCE-LINE 4103
12524 00001C0C 00000000                   DATA FOR SOURCE-LINE 4084
12525 00001C10 00000000                   DATA FOR SOURCE-LINE 4090
12526 00001C14 00000000                   DATA FOR SOURCE-LINE 4096
12527 00001C18 00000000                   DATA FOR SOURCE-LINE 4101
12528 00001C1C 00000000                   DATA FOR SOURCE-LINE 4109
12529                                     ***** END-POOL *****
12530 00001C20                   4116     OPT_SGL_SFTY_MASKCHK_080:
12531                            4117     ;;;;2012-10-15  MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない 1:参照する
12532                            4118     ;;;;2013-08-20  MOV.L   #_UPMSK2_MATH,R1                ;//0: 1:
12533                            4119     
12534 00001C20 D102              4120             MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない[旧ﾓｰﾄﾞ] 1:参照する 2013-08
                                          -20
12535 00001C22 6011              4121             MOV.W   @R1,R0                          ;
12536 00001C24 2008              4122             TST     R0,R0                           ;
12537                            4123             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400     ;今までどおりする
12538 00001C26 8911                   M           BT      OPT_SGL_SFTY_MASKCHK_400
12539                            4124             M_BRA   OPT_SGL_SFTY_MASKCHK_500        ;
12540 00001C28 A013                   M           BRA     OPT_SGL_SFTY_MASKCHK_500
12541 00001C2A 0009                   M           NOP
12542                            4125     
12543                            4126     
12544                            4127     ;       ======== 通常の安全一行程の条件(GAMEN-SWは上昇無効有り)===
12545                                     ***** BEGIN-POOL *****
12546 00001C2C 00000000                   DATA FOR SOURCE-LINE 4120
12547                                     ***** END-POOL *****
12548 00001C30                   4128     OPT_SGL_SFTY_MASKCHK_100:
12549                            4129     ;;;;;;;;;;;;;;2013-08-20        MOV.L   #_UPMSK2_MATH,R1                ;//0:参照しない 1:
                                          参照する
12550                            4130     ;;;;;;;;;;;;;;2013-08-20        MOV.W   @R1,R0                          ;
12551                            4131     ;;;;;;;;;;;;;;2013-08-20        TST     R0,R0                           ;
12552                            4132     ;;;;;;;;;;;;;;2013-08-20        TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400     ;今までどおりする
12553                            4133     ;;;;;;;;;;;;;;2013-08-20
12554                            4134     ;;;;;;;;;;;;;;2013-08-20        MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない 1:
                                          参照する
12555                            4135     ;;;;;;;;;;;;;;2013-08-20        MOV.W   @R1,R0                          ;
12556                            4136     ;;;;;;;;;;;;;;2013-08-20        TST     R0,R0                           ;
12557                            4137     ;;;;;;;;;;;;;;2013-08-20        TST_BIT_OF OPT_SGL_SFTY_MASKCHK_500     ;2012-10-15
12558                            4138     ;;;;;;;;;;;;;;2013-08-20
12559                            4139     ;;;;;;;;;;;;;;2013-08-20;;;;2012-10-15  TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400     ;今までど
                                          おりする
12560                            4140     
12561                            4141     ;       ===2013-08-20 SWを使用しない場合は 旧動作(上昇無効にする)==
12562 00001C30 D104              4142             MOV.L   #_UPMSK2_MOD,R1                         ;//0:参照しない 1:参照する
12563 00001C32 6011              4143             MOV.W   @R1,R0                                  ;
12564 00001C34 2008              4144             TST     R0,R0                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   121
PROGRAM NAME =

12565                            4145             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400             ;今までどおりする
12566 00001C36 8909                   M           BT      OPT_SGL_SFTY_MASKCHK_400
12567                            4146     
12568 00001C38 D103              4147             MOV.L   #_UPMAK2_MOD_USE_SW,R1                  ;
12569 00001C3A 6011              4148             MOV.W   @R1,R0                                  ;
12570 00001C3C 2008              4149             TST     R0,R0
12571                            4150             TST_BIT_ON OPT_SGL_SFTY_MASKCHK_400             ;ON する
12572 00001C3E 8B05                   M           BF      OPT_SGL_SFTY_MASKCHK_400
12573                            4151             M_BRA   OPT_SGL_SFTY_MASKCHK_500                ;しない
12574 00001C40 A007                   M           BRA     OPT_SGL_SFTY_MASKCHK_500
12575 00001C42 0009                   M           NOP
12576                            4152     
12577                            4153     ;       ----------上昇無効にする----
12578                                     ***** BEGIN-POOL *****
12579 00001C44 00000000                   DATA FOR SOURCE-LINE 4142
12580 00001C48 00000000                   DATA FOR SOURCE-LINE 4147
12581                                     ***** END-POOL *****
12582 00001C4C                   4154     OPT_SGL_SFTY_MASKCHK_400:
12583 00001C4C 222A              4155             XOR     R2,R2
12584                            4156             M_BRA   OPT_SGL_SFTY_MASKCHK_END
12585 00001C4E A001                   M           BRA     OPT_SGL_SFTY_MASKCHK_END
12586 00001C50 0009                   M           NOP
12587                            4157     
12588                            4158     ;       ---------しない----
12589 00001C52                   4159     OPT_SGL_SFTY_MASKCHK_500:
12590 00001C52 E2FF              4160             MOV.B   #-1,R2                          ;
12591 00001C54                   4161     OPT_SGL_SFTY_MASKCHK_END:
12592 00001C54 6023              4162             MOV     R2,R0
12593                            4163     
12594                            4164             SUB_END
12595                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12596 00001C56 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12597                            4165             M_RTS
12598 00001C58 000B                   M           RTS                             ;RTSの後ろの
12599 00001C5A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12600                            4166     
12601                            4167     
12602                            4168     
12603                            4169     
12604                            4170     
12605                            4171     
12606                            4172     
12607                            4173     
12608                            4174     
12609                            4175     ;       ***********************************
12610                            4176     ;       ***     ロットカウント処理      ***
12611                            4177     ;       ***********************************
12612                            4178     ;
12613                            4179     ;
12614                            4180     ;       <待機点内->待機点外>
12615                            4181             .IMPORT _LOT_SIG_SET            ;
12616 00001C5C                   4182     _LOT_CNT_CNT:
12617                            4183             SUB_START
12618 00001C5C 4F22                   M           STS.L   PR,@-R15                ;[必要]
12619                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12620                            4184     
12621                            4185     ;       ====待機点復帰はロットカウンタをカウントしない S00ejの2回目===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   122
PROGRAM NAME =

12622 00001C5E D105              4186             MOV.L   #_MODE_SEL,R1           ;
12623 00001C60 6011              4187             MOV.W   @R1,R0                  ;
12624 00001C62 C860              4188             TST     #(_W1DUP+_W1DIC),R0     ;TST #_W1DUP 原点復帰と段取はｶｳﾝﾄしない 2003-07-01
12625                            4189             TST_BIT_ON LOT_CNTCNT_200       ;原点時はｶｳﾝﾄしない
12626 00001C64 8B2B                   M           BF      LOT_CNTCNT_200
12627                            4190     
12628 00001C66 D104              4191             MOV.L   #_LOT_CHK_FLG,R1        ;
12629 00001C68 6011              4192             MOV.W   @R1,R0                  ;
12630 00001C6A C911              4193             AND     #(BIT4+BIT0),R0         ;待機点に入って+下降領域に入った
12631 00001C6C 8811              4194             CMP/EQ  #(BIT4+BIT0),R0         ;待機点に入って+下降領域に入った
12632 00001C6E 8905              4195             BT      LOT_CNTCNT_050          ;下降領域に入った
12633                            4196             M_BRA   LOT_CNTCNT_200          ;
12634 00001C70 A025                   M           BRA     LOT_CNTCNT_200
12635 00001C72 0009                   M           NOP
12636                            4197     
12637                            4198     
12638                                     ***** BEGIN-POOL *****
12639 00001C74 00000000                   DATA FOR SOURCE-LINE 4186
12640 00001C78 00000000                   DATA FOR SOURCE-LINE 4191
12641                                     ***** END-POOL *****
12642 00001C7C                   4199     LOT_CNTCNT_050:
12643                            4200     
12644                            4201              .AIF   1 EQ 1  ;
12645                            4202 C   ;       -------- 2016-10-31 ADD 二重回路対策
12646                            4203              .AENDI
12647                            4204     ;       ---------- 2016-10-31(2016-07-16) ----------------
12648                            4205             .AIF    0 EQ    0       ;
12649 00001C7C D103              4206 C           MOV.L   #_CPUB_LOT_CHK_FLG,R1           ;2016-07-18CHECK
12650                            4207             .AELSE                                  ;
12651                            4208             MOV.L   #_CPUA_LOT_CHK_FLG,R1           ;2016-07-18CHECK
12652                            4209             .AENDI                                  ;
12653                            4210     
12654 00001C7E 6011              4211             MOV.W   @R1,R0                          ;
12655 00001C80 C911              4212             AND     #(BIT4+BIT0),R0                 ;待機点に入って+下降領域に入った
12656 00001C82 8811              4213             CMP/EQ  #(BIT4+BIT0),R0                 ;待機点に入って+下降領域に入った
12657 00001C84 8904              4214             BT      LOT_CNTCNT_080                  ;下降領域に入った
12658                            4215             M_BRA   LOT_CNTCNT_200                  ;
12659 00001C86 A01A                   M           BRA     LOT_CNTCNT_200
12660 00001C88 0009                   M           NOP
12661                            4216     
12662                                     ***** BEGIN-POOL *****
12663 00001C8A 0000                       ALIGNMENT CODE
12664 00001C8C 00000000                   DATA FOR SOURCE-LINE 4206
12665                                     ***** END-POOL *****
12666 00001C90                   4217     LOT_CNTCNT_080:                                 ;
12667                            4218     
12668                            4219     
12669                            4220     
12670 00001C90 D10E              4221             MOV.L   #_LOT_CNT_FLG,R1        ;//行程=1で0 最終工程で条件成立で=1() <===ﾓｰｼｮﾝ時
                                          のみ=1
12671 00001C92 6011              4222             MOV.W   @R1,R0                  ;
12672 00001C94 2008              4223             TST     R0,R0                   ;
12673                            4224             TST_BIT_ON LOT_CNTCNT_200       ;
12674 00001C96 8B12                   M           BF      LOT_CNTCNT_200
12675                            4225     
12676                            4226             FAR_JSR #_UP_LOT_SIG_MAK,R0
12677 00001C98 D00D                   M           MOV.L   #_UP_LOT_SIG_MAK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   123
PROGRAM NAME =

12678 00001C9A 400B                   M           JSR     @R0                     ;
12679 00001C9C 0009                   M           NOP                                     ;
12680                            4227     
12681 00001C9E 2008              4228             TST     R0,R0                   ;
12682                            4229             TST_BIT_OF LOT_CNTCNT_200       ;
12683 00001CA0 890D                   M           BT      LOT_CNTCNT_200
12684                            4230     
12685 00001CA2 D10A              4231             MOV.L   #_LOT_CNT_FLG,R1        ;//行程=1で0 最終工程で条件成立で=1()
12686 00001CA4 6011              4232             MOV.W   @R1,R0                  ;
12687 00001CA6 CB01              4233             OR      #BIT0,R0                ;
12688 00001CA8 2101              4234             MOV.W   R0,@R1                  ;
12689                            4235     
12690                            4236     
12691                            4237     ;;2016-10-31未使用      MOV.L   #_LOT_CNT_TO_MOD,R1     ;
12692                            4238     ;;2016-10-31未使用      MOV.W   @R1,R0                  ;
12693                            4239     ;;2016-10-31未使用      OR      #BIT0,R0                ;
12694                            4240     ;;2016-10-31未使用      MOV.W   R0,@R1                  ;
12695                            4241     
12696                            4242     
12697                            4243     
12698                            4244             FAR_JSR #_LOT_SIG_SET,R0                                                ;
12699 00001CAA D00A                   M           MOV.L   #_LOT_SIG_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12700 00001CAC 400B                   M           JSR     @R0                     ;
12701 00001CAE 0009                   M           NOP                                     ;
12702                            4245     
12703                            4246     ;       ===========ﾛｯﾄｶｳﾝﾀでの処理==================
12704 00001CB0 D109              4247             MOV.L   #_CONT_MOD_CNT_PV,R1    ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
12705 00001CB2 6011              4248             MOV.W   @R1,R0                  ;
12706 00001CB4 2008              4249             TST     R0,R0
12707                            4250             TST_BIT_OF CONT_LOT_CHK050
12708 00001CB6 8901                   M           BT      CONT_LOT_CHK050
12709 00001CB8 70FF              4251             ADD     #-1,R0
12710 00001CBA 2101              4252             MOV.W   R0,@R1
12711 00001CBC                   4253     CONT_LOT_CHK050:
12712 00001CBC 0009              4254             NOP
12713                            4255     
12714                            4256     
12715 00001CBE                   4257     LOT_CNTCNT_200:
12716                            4258     
12717                            4259              .AIF   1 EQ 1  ;
12718                            4260 C   ;       -------- 2016-10-31 ADD 二重回路対策
12719                            4261              .AENDI
12720                            4262             FAR_JSR #_CNT_MODE_CNT_SIG_OUT,R0       ;2016-07-21
12721 00001CBE D007                   M           MOV.L   #_CNT_MODE_CNT_SIG_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12722 00001CC0 400B                   M           JSR     @R0                     ;
12723 00001CC2 0009                   M           NOP                                     ;
12724                            4263     
12725                            4264             SUB_END
12726                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12727 00001CC4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12728                            4265             M_RTS
12729 00001CC6 000B                   M           RTS                             ;RTSの後ろの
12730 00001CC8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12731                            4266     
12732                            4267     
12733                            4268              .AIF   1 EQ 1  ;
12734                            4269 C   ;       -------- 2016-10-31 ADD 二重回路対策
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   124
PROGRAM NAME =

12735                            4270              .AENDI
12736                            4271     ;       ---------- 二重回路 2016-07-21---------
12737                                     ***** BEGIN-POOL *****
12738 00001CCA 0000                       ALIGNMENT CODE
12739 00001CCC 00000000                   DATA FOR SOURCE-LINE 4221,4231
12740 00001CD0 00000000                   DATA FOR SOURCE-LINE 4226
12741 00001CD4 00000000                   DATA FOR SOURCE-LINE 4244
12742 00001CD8 00000000                   DATA FOR SOURCE-LINE 4247
12743 00001CDC 00000000                   DATA FOR SOURCE-LINE 4262
12744                                     ***** END-POOL *****
12745 00001CE0                   4272     _CNT_MODE_CNT_SIG_OUT
12746                            4273             SUB_START
12747 00001CE0 4F22                   M           STS.L   PR,@-R15                ;[必要]
12748                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12749                            4274     
12750                            4275     ;       ------2016-07-16
12751 00001CE2 D107              4276             MOV.L   #_LOT_CHK_FLG,R1                ;
12752 00001CE4 6011              4277             MOV.W   @R1,R0                          ;
12753                            4278             .AIF    0 EQ    0       ;CPUBのﾌﾟﾛｸﾞﾗﾑ領域が不足のため　2014-08-20
12754 00001CE6 D107              4279 C           MOV.L   #_CPUA_LOT_CHK_FLG,R1           ;2016-07-18CHECK
12755                            4280             .AELSE
12756                            4281             MOV.L   #_CPUB_LOT_CHK_FLG,R1           ;2016-07-18CHECK
12757                            4282             .AENDI                                  ;
12758 00001CE8 2101              4283             MOV.W   R0,@R1                          ;
12759                            4284     
12760                            4285     
12761 00001CEA D107              4286             MOV.L   #_LOT_CNT_FLG,R1                ;
12762 00001CEC 6011              4287             MOV.W   @R1,R0                          ;
12763                            4288             .AIF    0 EQ    0       ;CPUBのﾌﾟﾛｸﾞﾗﾑ領域が不足のため　2014-08-20
12764 00001CEE D107              4289 C           MOV.L   #_CPUA_LOT_CNT_FLG,R1           ;2016-07-18CHECK
12765                            4290             .AELSE
12766                            4291             MOV.L   #_CPUB_LOT_CNT_FLG,R1           ;2016-07-18CHECK
12767                            4292             .AENDI                                  ;
12768 00001CF0 2101              4293             MOV.W   R0,@R1                          ;
12769                            4294     
12770                            4295     
12771 00001CF2 D107              4296             MOV.L   #_CONT_MOD_CNT_PV,R1            ;
12772 00001CF4 6011              4297             MOV.W   @R1,R0                          ;
12773                            4298             .AIF    0 EQ    0       ;CPUBのﾌﾟﾛｸﾞﾗﾑ領域が不足のため　2014-08-20
12774 00001CF6 D107              4299 C           MOV.L   #_CPUA_CONT_MOD_CNT_PV,R1               ;2016-07-18CHECK
12775                            4300             .AELSE
12776                            4301             MOV.L   #_CPUB_CONT_MOD_CNT_PV,R1               ;2016-07-18CHECK
12777                            4302             .AENDI                                  ;
12778 00001CF8 2101              4303             MOV.W   R0,@R1                          ;
12779                            4304             SUB_END
12780                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12781 00001CFA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12782                            4305             M_RTS
12783 00001CFC 000B                   M           RTS                             ;RTSの後ろの
12784 00001CFE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12785                            4306     
12786                            4307     
12787                            4308     
12788                            4309             .EXPORT _LOT_SIG_FLG_CLR
12789                            4310     
12790                                     ***** BEGIN-POOL *****
12791 00001D00 00000000                   DATA FOR SOURCE-LINE 4276
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   125
PROGRAM NAME =

12792 00001D04 00000000                   DATA FOR SOURCE-LINE 4279
12793 00001D08 00000000                   DATA FOR SOURCE-LINE 4286
12794 00001D0C 00000000                   DATA FOR SOURCE-LINE 4289
12795 00001D10 00000000                   DATA FOR SOURCE-LINE 4296
12796 00001D14 00000000                   DATA FOR SOURCE-LINE 4299
12797                                     ***** END-POOL *****
12798 00001D18                   4311     _LOT_SIG_FLG_CLR:
12799                            4312             SUB_START
12800 00001D18 4F22                   M           STS.L   PR,@-R15                ;[必要]
12801                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12802 00001D1A D105              4313             MOV.L   #_LOT_CHK_FLG,R1        ;
12803 00001D1C 6011              4314             MOV.W   @R1,R0                  ;
12804 00001D1E C9EE              4315             AND     #LOW ~(BIT4+BIT0),R0    ;
12805 00001D20 2101              4316             MOV.W   R0,@R1
12806                            4317     
12807 00001D22 D104              4318             MOV.L   #_LOT_CNT_FLG,R1        ;//行程=1で0 最終工程で条件成立で=1()
12808 00001D24 200A              4319             XOR     R0,R0                   ;
12809 00001D26 2101              4320             MOV.W   R0,@R1                  ;
12810                            4321     
12811                            4322             SUB_END
12812                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12813 00001D28 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12814                            4323             M_RTS
12815 00001D2A 000B                   M           RTS                             ;RTSの後ろの
12816 00001D2C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12817                            4324     
12818                            4325     
12819                                     ***** BEGIN-POOL *****
12820 00001D2E 0000                       ALIGNMENT CODE
12821 00001D30 00000000                   DATA FOR SOURCE-LINE 4313
12822 00001D34 00000000                   DATA FOR SOURCE-LINE 4318
12823                                     ***** END-POOL *****
12824 00001D38                   4326     _UP_LOT_SIG_MAK:
12825                            4327             SUB_START
12826 00001D38 4F22                   M           STS.L   PR,@-R15                ;[必要]
12827                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12828 00001D3A D50A              4328             MOV.L   #_INT_POS_CTL_STEP,R5   ;
12829 00001D3C 6251              4329             MOV.W   @R5,R2                  ;
12830 00001D3E D40A              4330             MOV.L   #_UP_HOLD_STEP,R4       ;//上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
12831 00001D40 6541              4331             MOV.W   @R4,R5                  ;
12832 00001D42 3252              4332             CMP/HS  R5,R2                   ;ﾁｪｯｸすべき工程にきたか
12833 00001D44 8B2E              4333             BF      CTRL_UP_LOT_CK_END      ;
12834                            4334     
12835                            4335     ;       == ﾁｪｯｸすべく工程より大きい====
12836                            4336     ;       ======== ﾁｪｯｸすべき工程だ =======
12837                            4337     ;;[2009-10-07下振子]    MOV.L   #_INC_ENC360,R4         ;//360.0度(ｴﾝｺｰﾀﾞは表示と同じ)
12838                            4338     ;;[2009-10-07下振子]    MOV.W   @R4,R2                  ;
12839                            4339     
12840 00001D46 D409              4340             MOV.L   #_DNM_CTL_INC3600,R4    ;[2009-10-07下振子]
12841 00001D48 6241              4341             MOV.W   @R4,R2                  ;
12842                            4342     
12843 00001D4A D509              4343             MOV.L   #_UP_HOLD_DIG,R5        ;//0.1度(165.0):ﾓｰﾀ軸ｴﾝｺｰﾀﾞ角度で比較
12844 00001D4C 6151              4344             MOV.W   @R5,R1                  ;START
12845 00001D4E D509              4345             MOV.L   #_SETX_UPAREA_DIG,R5    ;
12846 00001D50 6351              4346             MOV.W   @R5,R3                  ;
12847                            4347             FAR_JSR #_DIG_AREA_CHK1,R0      ;"ANS:R5"
12848 00001D52 D009                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   126
PROGRAM NAME =

12849 00001D54 400B                   M           JSR     @R0                     ;
12850 00001D56 0009                   M           NOP                                     ;
12851                            4348     
12852                            4349     
12853 00001D58 D108              4350             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12854 00001D5A 6011              4351             MOV.W   @R1,R0                                  ;
12855 00001D5C C808              4352             TST     #_DMATH_UPDRIV,R0                       ;DRIVE MATH 上往復 BIT3
12856                            4353             TST_BIT_OF CTRL_UP_LOT_CK_200                   ;
12857 00001D5E 890F                   M           BT      CTRL_UP_LOT_CK_200
12858                            4354             M_BRA   CTRL_UP_LOT_CK_END                      ;(作成未)
12859 00001D60 A020                   M           BRA     CTRL_UP_LOT_CK_END
12860 00001D62 0009                   M           NOP
12861                            4355     
12862                                     ***** BEGIN-POOL *****
12863 00001D64 00000000                   DATA FOR SOURCE-LINE 4328
12864 00001D68 00000000                   DATA FOR SOURCE-LINE 4330
12865 00001D6C 00000000                   DATA FOR SOURCE-LINE 4340
12866 00001D70 00000000                   DATA FOR SOURCE-LINE 4343
12867 00001D74 00000000                   DATA FOR SOURCE-LINE 4345
12868 00001D78 00000000                   DATA FOR SOURCE-LINE 4347
12869 00001D7C 00000000                   DATA FOR SOURCE-LINE 4350
12870                                     ***** END-POOL *****
12871 00001D80                   4356     CTRL_UP_LOT_CK_200:
12872 00001D80 C804              4357             TST     #_DMATH_DNDRIV,R0                       ;DRIVE MATH 上往復 BIT3
12873                            4358             TST_BIT_OF CTRL_UP_LOT_CK_300                   ;
12874 00001D82 8901                   M           BT      CTRL_UP_LOT_CK_300
12875                            4359             M_BRA   CTRL_UP_LOT_CK_400                      ;[2009-10-07下振子]
12876 00001D84 A006                   M           BRA     CTRL_UP_LOT_CK_400
12877 00001D86 0009                   M           NOP
12878                            4360     ;;[2009-10-07下振子]    M_BRA   CTRL_UP_LOT_CK_END      ;(作成未)
12879                            4361     
12880 00001D88                   4362     CTRL_UP_LOT_CK_300:
12881 00001D88 C802              4363             TST     #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
12882                            4364             TST_BIT_OF CTRL_UP_LOT_CK_400                   ;
12883 00001D8A 8903                   M           BT      CTRL_UP_LOT_CK_400
12884                            4365     
12885                            4366     ;       ==== 反転R5=0,-1 ====
12886 00001D8C 4515              4367             CMP/PL  R5                                      ;
12887 00001D8E 8B05              4368             BF      CTRL_UP_LOT_CK_700                      ;成立
12888                            4369             M_BRA   CTRL_UP_LOT_CK_END                      ;
12889 00001D90 A008                   M           BRA     CTRL_UP_LOT_CK_END
12890 00001D92 0009                   M           NOP
12891                            4370     
12892                            4371     ;-----------回転-----------
12893 00001D94                   4372     CTRL_UP_LOT_CK_400:
12894                            4373     ;       ==== 正転R5=0,1 ====
12895 00001D94 4511              4374             CMP/PZ  R5
12896 00001D96 8901              4375             BT      CTRL_UP_LOT_CK_700                      ;成立
12897                            4376             M_BRA   CTRL_UP_LOT_CK_END                      ;
12898 00001D98 A004                   M           BRA     CTRL_UP_LOT_CK_END
12899 00001D9A 0009                   M           NOP
12900 00001D9C                   4377     CTRL_UP_LOT_CK_700:
12901 00001D9C E0FF              4378             MOV     #-1,R0                  ;
12902                            4379     
12903                            4380             SUB_END
12904                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12905 00001D9E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   127
PROGRAM NAME =

12906                            4381             M_RTS
12907 00001DA0 000B                   M           RTS                             ;RTSの後ろの
12908 00001DA2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12909                            4382     
12910 00001DA4                   4383     CTRL_UP_LOT_CK_END:
12911 00001DA4 200A              4384             XOR     R0,R0
12912                            4385             SUB_END
12913                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12914 00001DA6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12915                            4386             M_RTS
12916 00001DA8 000B                   M           RTS                             ;RTSの後ろの
12917 00001DAA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12918                            4387     
12919                            4388     
12920                            4389     
12921                            4390     ;       *******************************************
12922                            4391     ;       ***                                     ***
12923                            4392     ;       ***     クラッチ・ブレーキ起動処理      ***
12924                            4393     ;       ***                                     ***
12925                            4394     ;       *******************************************
12926 00001DAC                   4395     _CB_CTL_START_INI:
12927                            4396             SUB_START
12928 00001DAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
12929                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12930                            4397     
12931                            4398     
12932                            4399              .AIF   1 EQ 1  ;
12933                            4400 C   ;       -------- 2016-10-31 ADD 二重回路対策
12934                            4401              .AENDI
12935                            4402             FAR_JSR #_START_CNT_INFO_OUT,R0         ;2016-10-31(2016-07-22) 二重回路対策
12936 00001DAE D00D                   M           MOV.L   #_START_CNT_INFO_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12937 00001DB0 400B                   M           JSR     @R0                     ;
12938 00001DB2 0009                   M           NOP                                     ;
12939                            4403     
12940                            4404     ;2016-10-31     XOR     R2,R2
12941                            4405     ;2016-10-31     XOR     R3,R3
12942                            4406     ;2016-10-31     MOV.L   #_MODE_SEL,R1                           ;
12943                            4407     ;2016-10-31     MOV.W   @R1,R0                                  ;
12944                            4408     ;2016-10-31     TST     #_W1CNT,R0                              ;
12945                            4409     ;2016-10-31     TST_BIT_OF CONT_MD_CHK100
12946                            4410     ;2016-10-31
12947                            4411     ;2016-10-31;    **********************************
12948                            4412     ;2016-10-31;    ***     2004-01-26              **
12949                            4413     ;2016-10-31;    **********************************
12950                            4414     ;2016-10-31     MOV.W   #(BIT12+BIT11),R1       ;
12951                            4415     ;2016-10-31     TST     R1,R0                   ;OPTIONの連続寸動
12952                            4416     ;2016-10-31     TST_BIT_ON CONT_MD_CHK100       ;本当のｵﾌﾟｼｮﾝではない(ｶｳﾝﾀ・ﾀｲﾏ=0)
12953                            4417     ;2016-10-31
12954                            4418     ;2016-10-31     MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
12955                            4419     ;2016-10-31     MOV.W   @R1,R0                          ;.8=TIM .9=CNT
12956                            4420     ;2016-10-31     MOV.W   #BIT8,R4                        ;
12957                            4421     ;2016-10-31     TST     R4,R0                           ;
12958                            4422     ;2016-10-31     TST_BIT_OF CONT_MD_CHK050       ;
12959                            4423     ;2016-10-31     MOV.L   #_SET1_CNT_TIM,R1       ;連続タイマ
12960                            4424     ;2016-10-31     MOV.L   @R1,R2                  ;
12961                            4425     ;2016-10-31     M_BRA   CONT_MD_CHK100          ;
12962                            4426     ;2016-10-31CONT_MD_CHK050:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   128
PROGRAM NAME =

12963                            4427     ;2016-10-31
12964                            4428     ;2016-10-31     MOV.W   #BIT9,R4                        ;
12965                            4429     ;2016-10-31     TST     R4,R0                           ;
12966                            4430     ;2016-10-31     TST_BIT_OF CONT_MD_CHK100       ;
12967                            4431     ;2016-10-31     MOV.L   #_SET1_CNT_CNT,R1       ;連続カウンタ
12968                            4432     ;2016-10-31     MOV.W   @R1,R3                  ;
12969                            4433     ;2016-10-31CONT_MD_CHK100:
12970                            4434     ;2016-10-31
12971                            4435     ;2016-10-31     MOV.L   #_CONT_MOD_TIM_PV,R1    ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
12972                            4436     ;2016-10-31     MOV.L   R2,@R1                  ;
12973                            4437     ;2016-10-31     MOV.L   #_CONT_MOD_CNT_PV,R1    ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
12974                            4438     ;2016-10-31     MOV.W   R3,@R1                  ;
12975                            4439     
12976                            4440     ;       ======ｻｲｸﾙ停止状態OFF==========================
12977 00001DB4 D50C              4441             MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R5             ;
12978 00001DB6 6051              4442             MOV.W   @R5,R0                                  ;
12979 00001DB8 9412              4443             MOV.W   #LWORD ~(BIT7),R4                       ;
12980 00001DBA 2049              4444             AND     R4,R0                                   ;以下 BIT0,BIT1,BIT8,BIT9を作成す
                                          る
12981 00001DBC 2501              4445             MOV.W   R0,@R5                                  ;
12982                            4446     ;       ===============================================
12983                            4447     
12984                            4448     ;       ======= ｻｰﾎﾞ 2003-05-24 ====
12985 00001DBE D10B              4449             MOV.L   #_WPAR_INCSTP_EDYTM1,R1         ;停止遅延時間1=>ﾊﾟﾗﾒｰﾀﾜｰｸへ
12986 00001DC0 6011              4450             MOV.W   @R1,R0                          ;
12987 00001DC2 D10B              4451             MOV.L   #_WPAR_INCSTP_EDYTM,R1          ;
12988 00001DC4 2101              4452             MOV.W   R0,@R1                          ;
12989                            4453     
12990                            4454             FAR_JSR #_DRV_START_INI_NEW1,R0         ;2003-07-09
12991 00001DC6 D00B                   M           MOV.L   #_DRV_START_INI_NEW1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12992 00001DC8 400B                   M           JSR     @R0                     ;
12993 00001DCA 0009                   M           NOP                                     ;
12994                            4455     
12995                            4456     
12996                            4457             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~(H'FF),WKREG=R1 ;//位置決
                                          めｽﾃｰﾀｽ
12997 00001DCC D10A                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
12998 00001DCE 6011                   M           MOV.W   @R1,R0          ;
12999 00001DD0 C900                   M           AND     #LOW ~(H'FF),R0         ;
13000 00001DD2 2101                   M           MOV.W   R0,@R1          ;
13001                            4458     
13002                            4459     ;       ----- 2007-03-02 ----
13003 00001DD4 200A              4460             XOR     R0,R0
13004 00001DD6 D109              4461             MOV.L   #_CMP_RECOVER_FLG,R1            ;(ﾃﾞﾊﾞｯｸ用)
13005 00001DD8 2101              4462             MOV.W   R0,@R1                          ;
13006                            4463     
13007                            4464             SUB_END
13008                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13009 00001DDA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13010                            4465             M_RTS
13011 00001DDC 000B                   M           RTS                             ;RTSの後ろの
13012 00001DDE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13013                            4466     
13014                            4467     
13015                            4468     
13016                            4469     
13017                            4470     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   129
PROGRAM NAME =

13018                            4471     ;       ***                                     ***
13019                            4472     ;       ***     2016-10-31(2016-07-22)          ***
13020                            4473     ;       ***     二重回路対策                    ***
13021                            4474     ;       *******************************************
13022                            4475              .AIF   1 EQ 1  ;
13023                            4476 C   ;       -------- 2016-10-31 ADD 二重回路対策
13024                            4477              .AENDI
13025                            4478     ;
13026                                     ***** BEGIN-POOL *****
13027 00001DE0 FF7F                       DATA FOR SOURCE-LINE 4443
13028 00001DE2 0000                       ALIGNMENT CODE
13029 00001DE4 00000000                   DATA FOR SOURCE-LINE 4402
13030 00001DE8 00000000                   DATA FOR SOURCE-LINE 4441
13031 00001DEC 00000000                   DATA FOR SOURCE-LINE 4449
13032 00001DF0 00000000                   DATA FOR SOURCE-LINE 4451
13033 00001DF4 00000000                   DATA FOR SOURCE-LINE 4454
13034 00001DF8 00000000                   DATA FOR SOURCE-LINE 4457
13035 00001DFC 00000000                   DATA FOR SOURCE-LINE 4461
13036                                     ***** END-POOL *****
13037 00001E00                   4479     _START_CNT_INFO_OUT
13038                            4480             SUB_START
13039 00001E00 4F22                   M           STS.L   PR,@-R15                ;[必要]
13040                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13041 00001E02 222A              4481             XOR     R2,R2
13042 00001E04 233A              4482             XOR     R3,R3
13043 00001E06 D109              4483             MOV.L   #_MODE_SEL,R1                           ;
13044 00001E08 6011              4484             MOV.W   @R1,R0                                  ;
13045 00001E0A C808              4485             TST     #_W1CNT,R0                              ;
13046                            4486             TST_BIT_OF CONT_MD_CHK100
13047 00001E0C 8919                   M           BT      CONT_MD_CHK100
13048                            4487     
13049                            4488     ;       **********************************
13050                            4489     ;       ***     2004-01-26              **
13051                            4490     ;       **********************************
13052 00001E0E 910A              4491             MOV.W   #(BIT12+BIT11),R1       ;
13053 00001E10 2018              4492             TST     R1,R0                   ;OPTIONの連続寸動
13054                            4493             TST_BIT_ON CONT_MD_CHK100       ;本当のｵﾌﾟｼｮﾝではない(ｶｳﾝﾀ・ﾀｲﾏ=0)
13055 00001E12 8B16                   M           BF      CONT_MD_CHK100
13056                            4494     
13057 00001E14 D106              4495             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
13058 00001E16 6011              4496             MOV.W   @R1,R0                          ;.8=TIM .9=CNT
13059 00001E18 9406              4497             MOV.W   #BIT8,R4                        ;
13060 00001E1A 2048              4498             TST     R4,R0                           ;
13061                            4499             TST_BIT_OF CONT_MD_CHK050       ;
13062 00001E1C 890C                   M           BT      CONT_MD_CHK050
13063 00001E1E D105              4500             MOV.L   #_SET1_CNT_TIM,R1       ;連続タイマ
13064 00001E20 6212              4501             MOV.L   @R1,R2                  ;
13065                            4502             M_BRA   CONT_MD_CHK100          ;
13066 00001E22 A00E                   M           BRA     CONT_MD_CHK100
13067 00001E24 0009                   M           NOP
13068                                     ***** BEGIN-POOL *****
13069 00001E26 1800                       DATA FOR SOURCE-LINE 4491
13070 00001E28 0100                       DATA FOR SOURCE-LINE 4497
13071 00001E2A 0000                       ALIGNMENT CODE
13072 00001E2C 00000000                   DATA FOR SOURCE-LINE 4483
13073 00001E30 00000000                   DATA FOR SOURCE-LINE 4495
13074 00001E34 00000000                   DATA FOR SOURCE-LINE 4500
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   130
PROGRAM NAME =

13075                                     ***** END-POOL *****
13076 00001E38                   4503     CONT_MD_CHK050:
13077                            4504     
13078 00001E38 940D              4505             MOV.W   #BIT9,R4                        ;
13079 00001E3A 2048              4506             TST     R4,R0                           ;
13080                            4507             TST_BIT_OF CONT_MD_CHK100       ;
13081 00001E3C 8901                   M           BT      CONT_MD_CHK100
13082 00001E3E D106              4508             MOV.L   #_SET1_CNT_CNT,R1       ;連続カウンタ
13083 00001E40 6311              4509             MOV.W   @R1,R3                  ;
13084 00001E42                   4510     CONT_MD_CHK100:
13085                            4511     
13086 00001E42 D106              4512             MOV.L   #_CONT_MOD_TIM_PV,R1    ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
13087 00001E44 2122              4513             MOV.L   R2,@R1                  ;
13088 00001E46 D106              4514             MOV.L   #_CONT_MOD_CNT_PV,R1    ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
13089 00001E48 2131              4515             MOV.W   R3,@R1                  ;
13090                            4516     
13091                            4517             FAR_JSR #_CNT_MODE_CNT_SIG_OUT,R0       ;2016-07-21
13092 00001E4A D006                   M           MOV.L   #_CNT_MODE_CNT_SIG_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13093 00001E4C 400B                   M           JSR     @R0                     ;
13094 00001E4E 0009                   M           NOP                                     ;
13095                            4518     
13096                            4519             SUB_END
13097                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13098 00001E50 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13099                            4520             M_RTS
13100 00001E52 000B                   M           RTS                             ;RTSの後ろの
13101 00001E54 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13102                            4521     
13103                            4522     ;       =====================================
13104                            4523     ;       ==== 2003-07-09に追加した起動ｸﾘｱ ====
13105                            4524     ;       =====================================
13106                                     ***** BEGIN-POOL *****
13107 00001E56 0200                       DATA FOR SOURCE-LINE 4505
13108 00001E58 00000000                   DATA FOR SOURCE-LINE 4508
13109 00001E5C 00000000                   DATA FOR SOURCE-LINE 4512
13110 00001E60 00000000                   DATA FOR SOURCE-LINE 4514
13111 00001E64 00000000                   DATA FOR SOURCE-LINE 4517
13112                                     ***** END-POOL *****
13113          00000002          4525     _EQ_CNT_DISP_STCNT      .EQU    2       ;
13114                            4526     
13115 00001E68                   4527     _DRV_START_INI_NEW1:
13116                            4528             SUB_START
13117 00001E68 4F22                   M           STS.L   PR,@-R15                ;[必要]
13118                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13119                            4529     ;       == 2003-07-09 ==
13120 00001E6A 200A              4530             XOR     R0,R0
13121 00001E6C D109              4531             MOV.L   #_ORG_RDY_CTL_FLG,R1            ;不本意ながらﾌﾗｸﾞ
13122 00001E6E 2101              4532             MOV.W   R0,@R1                          ;
13123                            4533     
13124 00001E70 D109              4534             MOV.L   #_PAR_ORGDRV_CNT,R1             ;
13125 00001E72 6011              4535             MOV.W   @R1,R0                          ;
13126 00001E74 D109              4536             MOV.L   #_ORG_DRV_CNT_PV,R1             ;//0:1回 0なら最後のｽﾃｯﾌﾟにいく
13127 00001E76 2101              4537             MOV.W   R0,@R1                          ;
13128                            4538     
13129                            4539     ;       ======== 連続======
13130 00001E78 D109              4540             MOV.L   #_MODE_SEL,R1                   ;
13131 00001E7A 6011              4541             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   131
PROGRAM NAME =

13132 00001E7C C808              4542             TST     #_W1CNT,R0                      ;
13133                            4543             TST_BIT_OF DRV_START_ININW1_050         ;
13134 00001E7E 8915                   M           BT      DRV_START_ININW1_050
13135                            4544     
13136 00001E80 9006              4545             MOV.W   #_EQ_CNT_DISP_STCNT,R0          ;
13137 00001E82 D108              4546             MOV.L   #_CYCL_DSP_CNT_PV,R1            ;//非表示ｶｳﾝﾀ 2->1->0(表示)
13138 00001E84 2101              4547             MOV.W   R0,@R1                          ;
13139                            4548     
13140 00001E86 9004              4549             MOV.W   #BIT0,R0                        ;
13141 00001E88 D107              4550             MOV.L   #_CYCL_DSP_DISENB,R1;//0:表示 1:非表示 => 反転して出力
13142 00001E8A 2101              4551             MOV.W   R0,@R1
13143                            4552             M_BRA   DRV_START_ININW1_100
13144 00001E8C A011                   M           BRA     DRV_START_ININW1_100
13145 00001E8E 0009                   M           NOP
13146                                     ***** BEGIN-POOL *****
13147 00001E90 0002                       DATA FOR SOURCE-LINE 4545
13148 00001E92 0001                       DATA FOR SOURCE-LINE 4549
13149 00001E94 00000000                   DATA FOR SOURCE-LINE 4531
13150 00001E98 00000000                   DATA FOR SOURCE-LINE 4534
13151 00001E9C 00000000                   DATA FOR SOURCE-LINE 4536
13152 00001EA0 00000000                   DATA FOR SOURCE-LINE 4540
13153 00001EA4 00000000                   DATA FOR SOURCE-LINE 4546
13154 00001EA8 00000000                   DATA FOR SOURCE-LINE 4550
13155                                     ***** END-POOL *****
13156 00001EAC                   4553     DRV_START_ININW1_050:
13157 00001EAC 200A              4554             XOR     R0,R0                           ;
13158 00001EAE D102              4555             MOV.L   #_CYCL_DSP_DISENB,R1            ;//0:表示 1:非表示 => 反転して出力
13159 00001EB0 2101              4556             MOV.W   R0,@R1
13160 00001EB2                   4557     DRV_START_ININW1_100:
13161                            4558             SUB_END
13162                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13163 00001EB2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13164                            4559             M_RTS
13165 00001EB4 000B                   M           RTS                             ;RTSの後ろの
13166 00001EB6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13167                            4560     
13168                            4561     ;       ===================================
13169                            4562     ;       ==== 2003-07-09連続SPM表示開始  ===
13170                            4563     ;       ===================================
13171                                     ***** BEGIN-POOL *****
13172 00001EB8 00000000                   DATA FOR SOURCE-LINE 4555
13173                                     ***** END-POOL *****
13174 00001EBC                   4564     _CNT_CYCL_DISP_ST:
13175                            4565             SUB_START
13176 00001EBC 4F22                   M           STS.L   PR,@-R15                ;[必要]
13177                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13178 00001EBE 200A              4566             XOR     R0,R0                           ;
13179 00001EC0 D102              4567             MOV.L   #_CYCL_DSP_DISENB,R1            ;//0:表示 1:非表示 => 反転して出力
13180 00001EC2 2101              4568             MOV.W   R0,@R1
13181                            4569             SUB_END
13182                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13183 00001EC4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13184                            4570             M_RTS
13185 00001EC6 000B                   M           RTS                             ;RTSの後ろの
13186 00001EC8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13187                            4571     ;       =====================================
13188                            4572     ;       ==== 2003-07-09連続SPM非表示条件  ===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   132
PROGRAM NAME =

13189                            4573     ;       =====================================
13190                                     ***** BEGIN-POOL *****
13191 00001ECA 0000                       ALIGNMENT CODE
13192 00001ECC 00000000                   DATA FOR SOURCE-LINE 4567
13193                                     ***** END-POOL *****
13194 00001ED0                   4574     _CNT_SPM_DISP_CHK:
13195                            4575             SUB_START
13196 00001ED0 4F22                   M           STS.L   PR,@-R15                ;[必要]
13197                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13198 00001ED2 D107              4576             MOV.L   #_MODE_SEL,R1                   ;
13199 00001ED4 6011              4577             MOV.W   @R1,R0                          ;
13200 00001ED6 C808              4578             TST     #_W1CNT,R0                      ;
13201                            4579             TST_BIT_OF CNT_SPM_DSPCK050             ;
13202 00001ED8 8906                   M           BT      CNT_SPM_DSPCK050
13203 00001EDA D106              4580             MOV.L   #_CYCL_DSP_CNT_PV,R1            ;//非表示ｶｳﾝﾀ 2->1->0(表示)
13204 00001EDC 6011              4581             MOV.W   @R1,R0                          ;
13205 00001EDE 2008              4582             TST     R0,R0                           ;
13206                            4583             TST_BIT_OF CNT_SPM_DSPCK050             ;表示する
13207 00001EE0 8902                   M           BT      CNT_SPM_DSPCK050
13208                            4584     
13209 00001EE2 9004              4585             MOV.W   #BIT0,R0                        ;
13210 00001EE4 D104              4586             MOV.L   #_CYCL_DSP_DISENB,R1            ;1:非表示 => 反転して出力
13211 00001EE6 2101              4587             MOV.W   R0,@R1                          ;
13212                            4588     
13213 00001EE8                   4589     CNT_SPM_DSPCK050:
13214                            4590     
13215                            4591             SUB_END
13216                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13217 00001EE8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13218                            4592             M_RTS
13219 00001EEA 000B                   M           RTS                             ;RTSの後ろの
13220 00001EEC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13221                            4593     
13222                            4594     
13223                            4595     
13224                            4596     ;       ***********************************
13225                            4597     ;       ***                             ***
13226                            4598     ;       ***     終了処理の二重回路対策  ***
13227                            4599     ;       ***                             ***
13228                            4600     ;       ***********************************
13229                            4601     ;自分のやるべき事が終わったらこのチェックを行う
13230                            4602     ;       Output  R0=FF:終了
13231                            4603     ;               R0=0 :WAIT
13232                            4604     ;       "この処理が終わり上位でフラグをクリアする事"
13233                            4605     ;
13234                            4606     ;
13235                            4607             .EXPORT _CMPAB_NEAR_END_PROC    ;
13236                            4608             .EXPORT _CMPAB_STEP_END_PROC    ;
13237                            4609     
13238                            4610             .EXPORT _CMPSTP_CTRL_REDY_CLR;//準備完了にしたい
13239                            4611             .EXPORT _CMPSTP_CTRL_BUSY_CLR;//準備未完了にしたい
13240                            4612             .EXPORT _CMPSTP_POS_START_CLR;//起動したい
13241                            4613             .EXPORT _CMPSTP_SFTY_AUTO_CLR;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13242                            4614             .EXPORT _CMPSTP_NEAR_ZERO_CLR;//ﾆｱｾﾞﾛ処理を行いたい
13243                            4615             .EXPORT _CMPSTP_CNT_STOP_CLR;//連続停止
13244                            4616             .EXPORT _CMPSTP_STEP_END_CLR;//位置決め完了としたい
13245                            4617             .EXPORT _CMPCYC_START_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   133
PROGRAM NAME =

13246                            4618             .EXPORT _CMPCYC_END_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
13247                            4619     
13248                            4620             .EXPORT _CMPEMG_EXQ_FLG_CLR;//
13249                            4621             .EXPORT _POS_CMP_1STEP_START_INI
13250                            4622     
13251                                     ***** BEGIN-POOL *****
13252 00001EEE 0001                       DATA FOR SOURCE-LINE 4585
13253 00001EF0 00000000                   DATA FOR SOURCE-LINE 4576
13254 00001EF4 00000000                   DATA FOR SOURCE-LINE 4580
13255 00001EF8 00000000                   DATA FOR SOURCE-LINE 4586
13256                                     ***** END-POOL *****
13257 00001EFC                   4623     _CMPAB_NEAR_END_PROC
13258                            4624             SUB_START
13259 00001EFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
13260                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13261                            4625             PUSH_REG1 R5
13262 00001EFE 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
13263                                 M                                           ;REG=>[SP]
13264                                 M                                           ;"-4" FF,FF,FF,FC
13265 00001F00 D505              4626             MOV.L   #_CMPSTEP_NEAR_ZERO,R5          ;//ﾆｱｾﾞﾛ処理を行いたい
13266 00001F02 6051              4627             MOV.W   @R5,R0                          ;
13267 00001F04 2008              4628             TST     R0,R0                           ;
13268                            4629             TST_BIT_ON CMPAB_NEAR_END_PC_100        ;
13269 00001F06 8B0B                   M           BF      CMPAB_NEAR_END_PC_100
13270 00001F08 E001              4630             MOV     #BIT0,R0                        ;
13271 00001F0A 2501              4631             MOV.W   R0,@R5                          ;START FLG ON bit0
13272                            4632             FAR_JSR #_CPU_AB_NZR_ON_OUT,R0          ;R0,R1 USED
13273 00001F0C D003                   M           MOV.L   #_CPU_AB_NZR_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13274 00001F0E 400B                   M           JSR     @R0                     ;
13275 00001F10 0009                   M           NOP                                     ;
13276                            4633             M_BRA   CMPAB_NEAR_END_PC_NG            ;
13277 00001F12 A029                   M           BRA     CMPAB_NEAR_END_PC_NG
13278 00001F14 0009                   M           NOP
13279                            4634     
13280                            4635     ;       ===== 処理開始 =========
13281                                     ***** BEGIN-POOL *****
13282 00001F16 0000                       ALIGNMENT CODE
13283 00001F18 00000000                   DATA FOR SOURCE-LINE 4626
13284 00001F1C 00000000                   DATA FOR SOURCE-LINE 4632
13285                                     ***** END-POOL *****
13286 00001F20                   4636     CMPAB_NEAR_END_PC_100:
13287 00001F20 6051              4637             MOV.W   @R5,R0                          ;
13288 00001F22 C802              4638             TST     #BIT1,R0                        ;
13289                            4639             TST_BIT_ON CMPAB_NEAR_END_PC_200        ;
13290 00001F24 8B10                   M           BF      CMPAB_NEAR_END_PC_200
13291                            4640             FAR_JSR #_CPU_BA_NZR_ON_JG,R0           ;R0 !=0 END
13292 00001F26 D006                   M           MOV.L   #_CPU_BA_NZR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13293 00001F28 400B                   M           JSR     @R0                     ;
13294 00001F2A 0009                   M           NOP                                     ;
13295 00001F2C 2008              4641             TST     R0,R0                           ;
13296                            4642             TST_BIT_OF CMPAB_NEAR_END_PC_NG         ;CPU-Bまだ処理中
13297 00001F2E 891B                   M           BT      CMPAB_NEAR_END_PC_NG
13298 00001F30 6051              4643             MOV.W   @R5,R0                          ;
13299 00001F32 CB02              4644             OR      #BIT1,R0                        ;
13300 00001F34 2501              4645             MOV.W   R0,@R5                          ;CPU-Bが信号をONした
13301                            4646             FAR_JSR #_CPU_BA_NZR_OF_OUT,R0          ;CPU-B信号ｸﾘｱ
13302 00001F36 D003                   M           MOV.L   #_CPU_BA_NZR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   134
PROGRAM NAME =

13303 00001F38 400B                   M           JSR     @R0                     ;
13304 00001F3A 0009                   M           NOP                                     ;
13305                            4647             M_BRA   CMPAB_NEAR_END_PC_NG            ;
13306 00001F3C A014                   M           BRA     CMPAB_NEAR_END_PC_NG
13307 00001F3E 0009                   M           NOP
13308                            4648     
13309                                     ***** BEGIN-POOL *****
13310 00001F40 00000000                   DATA FOR SOURCE-LINE 4640
13311 00001F44 00000000                   DATA FOR SOURCE-LINE 4646
13312                                     ***** END-POOL *****
13313 00001F48                   4649     CMPAB_NEAR_END_PC_200:
13314 00001F48 6051              4650             MOV.W   @R5,R0                          ;
13315 00001F4A C804              4651             TST     #BIT2,R0                        ;(完了状態)
13316                            4652             TST_BIT_ON CMPAB_NEAR_END_PC_OK         ;
13317 00001F4C 8B07                   M           BF      CMPAB_NEAR_END_PC_OK
13318                            4653     
13319                            4654             FAR_JSR #_CPU_AB_NZR_OF_JG,R0           ;R0=0;完了
13320 00001F4E D005                   M           MOV.L   #_CPU_AB_NZR_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13321 00001F50 400B                   M           JSR     @R0                     ;
13322 00001F52 0009                   M           NOP                                     ;
13323 00001F54 2008              4655             TST     R0,R0                           ;
13324                            4656             TST_BIT_ON CMPAB_NEAR_END_PC_NG         ;自分の信号がｸﾘｱされていない
13325 00001F56 8B07                   M           BF      CMPAB_NEAR_END_PC_NG
13326 00001F58 6051              4657             MOV.W   @R5,R0                          ;
13327 00001F5A CB04              4658             OR      #BIT2,R0                        ;
13328 00001F5C 2501              4659             MOV.W   R0,@R5                          ;
13329 00001F5E                   4660     CMPAB_NEAR_END_PC_OK:
13330 00001F5E E0FF              4661             MOV     #-1,R0                          ;
13331                            4662             M_BRA   CMPAB_NEAR_END_PC_ED            ;
13332 00001F60 A003                   M           BRA     CMPAB_NEAR_END_PC_ED
13333 00001F62 0009                   M           NOP
13334                            4663     
13335                                     ***** BEGIN-POOL *****
13336 00001F64 00000000                   DATA FOR SOURCE-LINE 4654
13337                                     ***** END-POOL *****
13338 00001F68                   4664     CMPAB_NEAR_END_PC_NG:
13339 00001F68 200A              4665             XOR     R0,R0                   ;
13340 00001F6A                   4666     CMPAB_NEAR_END_PC_ED:
13341                            4667             POP_REG1 R5                     ;
13342                                 M                                   ; RE"+4" 00,00,00,04
13343 00001F6A 65F6                   M           MOV.L   @R15+,R5        ;
13344                            4668             SUB_END
13345                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13346 00001F6C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13347                            4669             M_RTS
13348 00001F6E 000B                   M           RTS                             ;RTSの後ろの
13349 00001F70 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13350                            4670     
13351                            4671     
13352                            4672             .MACRO  CMPAB_STEP_END_MAC FLG,ABON_OUT,BAON_JG,BAOF_OUT,ABOF_JG
13353                            4673             PUSH_REG1 R5
13354                            4674             MOV.L   #\FLG,R5                        ;//ﾆｱｾﾞﾛ処理を行いたい
13355                            4675             MOV.W   @R5,R0                          ;
13356                            4676             TST     R0,R0                           ;
13357                            4677             TST_BIT_ON JMP100\@                     ;
13358                            4678             MOV     #BIT0,R0                        ;
13359                            4679             MOV.W   R0,@R5                          ;START FLG ON bit0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   135
PROGRAM NAME =

13360                            4680             FAR_JSR #\ABON_OUT,R0                   ;R0,R1 USED
13361                            4681             M_BRA   JMP_NG\@                        ;
13362                            4682     
13363                            4683     ;       ===== 処理開始 =========
13364                            4684     JMP100\@:
13365                            4685             MOV.W   @R5,R0                          ;
13366                            4686             TST     #BIT1,R0                        ;
13367                            4687             TST_BIT_ON JMP200\@                     ;
13368                            4688     
13369                            4689             FAR_JSR #\BAON_JG,R0                    ;R0 !=0 END
13370                            4690             TST     R0,R0                           ;
13371                            4691             TST_BIT_OF JMP_NG\@                     ;CPU-Bまだ処理中
13372                            4692             MOV.W   @R5,R0                          ;
13373                            4693             OR      #BIT1,R0                        ;
13374                            4694             MOV.W   R0,@R5                          ;CPU-Bが信号をONした
13375                            4695             FAR_JSR #\BAOF_OUT,R0                   ;CPU-B信号ｸﾘｱ
13376                            4696             M_BRA   JMP_NG\@
13377                            4697     
13378                            4698     JMP200\@:
13379                            4699             MOV.W   @R5,R0                          ;
13380                            4700             TST     #BIT2,R0                        ;(完了状態)
13381                            4701             TST_BIT_ON JMP_OK\@                     ;
13382                            4702     
13383                            4703             FAR_JSR #\ABOF_JG,R0            ;R0=0;完了
13384                            4704             TST     R0,R0                           ;
13385                            4705             TST_BIT_ON JMP_NG\@             ;自分の信号がｸﾘｱされていない
13386                            4706             MOV.W   @R5,R0                          ;
13387                            4707             OR      #BIT2,R0                        ;
13388                            4708             MOV.W   R0,@R5                          ;
13389                            4709     JMP_OK\@:
13390                            4710             MOV     #-1,R0                          ;
13391                            4711             M_BRA   JMP_ED\@
13392                            4712     
13393                            4713     JMP_NG\@:
13394                            4714             XOR     R0,R0                   ;
13395                            4715     JMP_ED\@:
13396                            4716             POP_REG1 R5                     ;
13397                            4717             .ENDM
13398                            4718     
13399                            4719     
13400 00001F72                   4720     _CMPAB_STEP_END_PROC
13401                            4721             SUB_START
13402 00001F72 4F22                   M           STS.L   PR,@-R15                ;[必要]
13403                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13404                            4722             CMPAB_STEP_END_MAC FLG=         _CMPSTEP_STEP_END
13405                            4723     +                       ,ABON_OUT=      _CPU_AB_CED_ON_OUT
13406                            4724     +                       ,BAON_JG=       _CPU_BA_CED_ON_JG
13407                            4725     +                       ,BAOF_OUT=      _CPU_BA_CED_OF_OUT
13408                            4726     +                       ,ABOF_JG=       _CPU_AB_CED_OF_JG
13409                                 M           PUSH_REG1 R5
13410 00001F74 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
13411                                 M                                           ;REG=>[SP]
13412                                 M                                           ;"-4" FF,FF,FF,FC
13413 00001F76 D505                   M           MOV.L   #_CMPSTEP_STEP_END,R5                   ;//ﾆｱｾﾞﾛ処理を行いたい
13414 00001F78 6051                   M           MOV.W   @R5,R0                          ;
13415 00001F7A 2008                   M           TST     R0,R0                           ;
13416                                 M           TST_BIT_ON JMP10000000                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   136
PROGRAM NAME =

13417 00001F7C 8B0A                   M           BF      JMP10000000
13418 00001F7E E001                   M           MOV     #BIT0,R0                        ;
13419 00001F80 2501                   M           MOV.W   R0,@R5                          ;START FLG ON bit0
13420                                 M           FAR_JSR #_CPU_AB_CED_ON_OUT,R0                  ;R0,R1 USED
13421 00001F82 D003                   M           MOV.L   #_CPU_AB_CED_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13422 00001F84 400B                   M           JSR     @R0                     ;
13423 00001F86 0009                   M           NOP                                     ;
13424                                 M           M_BRA   JMP_NG00000                     ;
13425 00001F88 A028                   M           BRA     JMP_NG00000
13426 00001F8A 0009                   M           NOP
13427                                 M   
13428                                 M   ;       ===== 処理開始 =========
13429                                 M   ***** BEGIN-POOL *****
13430 00001F8C 00000000               M   DATA FOR SOURCE-LINE 4722
13431 00001F90 00000000               M   DATA FOR SOURCE-LINE 4722
13432                                 M   ***** END-POOL *****
13433 00001F94                        M   JMP10000000:
13434 00001F94 6051                   M           MOV.W   @R5,R0                          ;
13435 00001F96 C802                   M           TST     #BIT1,R0                        ;
13436                                 M           TST_BIT_ON JMP20000000                  ;
13437 00001F98 8B10                   M           BF      JMP20000000
13438                                 M   
13439                                 M           FAR_JSR #_CPU_BA_CED_ON_JG,R0                   ;R0 !=0 END
13440 00001F9A D006                   M           MOV.L   #_CPU_BA_CED_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13441 00001F9C 400B                   M           JSR     @R0                     ;
13442 00001F9E 0009                   M           NOP                                     ;
13443 00001FA0 2008                   M           TST     R0,R0                           ;
13444                                 M           TST_BIT_OF JMP_NG00000                  ;CPU-Bまだ処理中
13445 00001FA2 891B                   M           BT      JMP_NG00000
13446 00001FA4 6051                   M           MOV.W   @R5,R0                          ;
13447 00001FA6 CB02                   M           OR      #BIT1,R0                        ;
13448 00001FA8 2501                   M           MOV.W   R0,@R5                          ;CPU-Bが信号をONした
13449                                 M           FAR_JSR #_CPU_BA_CED_OF_OUT,R0                  ;CPU-B信号ｸﾘｱ
13450 00001FAA D003                   M           MOV.L   #_CPU_BA_CED_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13451 00001FAC 400B                   M           JSR     @R0                     ;
13452 00001FAE 0009                   M           NOP                                     ;
13453                                 M           M_BRA   JMP_NG00000
13454 00001FB0 A014                   M           BRA     JMP_NG00000
13455 00001FB2 0009                   M           NOP
13456                                 M   
13457                                 M   ***** BEGIN-POOL *****
13458 00001FB4 00000000               M   DATA FOR SOURCE-LINE 4722
13459 00001FB8 00000000               M   DATA FOR SOURCE-LINE 4722
13460                                 M   ***** END-POOL *****
13461 00001FBC                        M   JMP20000000:
13462 00001FBC 6051                   M           MOV.W   @R5,R0                          ;
13463 00001FBE C804                   M           TST     #BIT2,R0                        ;(完了状態)
13464                                 M           TST_BIT_ON JMP_OK00000                  ;
13465 00001FC0 8B07                   M           BF      JMP_OK00000
13466                                 M   
13467                                 M           FAR_JSR #_CPU_AB_CED_OF_JG,R0           ;R0=0;完了
13468 00001FC2 D005                   M           MOV.L   #_CPU_AB_CED_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13469 00001FC4 400B                   M           JSR     @R0                     ;
13470 00001FC6 0009                   M           NOP                                     ;
13471 00001FC8 2008                   M           TST     R0,R0                           ;
13472                                 M           TST_BIT_ON JMP_NG00000          ;自分の信号がｸﾘｱされていない
13473 00001FCA 8B07                   M           BF      JMP_NG00000
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   137
PROGRAM NAME =

13474 00001FCC 6051                   M           MOV.W   @R5,R0                          ;
13475 00001FCE CB04                   M           OR      #BIT2,R0                        ;
13476 00001FD0 2501                   M           MOV.W   R0,@R5                          ;
13477 00001FD2                        M   JMP_OK00000:
13478 00001FD2 E0FF                   M           MOV     #-1,R0                          ;
13479                                 M           M_BRA   JMP_ED00000
13480 00001FD4 A003                   M           BRA     JMP_ED00000
13481 00001FD6 0009                   M           NOP
13482                                 M   
13483                                 M   ***** BEGIN-POOL *****
13484 00001FD8 00000000               M   DATA FOR SOURCE-LINE 4722
13485                                 M   ***** END-POOL *****
13486 00001FDC                        M   JMP_NG00000:
13487 00001FDC 200A                   M           XOR     R0,R0                   ;
13488 00001FDE                        M   JMP_ED00000:
13489                                 M           POP_REG1 R5                     ;
13490                                 M                                   ; RE"+4" 00,00,00,04
13491 00001FDE 65F6                   M           MOV.L   @R15+,R5        ;
13492                            4727             SUB_END
13493                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13494 00001FE0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13495                            4728             M_RTS
13496 00001FE2 000B                   M           RTS                             ;RTSの後ろの
13497 00001FE4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13498                            4729     
13499                            4730     
13500                            4731     ;
13501                            4732     ;
13502                            4733     ;
13503 00001FE6                   4734     _CMPSTP_CTRL_REDY_CLR:;//準備完了にしたいをOFF
13504                            4735             SUB_START
13505 00001FE6 4F22                   M           STS.L   PR,@-R15                ;[必要]
13506                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13507                            4736             FAR_JSR #_CPU_AB_RDY_OF_OUT,R0
13508 00001FE8 D004                   M           MOV.L   #_CPU_AB_RDY_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13509 00001FEA 400B                   M           JSR     @R0                     ;
13510 00001FEC 0009                   M           NOP                                     ;
13511 00001FEE D104              4737             MOV.L   #_CMPSTEP_CTRL_REDY,R1;//準備完了にしたくない<<完了・未完了は共通で1:完了
                                          0:>>
13512 00001FF0 200A              4738             XOR     R0,R0
13513 00001FF2 2101              4739             MOV.W   R0,@R1
13514                            4740             SUB_END
13515                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13516 00001FF4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13517                            4741             M_RTS
13518 00001FF6 000B                   M           RTS                             ;RTSの後ろの
13519 00001FF8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13520                            4742     
13521                                     ***** BEGIN-POOL *****
13522 00001FFA 0000                       ALIGNMENT CODE
13523 00001FFC 00000000                   DATA FOR SOURCE-LINE 4736
13524 00002000 00000000                   DATA FOR SOURCE-LINE 4737
13525                                     ***** END-POOL *****
13526 00002004                   4743     _CMPSTP_CTRL_BUSY_CLR:;//準備未完了にしたいをOFF
13527                            4744             SUB_START
13528 00002004 4F22                   M           STS.L   PR,@-R15                ;[必要]
13529                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   138
PROGRAM NAME =

13530                            4745             FAR_JSR #_CPU_AB_BSY_OF_OUT,R0
13531 00002006 D004                   M           MOV.L   #_CPU_AB_BSY_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13532 00002008 400B                   M           JSR     @R0                     ;
13533 0000200A 0009                   M           NOP                                     ;
13534 0000200C D103              4746             MOV.L   #_CMPSTEP_CTRL_BUSY,R1;//準備未完了にしたくない
13535 0000200E 200A              4747             XOR     R0,R0
13536 00002010 2101              4748             MOV.W   R0,@R1
13537                            4749             SUB_END
13538                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13539 00002012 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13540                            4750             M_RTS
13541 00002014 000B                   M           RTS                             ;RTSの後ろの
13542 00002016 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13543                            4751     
13544                                     ***** BEGIN-POOL *****
13545 00002018 00000000                   DATA FOR SOURCE-LINE 4745
13546 0000201C 00000000                   DATA FOR SOURCE-LINE 4746
13547                                     ***** END-POOL *****
13548 00002020                   4752     _CMPSTP_POS_START_CLR:;//起動したいをOFF
13549                            4753             SUB_START
13550 00002020 4F22                   M           STS.L   PR,@-R15                ;[必要]
13551                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13552                            4754             FAR_JSR #_CPU_AB_STR_OF_OUT,R0
13553 00002022 D004                   M           MOV.L   #_CPU_AB_STR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13554 00002024 400B                   M           JSR     @R0                     ;
13555 00002026 0009                   M           NOP                                     ;
13556 00002028 D103              4755             MOV.L   #_CMPSTEP_POS_START,R1;//起動したいくない
13557 0000202A 200A              4756             XOR     R0,R0
13558 0000202C 2101              4757             MOV.W   R0,@R1
13559                            4758             SUB_END
13560                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13561 0000202E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13562                            4759             M_RTS
13563 00002030 000B                   M           RTS                             ;RTSの後ろの
13564 00002032 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13565                            4760     
13566                                     ***** BEGIN-POOL *****
13567 00002034 00000000                   DATA FOR SOURCE-LINE 4754
13568 00002038 00000000                   DATA FOR SOURCE-LINE 4755
13569                                     ***** END-POOL *****
13570 0000203C                   4761     _CMPSTP_SFTY_AUTO_CLR:;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13571                            4762             SUB_START
13572 0000203C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13573                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13574                            4763     ;;2007-03-02    FAR_JSR #_CPU_AB_ATO_OF_OUT,R0
13575                            4764             FAR_JSR #_CPU_AB_DRVSTOP_OF_OUT,R0      ;名称変更
13576 0000203E D006                   M           MOV.L   #_CPU_AB_DRVSTOP_OF_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13577 00002040 400B                   M           JSR     @R0                     ;
13578 00002042 0009                   M           NOP                                     ;
13579                            4765             FAR_JSR #_CPU_BA_DRVSTOP_OF_OUT,R0      ;相手側CLR
13580 00002044 D005                   M           MOV.L   #_CPU_BA_DRVSTOP_OF_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13581 00002046 400B                   M           JSR     @R0                     ;
13582 00002048 0009                   M           NOP                                     ;
13583                            4766     
13584 0000204A D105              4767             MOV.L   #_CMPSTEP_SFTY_AUTO,R1;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13585 0000204C 200A              4768             XOR     R0,R0
13586 0000204E 2101              4769             MOV.W   R0,@R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   139
PROGRAM NAME =

13587                            4770             SUB_END
13588                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13589 00002050 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13590                            4771             M_RTS
13591 00002052 000B                   M           RTS                             ;RTSの後ろの
13592 00002054 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13593                            4772     
13594                                     ***** BEGIN-POOL *****
13595 00002056 0000                       ALIGNMENT CODE
13596 00002058 00000000                   DATA FOR SOURCE-LINE 4764
13597 0000205C 00000000                   DATA FOR SOURCE-LINE 4765
13598 00002060 00000000                   DATA FOR SOURCE-LINE 4767
13599                                     ***** END-POOL *****
13600 00002064                   4773     _CMPSTP_NEAR_ZERO_CLR:;//ﾆｱｾﾞﾛ処理を行いたい
13601                            4774             SUB_START
13602 00002064 4F22                   M           STS.L   PR,@-R15                ;[必要]
13603                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13604                            4775             FAR_JSR #_CPU_AB_NZR_OF_OUT,R0
13605 00002066 D004                   M           MOV.L   #_CPU_AB_NZR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13606 00002068 400B                   M           JSR     @R0                     ;
13607 0000206A 0009                   M           NOP                                     ;
13608 0000206C D103              4776             MOV.L   #_CMPSTEP_NEAR_ZERO,R1;//ﾆｱｾﾞﾛ処理を行いたい
13609 0000206E 200A              4777             XOR     R0,R0
13610 00002070 2101              4778             MOV.W   R0,@R1
13611                            4779             SUB_END
13612                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13613 00002072 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13614                            4780             M_RTS
13615 00002074 000B                   M           RTS                             ;RTSの後ろの
13616 00002076 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13617                            4781     
13618                                     ***** BEGIN-POOL *****
13619 00002078 00000000                   DATA FOR SOURCE-LINE 4775
13620 0000207C 00000000                   DATA FOR SOURCE-LINE 4776
13621                                     ***** END-POOL *****
13622 00002080                   4782     _CMPSTP_CNT_STOP_CLR:;//連続停止
13623                            4783             SUB_START
13624 00002080 4F22                   M           STS.L   PR,@-R15                ;[必要]
13625                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13626                            4784             FAR_JSR #_CPU_AB_CST_OF_OUT1,R0 ;
13627 00002082 D006                   M           MOV.L   #_CPU_AB_CST_OF_OUT1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13628 00002084 400B                   M           JSR     @R0                     ;
13629 00002086 0009                   M           NOP                                     ;
13630                            4785             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0 ;
13631 00002088 D005                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13632 0000208A 400B                   M           JSR     @R0                     ;
13633 0000208C 0009                   M           NOP                                     ;
13634 0000208E D105              4786             MOV.L   #_CMPSTEP_CNT_STOP,R1   ;//連続停止
13635 00002090 200A              4787             XOR     R0,R0
13636 00002092 2101              4788             MOV.W   R0,@R1
13637                            4789             SUB_END
13638                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13639 00002094 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13640                            4790             M_RTS
13641 00002096 000B                   M           RTS                             ;RTSの後ろの
13642 00002098 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13643                            4791     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   140
PROGRAM NAME =

13644                                     ***** BEGIN-POOL *****
13645 0000209A 0000                       ALIGNMENT CODE
13646 0000209C 00000000                   DATA FOR SOURCE-LINE 4784
13647 000020A0 00000000                   DATA FOR SOURCE-LINE 4785
13648 000020A4 00000000                   DATA FOR SOURCE-LINE 4786
13649                                     ***** END-POOL *****
13650 000020A8                   4792     _CMPSTP_STEP_END_CLR:;//位置決め完了としたい
13651                            4793             SUB_START
13652 000020A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
13653                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13654                            4794             FAR_JSR #_CPU_AB_CED_OF_OUT,R0  ;CPU-Bの分のみｸﾘｱする
13655 000020AA D004                   M           MOV.L   #_CPU_AB_CED_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13656 000020AC 400B                   M           JSR     @R0                     ;
13657 000020AE 0009                   M           NOP                                     ;
13658 000020B0 D103              4795             MOV.L   #_CMPSTEP_STEP_END,R1   ;//位置決め完了としたい
13659 000020B2 200A              4796             XOR     R0,R0
13660 000020B4 2101              4797             MOV.W   R0,@R1
13661                            4798             SUB_END
13662                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13663 000020B6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13664                            4799             M_RTS
13665 000020B8 000B                   M           RTS                             ;RTSの後ろの
13666 000020BA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13667                            4800     
13668                            4801     ;       ***************************
13669                            4802     ;       ***     EMG/EXQ         ***
13670                            4803     ;       ***************************
13671                                     ***** BEGIN-POOL *****
13672 000020BC 00000000                   DATA FOR SOURCE-LINE 4794
13673 000020C0 00000000                   DATA FOR SOURCE-LINE 4795
13674                                     ***** END-POOL *****
13675 000020C4                   4804     _CMPEMG_EXQ_FLG_CLR:
13676                            4805             SUB_START
13677 000020C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
13678                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13679                            4806             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0;//準備完了にしたいをOFF
13680 000020C6 D014                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13681 000020C8 400B                   M           JSR     @R0                     ;
13682 000020CA 0009                   M           NOP                                     ;
13683                            4807             FAR_JSR #_CMPSTP_POS_START_CLR,R0       ;//起動したいをOFF
13684 000020CC D013                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13685 000020CE 400B                   M           JSR     @R0                     ;
13686 000020D0 0009                   M           NOP                                     ;
13687                            4808     
13688                            4809             FAR_JSR #_CPU_AB_BSY_OF_OUT,R0  ;
13689 000020D2 D013                   M           MOV.L   #_CPU_AB_BSY_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13690 000020D4 400B                   M           JSR     @R0                     ;
13691 000020D6 0009                   M           NOP                                     ;
13692                            4810     ;;2007-03-02    FAR_JSR #_CPU_AB_ATO_OF_OUT,R0
13693                            4811             FAR_JSR #_CPU_AB_DRVSTOP_OF_OUT,R0      ;名称変更
13694 000020D8 D012                   M           MOV.L   #_CPU_AB_DRVSTOP_OF_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13695 000020DA 400B                   M           JSR     @R0                     ;
13696 000020DC 0009                   M           NOP                                     ;
13697                            4812     
13698                            4813             FAR_JSR #_CPU_AB_NZR_OF_OUT,R0  ;
13699 000020DE D012                   M           MOV.L   #_CPU_AB_NZR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13700 000020E0 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   141
PROGRAM NAME =

13701 000020E2 0009                   M           NOP                                     ;
13702                            4814             FAR_JSR #_CPU_AB_CST_OF_OUT1,R0 ;
13703 000020E4 D011                   M           MOV.L   #_CPU_AB_CST_OF_OUT1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13704 000020E6 400B                   M           JSR     @R0                     ;
13705 000020E8 0009                   M           NOP                                     ;
13706                            4815             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0 ;
13707 000020EA D011                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13708 000020EC 400B                   M           JSR     @R0                     ;
13709 000020EE 0009                   M           NOP                                     ;
13710                            4816             FAR_JSR #_CPU_AB_CED_OF_OUT,R0  ;CPU-Bの分のみｸﾘｱする
13711 000020F0 D010                   M           MOV.L   #_CPU_AB_CED_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13712 000020F2 400B                   M           JSR     @R0                     ;
13713 000020F4 0009                   M           NOP                                     ;
13714                            4817     
13715 000020F6 200A              4818             XOR     R0,R0
13716 000020F8 D10F              4819             MOV.L   #_CMPSTEP_CTRL_BUSY,R1;//準備未完了にしたい
13717 000020FA 2101              4820             MOV.W   R0,@R1
13718 000020FC D10F              4821             MOV.L   #_CMPSTEP_SFTY_AUTO,R1;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13719 000020FE 2101              4822             MOV.W   R0,@R1
13720 00002100 D10F              4823             MOV.L   #_CMPSTEP_NEAR_ZERO,R1;//ﾆｱｾﾞﾛ処理を行いたい
13721 00002102 2101              4824             MOV.W   R0,@R1
13722 00002104 D10F              4825             MOV.L   #_CMPSTEP_CNT_STOP,R1   ;//連続停止
13723 00002106 2101              4826             MOV.W   R0,@R1
13724 00002108 D10F              4827             MOV.L   #_CMPSTEP_STEP_END,R1   ;//位置決め完了としたい
13725 0000210A 2101              4828             MOV.W   R0,@R1
13726                            4829     
13727                            4830     ;       == 2004-12-20 ==
13728 0000210C D10F              4831             MOV.L   #_CNT_BANK_CALC_ERR,R1
13729 0000210E 2101              4832             MOV.W   R0,@R1
13730                            4833     
13731                            4834     
13732                            4835             SUB_END
13733                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13734 00002110 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13735                            4836             M_RTS
13736 00002112 000B                   M           RTS                             ;RTSの後ろの
13737 00002114 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13738                            4837     
13739                            4838     ;       ***************************
13740                            4839     ;       ***     開始時          ***
13741                            4840     ;       ***     START           ***
13742                            4841     ;       ***************************
13743                                     ***** BEGIN-POOL *****
13744 00002116 0000                       ALIGNMENT CODE
13745 00002118 00000000                   DATA FOR SOURCE-LINE 4806
13746 0000211C 00000000                   DATA FOR SOURCE-LINE 4807
13747 00002120 00000000                   DATA FOR SOURCE-LINE 4809
13748 00002124 00000000                   DATA FOR SOURCE-LINE 4811
13749 00002128 00000000                   DATA FOR SOURCE-LINE 4813
13750 0000212C 00000000                   DATA FOR SOURCE-LINE 4814
13751 00002130 00000000                   DATA FOR SOURCE-LINE 4815
13752 00002134 00000000                   DATA FOR SOURCE-LINE 4816
13753 00002138 00000000                   DATA FOR SOURCE-LINE 4819
13754 0000213C 00000000                   DATA FOR SOURCE-LINE 4821
13755 00002140 00000000                   DATA FOR SOURCE-LINE 4823
13756 00002144 00000000                   DATA FOR SOURCE-LINE 4825
13757 00002148 00000000                   DATA FOR SOURCE-LINE 4827
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   142
PROGRAM NAME =

13758 0000214C 00000000                   DATA FOR SOURCE-LINE 4831
13759                                     ***** END-POOL *****
13760 00002150                   4842     _CMPCYC_START_CLR:
13761                            4843             SUB_START
13762 00002150 4F22                   M           STS.L   PR,@-R15                ;[必要]
13763                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13764                            4844             FAR_JSR #_POS_CMP_1STEP_START_INI,R0
13765 00002152 D004                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13766 00002154 400B                   M           JSR     @R0                     ;
13767 00002156 0009                   M           NOP                                     ;
13768                            4845             FAR_JSR #_CMPSTP_SFTY_AUTO_CLR,R0;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13769 00002158 D003                   M           MOV.L   #_CMPSTP_SFTY_AUTO_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13770 0000215A 400B                   M           JSR     @R0                     ;
13771 0000215C 0009                   M           NOP                                     ;
13772                            4846             SUB_END
13773                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13774 0000215E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13775                            4847             M_RTS
13776 00002160 000B                   M           RTS                             ;RTSの後ろの
13777 00002162 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13778                            4848     
13779                            4849     ;       ***********************************
13780                            4850     ;       ***     終了前                  ***
13781                            4851     ;       ***     起動に必要な信号の準備  ***
13782                            4852     ;       ***********************************
13783                                     ***** BEGIN-POOL *****
13784 00002164 00000000                   DATA FOR SOURCE-LINE 4844
13785 00002168 00000000                   DATA FOR SOURCE-LINE 4845
13786                                     ***** END-POOL *****
13787 0000216C                   4853     _CMPCYC_END_CLR:
13788                            4854             SUB_START
13789 0000216C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13790                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13791                            4855             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0;//準備完了にしたい
13792 0000216E D006                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13793 00002170 400B                   M           JSR     @R0                     ;
13794 00002172 0009                   M           NOP                                     ;
13795                            4856             FAR_JSR #_CMPSTP_CTRL_BUSY_CLR,R0;//準備未完了にしたい
13796 00002174 D005                   M           MOV.L   #_CMPSTP_CTRL_BUSY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13797 00002176 400B                   M           JSR     @R0                     ;
13798 00002178 0009                   M           NOP                                     ;
13799                            4857             FAR_JSR #_CMPSTP_POS_START_CLR,R0;//起動したい
13800 0000217A D005                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13801 0000217C 400B                   M           JSR     @R0                     ;
13802 0000217E 0009                   M           NOP                                     ;
13803                            4858             SUB_END
13804                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13805 00002180 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13806                            4859             M_RTS
13807 00002182 000B                   M           RTS                             ;RTSの後ろの
13808 00002184 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13809                            4860     
13810                            4861     ;       ***********************************
13811                            4862     ;       ***                             ***
13812                            4863     ;       ***     1つのｽﾃｯﾌﾟの起動時      ***
13813                            4864     ;       ***                             ***
13814                            4865     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   143
PROGRAM NAME =

13815                                     ***** BEGIN-POOL *****
13816 00002186 0000                       ALIGNMENT CODE
13817 00002188 00000000                   DATA FOR SOURCE-LINE 4855
13818 0000218C 00000000                   DATA FOR SOURCE-LINE 4856
13819 00002190 00000000                   DATA FOR SOURCE-LINE 4857
13820                                     ***** END-POOL *****
13821 00002194                   4866     _POS_CMP_1STEP_START_INI:
13822                            4867             SUB_START
13823 00002194 4F22                   M           STS.L   PR,@-R15                ;[必要]
13824                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13825                            4868             FAR_JSR #_CMPSTP_STEP_END_CLR,R0;//位置決め完了としたい
13826 00002196 D00B                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13827 00002198 400B                   M           JSR     @R0                     ;
13828 0000219A 0009                   M           NOP                                     ;
13829                            4869             FAR_JSR #_CMPSTP_NEAR_ZERO_CLR,R0;//ﾆｱｾﾞﾛ処理を行いたい
13830 0000219C D00A                   M           MOV.L   #_CMPSTP_NEAR_ZERO_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13831 0000219E 400B                   M           JSR     @R0                     ;
13832 000021A0 0009                   M           NOP                                     ;
13833                            4870             FAR_JSR #_FUL_DATA_INIT,R0                      ;
13834 000021A2 D00A                   M           MOV.L   #_FUL_DATA_INIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13835 000021A4 400B                   M           JSR     @R0                     ;
13836 000021A6 0009                   M           NOP                                     ;
13837 000021A8 200A              4871             XOR     R0,R0                                   ;
13838 000021AA D109              4872             MOV.L   #_NEAR_IN_FLG,R1                        ;
13839 000021AC 2101              4873             MOV.W   R0,@R1                                  ;
13840                            4874     
13841                            4875             FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏ再設定
13842 000021AE D009                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13843 000021B0 400B                   M           JSR     @R0                     ;
13844 000021B2 0009                   M           NOP                                     ;
13845                            4876     
13846                            4877     ;       === ﾆｱｾﾞﾛ待ち信号ｸﾘｱ ====
13847                            4878             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
13848 000021B4 D108                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
13849 000021B6 6011                   M           MOV.W   @R1,R0          ;
13850 000021B8 C9FE                   M           AND     #LOW ~BIT0,R0           ;
13851 000021BA 2101                   M           MOV.W   R0,@R1          ;
13852                            4879     
13853                            4880     
13854                            4881             SUB_END
13855                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13856 000021BC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13857                            4882             M_RTS
13858 000021BE 000B                   M           RTS                             ;RTSの後ろの
13859 000021C0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13860                            4883     
13861                            4884     ;       ***********************************
13862                            4885     ;       **      ステップ表示            ***
13863                            4886     ;       ***********************************
13864                            4887     ;       ５段仕様は段数によらず最終工程は６行程目＋BIT15
13865                            4888     ;       10段仕様は段数によらず最終工程は１１行程目＋BIT15
13866                            4889     ;
13867                            4890     ;
13868                                     ***** BEGIN-POOL *****
13869 000021C2 0000                       ALIGNMENT CODE
13870 000021C4 00000000                   DATA FOR SOURCE-LINE 4868
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   144
PROGRAM NAME =

13871 000021C8 00000000                   DATA FOR SOURCE-LINE 4869
13872 000021CC 00000000                   DATA FOR SOURCE-LINE 4870
13873 000021D0 00000000                   DATA FOR SOURCE-LINE 4872
13874 000021D4 00000000                   DATA FOR SOURCE-LINE 4875
13875 000021D8 00000000                   DATA FOR SOURCE-LINE 4878
13876                                     ***** END-POOL *****
13877 000021DC                   4891     _STEP_SIG_DSP_CLR;
13878                            4892             SUB_START
13879 000021DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
13880                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13881 000021DE 244A              4893             XOR     R4,R4
13882                            4894             M_BRA   STEP_SIG_DSP200
13883 000021E0 A022                   M           BRA     STEP_SIG_DSP200
13884 000021E2 0009                   M           NOP
13885                            4895     
13886 000021E4                   4896     _STEP_SIG_DISP;
13887                            4897             SUB_START
13888 000021E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
13889                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13890                            4898     
13891 000021E6 D109              4899             MOV.L   #_INT_POS_CTL_STEP,R1   ;1~5,6
13892 000021E8 6011              4900             MOV.W   @R1,R0                  ;
13893 000021EA D109              4901             MOV.L   #_CPOS_STEP_MAX,R1      ;
13894 000021EC 6411              4902             MOV.W   @R1,R4                  ;
13895 000021EE 7401              4903             ADD     #1,R4                   ;
13896 000021F0 3042              4904             CMP/HS  R4,R0                   ;
13897 000021F2 8B15              4905             BF      STEP_SIG_DSP100         ;
13898                            4906     
13899                            4907     ;       ==== 最終工程==
13900 000021F4 D107              4908             MOV.L   #_WFSYS_MAX_STEP_SEL,R1 ;2004-01-26
13901 000021F6 6011              4909             MOV.W   @R1,R0                  ;
13902 000021F8 8801              4910             CMP/EQ  #1,R0                   ;
13903 000021FA 8B0D              4911             BF      STEP_SIG_DSP050         ;
13904                            4912     
13905 000021FC 9004              4913             MOV.W   #_EQ_STEP_MAX+1,R0      ;1~5の時は2~6
13906 000021FE 3406              4914             CMP/HI  R0,R4                   ;5+1 < MAX+1
13907 00002200 8B0A              4915             BF      STEP_SIG_DSP050         ;NO MAX=1~5
13908                            4916     
13909 00002202 9402              4917             MOV.W   #(BIT15+BIT10),R4       ;"*"はBIT10
13910                            4918             M_BRA   STEP_SIG_DSP200         ;
13911 00002204 A010                   M           BRA     STEP_SIG_DSP200
13912 00002206 0009                   M           NOP
13913                            4919     
13914                                     ***** BEGIN-POOL *****
13915 00002208 0006                       DATA FOR SOURCE-LINE 4913
13916 0000220A 8400                       DATA FOR SOURCE-LINE 4917
13917 0000220C 00000000                   DATA FOR SOURCE-LINE 4899
13918 00002210 00000000                   DATA FOR SOURCE-LINE 4901
13919 00002214 00000000                   DATA FOR SOURCE-LINE 4908
13920                                     ***** END-POOL *****
13921 00002218                   4920     STEP_SIG_DSP050:
13922 00002218 9401              4921             MOV.W   #(BIT15+BIT5),R4        ;"*"はBIT5
13923                            4922             M_BRA   STEP_SIG_DSP200         ;
13924 0000221A A005                   M           BRA     STEP_SIG_DSP200
13925 0000221C 0009                   M           NOP
13926                            4923     
13927                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   145
PROGRAM NAME =

13928 0000221E 8020                       DATA FOR SOURCE-LINE 4921
13929                                     ***** END-POOL *****
13930 00002220                   4924     STEP_SIG_DSP100:
13931 00002220 D107              4925             MOV.L   #_LONG_BIT_TBL0,R1              ;
13932 00002222 4008              4926             SHLL2   R0                              ;data=1 BIT0
13933 00002224 301C              4927             ADD     R1,R0                           ;
13934 00002226 6402              4928             MOV.L   @R0,R4                          ;
13935 00002228                   4929     STEP_SIG_DSP200:
13936                            4930     
13937                            4931     ;       ---------2014-09-22 追加BIT13--------------
13938 00002228 D106              4932             MOV.L   #_MOT_REP_F,R1                  ;//BIT0(ﾘﾋﾟｰﾄ動作
13939 0000222A 6011              4933             MOV.W   @R1,R0                          ;
13940 0000222C C801              4934             TST     #BIT0,R0                        ;ﾘﾋﾟｰﾄ中
13941                            4935             TST_BIT_OF STEP_SIG_DSP300              ;
13942 0000222E 8901                   M           BT      STEP_SIG_DSP300
13943 00002230 9005              4936             MOV.W   #BIT13,R0                       ;
13944 00002232 240B              4937             OR      R0,R4                           ;
13945 00002234                   4938     STEP_SIG_DSP300:                                ;
13946                            4939     
13947                            4940     
13948 00002234 D504              4941             MOV.L   #_SQ_CBWK_TOP+_WKSQCB210,R5     ;
13949 00002236 2541              4942             MOV.W   R4,@R5                          ;
13950                            4943     
13951                            4944     
13952                            4945             SUB_END
13953                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13954 00002238 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13955                            4946             M_RTS
13956 0000223A 000B                   M           RTS                             ;RTSの後ろの
13957 0000223C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13958                            4947     
13959                            4948     
13960                            4949     ;       ***********************************
13961                            4950     ;       ***                             ***
13962                            4951     ;       ***     運転開始                ***
13963                            4952     ;       ***                             ***
13964                            4953     ;       ***********************************
13965                                     ***** BEGIN-POOL *****
13966 0000223E 2000                       DATA FOR SOURCE-LINE 4936
13967 00002240 00000000                   DATA FOR SOURCE-LINE 4925
13968 00002244 00000000                   DATA FOR SOURCE-LINE 4932
13969 00002248 00000000                   DATA FOR SOURCE-LINE 4941
13970                                     ***** END-POOL *****
13971 0000224C                   4954     _STOPPING_TIM_MOV_INI:
13972                            4955             SUB_START
13973 0000224C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13974                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13975 0000224E D104              4956             MOV.L   #_STOPPING_TIM_FLG,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停止中
13976 00002250 200A              4957             XOR     R0,R0                   ;動作開始
13977 00002252 2101              4958             MOV.W   R0,@R1                  ;
13978                            4959     
13979                            4960     
13980                            4961     ;       ==== 2012-03-06====
13981                            4962             FAR_JSR #_BRKTMCAL_API1_STR,R0          ;JUMP力がないため
13982 00002254 D003                   M           MOV.L   #_BRKTMCAL_API1_STR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13983 00002256 400B                   M           JSR     @R0                     ;
13984 00002258 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   146
PROGRAM NAME =

13985                            4963     
13986                            4964             SUB_END
13987                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13988 0000225A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13989                            4965             M_RTS
13990 0000225C 000B                   M           RTS                             ;RTSの後ろの
13991 0000225E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13992                            4966     
13993                            4967     ;       ***********************************
13994                            4968     ;       ***                             ***
13995                            4969     ;       ***     停止条件成立(測定開始)  ***
13996                            4970     ;       ***                             ***
13997                            4971     ;       ***********************************
13998                            4972     
13999                                     ***** BEGIN-POOL *****
14000 00002260 00000000                   DATA FOR SOURCE-LINE 4956
14001 00002264 00000000                   DATA FOR SOURCE-LINE 4962
14002                                     ***** END-POOL *****
14003 00002268                   4973     _STOPPING_TIM_STOP_INI:
14004                            4974             SUB_START
14005 00002268 4F22                   M           STS.L   PR,@-R15                ;[必要]
14006                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14007 0000226A D114              4975             MOV.L   #_STOPPING_TIM_FLG,R1           ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停
                                          止中
14008 0000226C 6011              4976             MOV.W   @R1,R0                          ;
14009 0000226E C841              4977             TST     #(BIT6+BIT0),R0                 ;
14010                            4978             TST_BIT_ON STOPPING_TIM_STOPINI_100     ;動作開始?/停止後の停止?
14011 00002270 8B1E                   M           BF      STOPPING_TIM_STOPINI_100
14012                            4979     
14013                            4980     ;;2010-08-20    MOV.W   #_SYS_STOPPING_TIM,R2
14014 00002272 D113              4981             MOV.L   #_WPAR_STOPING_TIM,R1           ;//予備、ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ,ﾌﾞﾚｰｷﾀｲﾏ用時間(2010-0
                                          8-20以前は50ms固定)
14015 00002274 6211              4982             MOV.W   @R1,R2                          ;
14016                            4983     
14017 00002276 D113              4984             MOV.L   #_STOPPING_STOP_TIM,R1  ;//停止を測定するタイマ
14018 00002278 2121              4985             MOV.W   R2,@R1                  ;
14019                            4986     
14020 0000227A D413              4987             MOV.L   #_LINK_PV_ABSPLS,R4                                     ;RL_OBJ->PV 200609
                                          19
14021 0000227C 6146              4988             MOV.L   @R4+,R1                                                 ;
14022 0000227E 6242              4989             MOV.L   @R4,R2                                                  ;(制御目標値/今は
                                          実測だけど)
14023 00002280 D412              4990             MOV.L   #_STOPPING_VLVOFF_POS,R4;//停止処理開始時点の位置
14024 00002282 2412              4991             MOV.L   R1,@R4                  ;
14025 00002284 1421              4992             MOV.L   R2,@(4,R4)              ;
14026                            4993     
14027 00002286 D412              4994             MOV.L   #_STOPPING_STOP_POS,R4  ;//停止処理測定位置
14028 00002288 2412              4995             MOV.L   R1,@R4                  ;
14029 0000228A 1421              4996             MOV.L   R2,@(4,R4)              ;
14030                            4997     
14031 0000228C D10B              4998             MOV.L   #_STOPPING_TIM_FLG,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停止中
14032 0000228E 9012              4999             MOV.W   #BIT0,R0                ;
14033 00002290 2101              5000             MOV.W   R0,@R1
14034                            5001     
14035 00002292 200A              5002             XOR     R0,R0                   ;
14036 00002294 D10F              5003             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ
14037 00002296 2101              5004             MOV.W   R0,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   147
PROGRAM NAME =

14038 00002298 D10F              5005             MOV.L   #_STOPPING_TIM_PV2,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ
14039 0000229A 2101              5006             MOV.W   R0,@R1                  ;
14040                            5007     
14041                            5008     ;       ==== 2003-07-09 ========
14042 0000229C D10F              5009             MOV.L   #_STOP_ERR_LATCH,R1     ;// BIT0:TIM BIT1:POS
14043 0000229E 900B              5010             MOV.W   #BIT4,R0                ;
14044 000022A0 2101              5011             MOV.W   R0,@R1                  ;BIT4:起動有り ELSE = 0
14045                            5012     
14046                            5013     
14047                            5014     ;       --2009-07-17 add[不具合対策 ﾌﾞﾚｰｷ角度ｵｰﾊﾞ3]---
14048                            5015             FAR_JSR #_LINK_CLANK_DIG_MAK,R0 ;2009-07-17
14049 000022A2 D00F                   M           MOV.L   #_LINK_CLANK_DIG_MAK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14050 000022A4 400B                   M           JSR     @R0                     ;
14051 000022A6 0009                   M           NOP                                     ;
14052                            5016     
14053 000022A8 D10E              5017             MOV.L   #_LINK_CLANK_PV,R1      ;//0.1度
14054 000022AA 6011              5018             MOV.W   @R1,R0                  ;
14055 000022AC D10E              5019             MOV.L   #_VALV_OFF_DIG_CLANK,R1 ;
14056 000022AE 2101              5020             MOV.W   R0,@R1                  ;
14057                            5021     
14058                            5022     ;       =========================
14059                            5023     
14060 000022B0                   5024     STOPPING_TIM_STOPINI_100:
14061                            5025     
14062                            5026             SUB_END
14063                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14064 000022B0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14065                            5027             M_RTS
14066 000022B2 000B                   M           RTS                             ;RTSの後ろの
14067 000022B4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14068                            5028     
14069                            5029     ;       ***********************************
14070                            5030     ;       ***                             ***
14071                            5031     ;       ***     (測定中)                ***
14072                            5032     ;       ***                             ***
14073                            5033     ;       ***********************************
14074                            5034     
14075                                     ***** BEGIN-POOL *****
14076 000022B6 0001                       DATA FOR SOURCE-LINE 4999
14077 000022B8 0010                       DATA FOR SOURCE-LINE 5010
14078 000022BA 0000                       ALIGNMENT CODE
14079 000022BC 00000000                   DATA FOR SOURCE-LINE 4975,4998
14080 000022C0 00000000                   DATA FOR SOURCE-LINE 4981
14081 000022C4 00000000                   DATA FOR SOURCE-LINE 4984
14082 000022C8 00000000                   DATA FOR SOURCE-LINE 4987
14083 000022CC 00000000                   DATA FOR SOURCE-LINE 4990
14084 000022D0 00000000                   DATA FOR SOURCE-LINE 4994
14085 000022D4 00000000                   DATA FOR SOURCE-LINE 5003
14086 000022D8 00000000                   DATA FOR SOURCE-LINE 5005
14087 000022DC 00000000                   DATA FOR SOURCE-LINE 5009
14088 000022E0 00000000                   DATA FOR SOURCE-LINE 5015
14089 000022E4 00000000                   DATA FOR SOURCE-LINE 5017
14090 000022E8 00000000                   DATA FOR SOURCE-LINE 5019
14091                                     ***** END-POOL *****
14092 000022EC                   5035     _STOPPING_TIM_CHK:
14093                            5036             SUB_START
14094 000022EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   148
PROGRAM NAME =

14095                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14096                            5037     
14097 000022EE D104              5038             MOV.L   #_STOPPING_TIM_FLG,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停止中
14098 000022F0 9004              5039             MOV.W   #BIT0,R0                ;
14099 000022F2 6011              5040             MOV.W   @R1,R0                  ;
14100 000022F4 C840              5041             TST     #BIT6,R0                ;測定完了?
14101                            5042             TST_BIT_OF STOPPING_TIM_CK050   ;
14102 000022F6 8905                   M           BT      STOPPING_TIM_CK050
14103                            5043             M_BRA   STOPPING_TIM_CK900      ;完了
14104 000022F8 A065                   M           BRA     STOPPING_TIM_CK900
14105 000022FA 0009                   M           NOP
14106                            5044     
14107                                     ***** BEGIN-POOL *****
14108 000022FC 0001                       DATA FOR SOURCE-LINE 5039
14109 000022FE 0000                       ALIGNMENT CODE
14110 00002300 00000000                   DATA FOR SOURCE-LINE 5038
14111                                     ***** END-POOL *****
14112 00002304                   5045     STOPPING_TIM_CK050:                                                     ;
14113 00002304 C801              5046             TST     #BIT0,R0
14114                            5047             TST_BIT_ON STOPPING_TIM_CK080   ;
14115 00002306 8B01                   M           BF      STOPPING_TIM_CK080
14116                            5048             M_BRA   STOPPING_TIM_CK900      ;未
14117 00002308 A05D                   M           BRA     STOPPING_TIM_CK900
14118 0000230A 0009                   M           NOP
14119 0000230C                   5049     STOPPING_TIM_CK080
14120                            5050     
14121                            5051     
14122 0000230C D114              5052             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ測定
14123 0000230E 6211              5053             MOV.W   @R1,R2                  ;
14124 00002310 7201              5054             ADD     #1,R2                   ;
14125 00002312 2121              5055             MOV.W   R2,@R1                  ;
14126                            5056     
14127 00002314 D013              5057             MOV.L   #_LINK_PV_ABSPLS,R0                     ;RL_OBJ->PV20060919
14128 00002316 6106              5058             MOV.L   @R0+,R1                                                 ;
14129 00002318 6202              5059             MOV.L   @R0,R2                                                  ;(制御目標値/今は
                                          実測だけど)
14130                            5060     
14131 0000231A D013              5061             MOV.L   #_STOPPING_VLVOFF_POS,R0                ;//停止処理開始時点の位置
14132 0000231C 6306              5062             MOV.L   @R0+,R3                                 ;
14133 0000231E 6402              5063             MOV.L   @R0,R4                                  ;
14134                            5064     
14135 00002320 D012              5065             MOV.L   #_STOPPING_STOP_POS,R0                  ;
14136 00002322 6502              5066             MOV.L   @R0,R5                                  ;
14137 00002324 2012              5067             MOV.L   R1,@R0                                  ;
14138 00002326 5601              5068             MOV.L   @(4,R0),R6                              ;
14139 00002328 1021              5069             MOV.L   R2,@(4,R0)                              ;
14140                            5070     
14141                            5071             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R3,DT_ANS_REGL=R4       ;ﾊﾞﾙﾌﾞOFF開始−今
                                          回
14142 0000232A 0008                   M           CLRT
14143 0000232C 342A                   M           SUBC    R2,R4
14144 0000232E 331A                   M           SUBC    R1,R3
14145                            5072             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6       ;前回−今回
14146 00002330 0008                   M           CLRT
14147 00002332 362A                   M           SUBC    R2,R6
14148 00002334 351A                   M           SUBC    R1,R5
14149                            5073     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   149
PROGRAM NAME =

14150                            5074     
14151                            5075     ;ﾊﾞﾙﾌﾞOFF位置+/-10ﾊﾟﾙｽの範囲では停止中と判断する[2011-08-29]
14152 00002336 6043              5076             MOV     R4,R0                                   ;
14153 00002338 4011              5077             CMP/PZ  R0                                      ;
14154 0000233A 8900              5078             BT      STOPPING_TIM_CK100                      ;
14155 0000233C 600B              5079             NEG     R0,R0                                   ;
14156 0000233E                   5080     STOPPING_TIM_CK100:                                     ;
14157 0000233E 910D              5081             MOV.W   #D'10,R1                                ;
14158 00002340 3102              5082             CMP/HS  R0,R1                                   ;
14159 00002342 8903              5083             BT      STOPPING_TIM_CK120                      ;
14160                            5084     ;       -------------------------------------------------------
14161                            5085     
14162                            5086     
14163 00002344 6063              5087             MOV     R6,R0                   ;
14164 00002346 205B              5088             OR      R5,R0                   ;
14165 00002348 2008              5089             TST     R0,R0                   ;
14166                            5090             TST_BIT_ON STOPPING_TIM_CK400   ;
14167 0000234A 8B27                   M           BF      STOPPING_TIM_CK400
14168 0000234C                   5091     STOPPING_TIM_CK120:
14169                            5092     ;       ===== 停止状態() =====
14170 0000234C D408              5093             MOV.L   #_STOPPING_STOP_TIM,R4                                  ;//停止を測定する
                                          タイマ
14171 0000234E 6041              5094             MOV.W   @R4,R0                                                  ;
14172 00002350 2008              5095             TST     R0,R0                                                   ;
14173                            5096             TST_BIT_OF STOPPING_TIM_CK200                                   ;
14174 00002352 890F                   M           BT      STOPPING_TIM_CK200
14175 00002354 70FF              5097             ADD     #-1,R0                                                  ;
14176 00002356 2401              5098             MOV.W   R0,@R4                                                  ;
14177                            5099             M_BRA   STOPPING_TIM_CK900                                      ;
14178 00002358 A035                   M           BRA     STOPPING_TIM_CK900
14179 0000235A 0009                   M           NOP
14180                            5100     ;       ====== ﾀｲﾑｱｯﾌﾟ停止=======
14181                                     ***** BEGIN-POOL *****
14182 0000235C 000A                       DATA FOR SOURCE-LINE 5081
14183 0000235E 0000                       ALIGNMENT CODE
14184 00002360 00000000                   DATA FOR SOURCE-LINE 5052
14185 00002364 00000000                   DATA FOR SOURCE-LINE 5057
14186 00002368 00000000                   DATA FOR SOURCE-LINE 5061
14187 0000236C 00000000                   DATA FOR SOURCE-LINE 5065
14188 00002370 00000000                   DATA FOR SOURCE-LINE 5093
14189                                     ***** END-POOL *****
14190 00002374                   5101     STOPPING_TIM_CK200:
14191 00002374 D106              5102             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ測定
14192 00002376 6211              5103             MOV.W   @R1,R2                  ;
14193                            5104     
14194                            5105     ;;;2010-08-20   MOV.W   #_SYS_STOPPING_TIM,R4   ;
14195 00002378 D106              5106             MOV.L   #_WPAR_STOPING_TIM,R1           ;//予備、ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ,ﾌﾞﾚｰｷﾀｲﾏ用時間(2010-0
                                          8-20以前は50ms固定)
14196 0000237A 6411              5107             MOV.W   @R1,R4                          ;
14197                            5108     
14198 0000237C 3248              5109             SUB     R4,R2                   ;
14199 0000237E 4211              5110             CMP/PZ  R2                      ;
14200 00002380 8900              5111             BT      STOPPING_TIM_CK250      ;
14201 00002382 222A              5112             XOR     R2,R2                   ;
14202 00002384                   5113     STOPPING_TIM_CK250:                     ;
14203                            5114     
14204                            5115             FAR_JSR #_BRKTMCAL_API3_ENDCNF1,R0      ;2012-03-06
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   150
PROGRAM NAME =

14205 00002384 D004                   M           MOV.L   #_BRKTMCAL_API3_ENDCNF1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14206 00002386 400B                   M           JSR     @R0                     ;
14207 00002388 0009                   M           NOP                                     ;
14208                            5116             M_BRA   STOPPING_TIM_CK600      ;
14209 0000238A A013                   M           BRA     STOPPING_TIM_CK600
14210 0000238C 0009                   M           NOP
14211                            5117     
14212                            5118     ;       ==== 動作状態 ============
14213                                     ***** BEGIN-POOL *****
14214 0000238E 0000                       ALIGNMENT CODE
14215 00002390 00000000                   DATA FOR SOURCE-LINE 5102
14216 00002394 00000000                   DATA FOR SOURCE-LINE 5106
14217 00002398 00000000                   DATA FOR SOURCE-LINE 5115
14218                                     ***** END-POOL *****
14219 0000239C                   5119     STOPPING_TIM_CK400:
14220                            5120     
14221                            5121     ;;;;2010-08-20  MOV.W   #_SYS_STOPPING_TIM,R0           ;
14222 0000239C D40D              5122             MOV.L   #_WPAR_STOPING_TIM,R4           ;//予備、ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ,ﾌﾞﾚｰｷﾀｲﾏ用時間(2010-0
                                          8-20以前は50ms固定)
14223 0000239E 6041              5123             MOV.W   @R4,R0                          ;
14224                            5124     
14225 000023A0 D40D              5125             MOV.L   #_STOPPING_STOP_TIM,R4          ;//停止を測定するタイマ
14226 000023A2 2401              5126             MOV.W   R0,@R4                          ;
14227                            5127     
14228 000023A4 235A              5128             XOR     R5,R3                           ;動作方向[[[[[[[[]]]]]]]]]]
14229 000023A6 4311              5129             CMP/PZ  R3                              ;
14230 000023A8 890D              5130             BT      STOPPING_TIM_CK900              ;同一方向NO 反転した
14231                            5131     
14232                            5132             FAR_JSR #_BRKTMCAL_API4_ENDCNF2,R0      ;2012-03-06
14233 000023AA D00C                   M           MOV.L   #_BRKTMCAL_API4_ENDCNF2,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14234 000023AC 400B                   M           JSR     @R0                     ;
14235 000023AE 0009                   M           NOP                                     ;
14236                            5133     
14237                            5134     ;       ===== 反転停止 ======
14238 000023B0 D10B              5135             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ測定
14239 000023B2 6211              5136             MOV.W   @R1,R2                  ;
14240                            5137     
14241 000023B4                   5138     STOPPING_TIM_CK600:
14242 000023B4 D10B              5139             MOV.L   #_STOPPING_TIM_PV2,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ
14243 000023B6 2121              5140             MOV.W   R2,@R1                  ;
14244                            5141     
14245 000023B8 D10B              5142             MOV.L   #_STOPPING_TIM_FLG,R1                           ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0
                                          測定開始 BIT6:停止中
14246 000023BA 900A              5143             MOV.W   #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R0        ;
14247 000023BC 2101              5144             MOV.W   R0,@R1                                          ;BIT1~BIT5はその他の処理用
14248                            5145                                                                     ;BIT1:画面へ
14249                            5146     
14250                            5147     ;       ==== 2003-07-09 ========
14251 000023BE D10B              5148             MOV.L   #_STOP_ERR_LATCH,R1     ;// BIT0:TIM BIT1:POS
14252 000023C0 6011              5149             MOV.W   @R1,R0                  ;
14253 000023C2 CB20              5150             OR      #(BIT5),R0              ;
14254 000023C4 2101              5151             MOV.W   R0,@R1                  ;BIT5起動有り/完了有り
14255                            5152     ;       =========================
14256                            5153     
14257 000023C6                   5154     STOPPING_TIM_CK900:
14258                            5155     
14259                            5156             FAR_JSR #_STOP_ERR_CHK,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   151
PROGRAM NAME =

14260 000023C6 D00A                   M           MOV.L   #_STOP_ERR_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14261 000023C8 400B                   M           JSR     @R0                     ;
14262 000023CA 0009                   M           NOP                                     ;
14263                            5157     
14264                            5158             SUB_END
14265                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14266 000023CC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14267                            5159             M_RTS
14268 000023CE 000B                   M           RTS                             ;RTSの後ろの
14269 000023D0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14270                            5160     
14271                            5161     
14272                            5162     ;//     *******************************************
14273                            5163     ;//     ***     2003-06-13                      ***
14274                            5164     ;//     ***     ニアゼロタイムアウトセット      ***
14275                            5165     ;//     *******************************************
14276                            5166             .EXPORT _SET_NZ_TIM_DAT
14277                            5167             .EXPORT _NZ_TIM_CHK1
14278                                     ***** BEGIN-POOL *****
14279 000023D2 007F                       DATA FOR SOURCE-LINE 5143
14280 000023D4 00000000                   DATA FOR SOURCE-LINE 5122
14281 000023D8 00000000                   DATA FOR SOURCE-LINE 5125
14282 000023DC 00000000                   DATA FOR SOURCE-LINE 5132
14283 000023E0 00000000                   DATA FOR SOURCE-LINE 5135
14284 000023E4 00000000                   DATA FOR SOURCE-LINE 5139
14285 000023E8 00000000                   DATA FOR SOURCE-LINE 5142
14286 000023EC 00000000                   DATA FOR SOURCE-LINE 5148
14287 000023F0 00000000                   DATA FOR SOURCE-LINE 5156
14288                                     ***** END-POOL *****
14289 000023F4                   5168     _SET_NZ_TIM_DAT
14290                            5169             SUB_START
14291 000023F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
14292                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14293 000023F6 D109              5170             MOV.L   #_NZ_TIM_OUT_SV1,R1             ;運転中止(寸動部分)
14294 000023F8 6011              5171             MOV.W   @R1,R0                          ;
14295 000023FA 2008              5172             TST     R0,R0                           ;
14296                            5173             TST_BIT_ON SET_NZ_TIMDT_010             ;
14297 000023FC 8B00                   M           BF      SET_NZ_TIMDT_010
14298 000023FE 900B              5174             MOV.W   #H'7FFF,R0                      ;
14299 00002400                   5175     SET_NZ_TIMDT_010
14300 00002400 D107              5176             MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分)
14301 00002402 2101              5177             MOV.W   R0,@R1                          ;
14302                            5178     
14303 00002404 D107              5179             MOV.L   #_NZ_TIM_OUT_SV2,R1             ;異常(機能は入れない)
14304 00002406 6011              5180             MOV.W   @R1,R0                          ;
14305 00002408 2008              5181             TST     R0,R0                           ;
14306                            5182             TST_BIT_ON SET_NZ_TIMDT_020             ;
14307 0000240A 8B00                   M           BF      SET_NZ_TIMDT_020
14308 0000240C 9004              5183             MOV.W   #H'7FFF,R0                      ;
14309 0000240E                   5184     SET_NZ_TIMDT_020                                ;
14310 0000240E D106              5185             MOV.L   #_NZ_TIM_OUT_PV2,R1             ;
14311 00002410 2101              5186             MOV.W   R0,@R1                          ;
14312                            5187     
14313                            5188             SUB_END
14314                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14315 00002412 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14316                            5189             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   152
PROGRAM NAME =

14317 00002414 000B                   M           RTS                             ;RTSの後ろの
14318 00002416 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14319                            5190     
14320                            5191     ;//     *******************************************
14321                            5192     ;//     ***     2003-06-13                      ***
14322                            5193     ;//     ***     ニアゼロタイムアウト            ***
14323                            5194     ;//     *******************************************
14324                                     ***** BEGIN-POOL *****
14325 00002418 7FFF                       DATA FOR SOURCE-LINE 5174,5183
14326 0000241A 0000                       ALIGNMENT CODE
14327 0000241C 00000000                   DATA FOR SOURCE-LINE 5170
14328 00002420 00000000                   DATA FOR SOURCE-LINE 5176
14329 00002424 00000000                   DATA FOR SOURCE-LINE 5179
14330 00002428 00000000                   DATA FOR SOURCE-LINE 5185
14331                                     ***** END-POOL *****
14332 0000242C                   5195     _NZ_TIM_CHK1
14333                            5196             SUB_START
14334 0000242C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14335                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14336 0000242E D10B              5197             MOV.L   #_NZ_TIM_OUT_SV1,R1             ;運転中止(寸動部分)
14337 00002430 6011              5198             MOV.W   @R1,R0                          ;
14338 00002432 2008              5199             TST     R0,R0                           ;
14339                            5200             TST_BIT_OF NZ_TIM_CK1_100               ;
14340 00002434 8905                   M           BT      NZ_TIM_CK1_100
14341                            5201     
14342 00002436 D10A              5202             MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分)
14343 00002438 6011              5203             MOV.W   @R1,R0                          ;
14344 0000243A 2008              5204             TST     R0,R0                           ;
14345                            5205             TST_BIT_OF NZ_TIM_CK1_100               ;
14346 0000243C 8901                   M           BT      NZ_TIM_CK1_100
14347 0000243E 70FF              5206             ADD     #-1,R0                          ;
14348 00002440 2101              5207             MOV.W   R0,@R1                          ;
14349 00002442                   5208     NZ_TIM_CK1_100
14350                            5209     
14351 00002442 D108              5210             MOV.L   #_NZ_TIM_OUT_SV2,R1             ;運転中止(寸動部分)
14352 00002444 6011              5211             MOV.W   @R1,R0                          ;
14353 00002446 2008              5212             TST     R0,R0                           ;
14354                            5213             TST_BIT_OF NZ_TIM_CK1_200               ;
14355 00002448 8905                   M           BT      NZ_TIM_CK1_200
14356                            5214     
14357 0000244A D107              5215             MOV.L   #_NZ_TIM_OUT_PV2,R1             ;運転中止(寸動部分)
14358 0000244C 6011              5216             MOV.W   @R1,R0                          ;
14359 0000244E 2008              5217             TST     R0,R0                           ;
14360                            5218             TST_BIT_OF NZ_TIM_CK1_200               ;
14361 00002450 8901                   M           BT      NZ_TIM_CK1_200
14362 00002452 70FF              5219             ADD     #-1,R0                          ;
14363 00002454 2101              5220             MOV.W   R0,@R1                          ;
14364 00002456                   5221     NZ_TIM_CK1_200
14365                            5222     
14366                            5223             SUB_END
14367                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14368 00002456 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14369                            5224             M_RTS
14370 00002458 000B                   M           RTS                             ;RTSの後ろの
14371 0000245A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14372                            5225     
14373                            5226     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   153
PROGRAM NAME =

14374                            5227     ;       ***                             ***
14375                            5228     ;       ***     2006-07-28              ***
14376                            5229     ;       ***                             ***
14377                            5230     ;       ***********************************
14378                            5231     ;       ANS R0=0 START // ELSE WAIT
14379                                     ***** BEGIN-POOL *****
14380 0000245C 00000000                   DATA FOR SOURCE-LINE 5197
14381 00002460 00000000                   DATA FOR SOURCE-LINE 5202
14382 00002464 00000000                   DATA FOR SOURCE-LINE 5210
14383 00002468 00000000                   DATA FOR SOURCE-LINE 5215
14384                                     ***** END-POOL *****
14385 0000246C                   5232     _ORGIN_MODE_SEL_WAIT:
14386                            5233             SUB_START
14387 0000246C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14388                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14389 0000246E 222A              5234             XOR     R2,R2
14390 00002470 D10A              5235             MOV.L   #_MODE_SEL,R1           ;
14391 00002472 6011              5236             MOV.W   @R1,R0                  ;
14392 00002474 C840              5237             TST     #_W1DUP,R0              ;
14393                            5238             TST_BIT_OF ORGIN_MODE_SEL_WTEND ;
14394 00002476 8921                   M           BT      ORGIN_MODE_SEL_WTEND
14395                            5239     
14396                            5240     
14397                            5241     ;_BRK_SADOU_CHG 2015-09-06
14398                            5242     ;2015-09-06;    ======= 2010-10-25 針の穴===
14399                            5243     ;2015-09-06     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;2010-10-26
14400                            5244     ;2015-09-06     MOV.W   @R1,R0                          ;MCでは準備完了は遅らせない
14401                            5245     ;2015-09-06     MOV.W   #BIT8,R4                        ;その代わりパルス出力を遅らせる0.2
                                          秒だから
14402                            5246     ;2015-09-06     TST     R4,R0
14403                            5247     ;2015-09-06     TST_BIT_OF ORGIN_MODE_SEL_WT030         ;off今まで通り
14404                            5248     ;2015-09-06
14405                            5249     ;2015-09-06     MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
14406                            5250     ;2015-09-06     MOV.W   @R1,R0                          ;
14407                            5251     ;2015-09-06     TST     R0,R0                           ;
14408                            5252     ;2015-09-06     TST_BIT_OF ORGIN_MODE_SEL_WT030         ;
14409                            5253     ;2015-09-06     MOV.W   #1,R2                           ;ﾀｲﾏではないがﾀｲﾏ代わりに入れる
14410                            5254     ;2015-09-06     M_BRA   ORGIN_MODE_SEL_WTEND            ;
14411                            5255     ;2015-09-06
14412                            5256     ;2015-09-06
14413                            5257     ;2015-09-06ORGIN_MODE_SEL_WT030:                                ;
14414                            5258     
14415                            5259     
14416                            5260     
14417                            5261     ;       === 2008-09-16 原点復帰方法ﾚﾍﾞﾙなら即起動===========
14418 00002478 D109              5262             MOV.L   #_PAR_ORGDRV_MOD,R1             ;原点復帰方法変更
14419 0000247A 6011              5263             MOV.W   @R1,R0                          ;
14420 0000247C 8801              5264             CMP/EQ  #1,R0                           ;ｴｯｼﾞ?
14421 0000247E 8915              5265             BT      ORGIN_MODE_SEL_WT100            ;YES ｴｯｼﾞ
14422                            5266     
14423 00002480 233A              5267             XOR     R3,R3                           ;(ｻｰﾁ)
14424 00002482 D108              5268             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
14425 00002484 6011              5269             MOV.W   @R1,R0                          ;
14426 00002486 9407              5270             MOV.W   #BIT15,R4                       ;
14427 00002488 2048              5271             TST     R4,R0                           ;
14428                            5272             TST_BIT_OF ORGIN_MODE_SEL_WT090         ;
14429 0000248A 8900                   M           BT      ORGIN_MODE_SEL_WT090
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   154
PROGRAM NAME =

14430 0000248C 9305              5273             MOV.W   #1,R3                           ;待機点位置決め
14431 0000248E                   5274     ORGIN_MODE_SEL_WT090:                           ;
14432 0000248E D106              5275             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14433 00002490 2131              5276             MOV.W   R3,@R1                          ;
14434 00002492 222A              5277             XOR     R2,R2                           ;ﾚﾍﾞﾙ
14435                            5278             M_BRA   ORGIN_MODE_SEL_WTEND            ;
14436 00002494 A012                   M           BRA     ORGIN_MODE_SEL_WTEND
14437 00002496 0009                   M           NOP
14438                            5279     ;       ====================================================
14439                            5280     
14440                            5281     
14441                                     ***** BEGIN-POOL *****
14442 00002498 8000                       DATA FOR SOURCE-LINE 5270
14443 0000249A 0001                       DATA FOR SOURCE-LINE 5273
14444 0000249C 00000000                   DATA FOR SOURCE-LINE 5235
14445 000024A0 00000000                   DATA FOR SOURCE-LINE 5262
14446 000024A4 00000000                   DATA FOR SOURCE-LINE 5268
14447 000024A8 00000000                   DATA FOR SOURCE-LINE 5275
14448                                     ***** END-POOL *****
14449 000024AC                   5282     ORGIN_MODE_SEL_WT100:
14450 000024AC D106              5283             MOV.L   #_WPAR_ORGMOD2_TIM,R1           ;
14451 000024AE 6211              5284             MOV.W   @R1,R2                          ;
14452 000024B0 2228              5285             TST     R2,R2                           ;
14453                            5286             TST_BIT_OF ORGIN_MODE_SEL_WTEND         ;
14454 000024B2 8903                   M           BT      ORGIN_MODE_SEL_WTEND
14455                            5287     
14456                            5288     
14457                            5289             MEM1_BIT0_TO_BIT7_ORSET MEM=_ORGIN_MOD2_START_FLG,LG=W,BIT=BIT0,WKREG=R1        ;
14458 000024B4 D105                   M           MOV.L   #_ORGIN_MOD2_START_FLG,R1               ;
14459 000024B6 6011                   M           MOV.W   @R1,R0          ;
14460 000024B8 CB01                   M           OR      #BIT0,R0                ;
14461 000024BA 2101                   M           MOV.W   R0,@R1          ;
14462                            5290     
14463                            5291     
14464 000024BC                   5292     ORGIN_MODE_SEL_WTEND:
14465 000024BC D104              5293             MOV.L   #_ORGIN_MOD2_CHKTIM,R1  ;
14466 000024BE 2121              5294             MOV.W   R2,@R1                  ;
14467 000024C0 6023              5295             MOV     R2,R0                   ;
14468                            5296     
14469                            5297             SUB_END
14470                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14471 000024C2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14472                            5298             M_RTS
14473 000024C4 000B                   M           RTS                             ;RTSの後ろの
14474 000024C6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14475                            5299     
14476                            5300             .EXPORT _ORGIN_MODE_FLG_CLR     ;
14477                                     ***** BEGIN-POOL *****
14478 000024C8 00000000                   DATA FOR SOURCE-LINE 5283
14479 000024CC 00000000                   DATA FOR SOURCE-LINE 5289
14480 000024D0 00000000                   DATA FOR SOURCE-LINE 5293
14481                                     ***** END-POOL *****
14482 000024D4                   5301     _ORGIN_MODE_FLG_CLR:
14483                            5302             SUB_START
14484 000024D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
14485                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14486 000024D6 200A              5303             XOR     R0,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   155
PROGRAM NAME =

14487 000024D8 D102              5304             MOV.L   #_ORGIN_MOD2_START_FLG,R1       ;
14488 000024DA 2101              5305             MOV.W   R0,@R1                          ;
14489                            5306             SUB_END
14490                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14491 000024DC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14492                            5307             M_RTS
14493 000024DE 000B                   M           RTS                             ;RTSの後ろの
14494 000024E0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14495                            5308     
14496                            5309     ;       ***********************************
14497                            5310     ;       ***                             ***
14498                            5311     ;       ***     2015-10-13              ***
14499                            5312     ;       ***                             ***
14500                            5313     ;       ***********************************
14501                            5314     ;       ANS R0=0 START // ELSE WAIT
14502                            5315     ;       レベルタイプのみ
14503                                     ***** BEGIN-POOL *****
14504 000024E2 0000                       ALIGNMENT CODE
14505 000024E4 00000000                   DATA FOR SOURCE-LINE 5304
14506                                     ***** END-POOL *****
14507 000024E8                   5316     _ORGIN_MODE_SEL_START:
14508                            5317             SUB_START
14509 000024E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
14510                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14511                            5318     
14512 000024EA D109              5319             MOV.L   #_MODE_SEL,R1           ;
14513 000024EC 6011              5320             MOV.W   @R1,R0                  ;
14514 000024EE C840              5321             TST     #_W1DUP,R0              ;
14515                            5322             TST_BIT_OF ORGIN_MODE_SEL_STEND ;
14516 000024F0 8908                   M           BT      ORGIN_MODE_SEL_STEND
14517                            5323     
14518 000024F2 233A              5324             XOR     R3,R3                           ;(ｻｰﾁ)
14519 000024F4 D107              5325             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
14520 000024F6 6011              5326             MOV.W   @R1,R0                          ;
14521 000024F8 9407              5327             MOV.W   #BIT15,R4                       ;
14522 000024FA 2048              5328             TST     R4,R0                           ;
14523                            5329             TST_BIT_OF ORGIN_MODE_SEL_ST090         ;
14524 000024FC 8900                   M           BT      ORGIN_MODE_SEL_ST090
14525 000024FE 9305              5330             MOV.W   #1,R3                           ;待機点位置決め
14526 00002500                   5331     ORGIN_MODE_SEL_ST090:                           ;
14527 00002500 D105              5332             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14528 00002502 2131              5333             MOV.W   R3,@R1                          ;
14529 00002504                   5334     ORGIN_MODE_SEL_STEND:
14530                            5335     
14531                            5336             SUB_END
14532                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14533 00002504 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14534                            5337             M_RTS
14535 00002506 000B                   M           RTS                             ;RTSの後ろの
14536 00002508 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14537                            5338     
14538                            5339     
14539                            5340     ;       ***********************************
14540                            5341     ;       ***                             ***
14541                            5342     ;       ***     2006-07-28              ***
14542                            5343     ;       ***     ﾓｰﾄﾞ判定・起動          ***
14543                            5344     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   156
PROGRAM NAME =

14544                            5345     ;       00:EXIT
14545                            5346     ;       55:起動
14546                            5347     ;       FF:WAIT
14547                                     ***** BEGIN-POOL *****
14548 0000250A 8000                       DATA FOR SOURCE-LINE 5327
14549 0000250C 0001                       DATA FOR SOURCE-LINE 5330
14550 0000250E 0000                       ALIGNMENT CODE
14551 00002510 00000000                   DATA FOR SOURCE-LINE 5319
14552 00002514 00000000                   DATA FOR SOURCE-LINE 5325
14553 00002518 00000000                   DATA FOR SOURCE-LINE 5332
14554                                     ***** END-POOL *****
14555 0000251C                   5348     _ORGIN_MODE_START_WAIT:
14556                            5349             SUB_START
14557 0000251C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14558                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14559 0000251E D10C              5350             MOV.L   #_MODE_SEL,R1           ;
14560 00002520 6011              5351             MOV.W   @R1,R0                  ;
14561 00002522 C840              5352             TST     #_W1DUP,R0              ;
14562                            5353             TST_BIT_OF ORGIN_MODE_ST_WT_NOT ;
14563 00002524 892C                   M           BT      ORGIN_MODE_ST_WT_NOT
14564                            5354     
14565 00002526 D10B              5355             MOV.L   #_ORGIN_MOD2_START_FLG,R1       ;
14566 00002528 6011              5356             MOV.W   @R1,R0                          ;
14567 0000252A 2008              5357             TST     R0,R0                           ;
14568                            5358             TST_BIT_OF ORGIN_MODE_ST_WT_NOT         ;
14569 0000252C 8928                   M           BT      ORGIN_MODE_ST_WT_NOT
14570                            5359     
14571 0000252E D10A              5360             MOV.L   #_ORGIN_MOD2_CHKTIM,R1  ;//2.0sec
14572 00002530 6211              5361             MOV.W   @R1,R2                  ;
14573 00002532 2228              5362             TST     R2,R2                   ;
14574                            5363             TST_BIT_OF ORGIN_MODE_ST_WT100  ;TIME UP 2.0
14575 00002534 8916                   M           BT      ORGIN_MODE_ST_WT100
14576 00002536 72FF              5364             ADD     #-1,R2
14577 00002538 2121              5365             MOV.W   R2,@R1
14578                            5366     
14579 0000253A D108              5367             MOV.L   #_BTTN_FLG,R1                   ;
14580 0000253C 6011              5368             MOV.W   @R1,R0                          ;
14581 0000253E C804              5369             TST     #BIT2,R0                        ;両手ON
14582                            5370             TST_BIT_ON ORGIN_MODE_ST_WT_WAIT        ;YES
14583 00002540 8B1B                   M           BF      ORGIN_MODE_ST_WT_WAIT
14584                            5371     
14585 00002542 9003              5372             MOV.W   #1,R0                           ;ﾁｮﾝ押し
14586 00002544 D106              5373             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14587 00002546 2101              5374             MOV.W   R0,@R1                          ;
14588                            5375             M_BRA   ORGIN_MODE_ST_WT_START          ;
14589 00002548 A014                   M           BRA     ORGIN_MODE_ST_WT_START
14590 0000254A 0009                   M           NOP
14591                            5376     
14592                                     ***** BEGIN-POOL *****
14593 0000254C 0001                       DATA FOR SOURCE-LINE 5372
14594 0000254E 0000                       ALIGNMENT CODE
14595 00002550 00000000                   DATA FOR SOURCE-LINE 5350
14596 00002554 00000000                   DATA FOR SOURCE-LINE 5355
14597 00002558 00000000                   DATA FOR SOURCE-LINE 5360
14598 0000255C 00000000                   DATA FOR SOURCE-LINE 5367
14599 00002560 00000000                   DATA FOR SOURCE-LINE 5373
14600                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   157
PROGRAM NAME =

14601 00002564                   5377     ORGIN_MODE_ST_WT100                             ;
14602 00002564 200A              5378             XOR     R0,R0                           ;長い押し
14603 00002566 D102              5379             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14604 00002568 2101              5380             MOV.W   R0,@R1                          ;
14605                            5381             M_BRA   ORGIN_MODE_ST_WT_START          ;
14606 0000256A A003                   M           BRA     ORGIN_MODE_ST_WT_START
14607 0000256C 0009                   M           NOP
14608                            5382     
14609                            5383     
14610                                     ***** BEGIN-POOL *****
14611 0000256E 0000                       ALIGNMENT CODE
14612 00002570 00000000                   DATA FOR SOURCE-LINE 5379
14613                                     ***** END-POOL *****
14614 00002574                   5384     ORGIN_MODE_ST_WT_START          ;
14615 00002574 E055              5385             MOV.B   #H'55,R0                ;
14616                            5386             M_BRA   ORGIN_MODE_ST_WTEND     ;
14617 00002576 A004                   M           BRA     ORGIN_MODE_ST_WTEND
14618 00002578 0009                   M           NOP
14619 0000257A                   5387     ORGIN_MODE_ST_WT_WAIT           ;
14620 0000257A E0FF              5388             MOV.B   #-1,R0
14621                            5389             M_BRA   ORGIN_MODE_ST_WTEND     ;
14622 0000257C A001                   M           BRA     ORGIN_MODE_ST_WTEND
14623 0000257E 0009                   M           NOP
14624                            5390     
14625 00002580                   5391     ORGIN_MODE_ST_WT_NOT    ;
14626 00002580 200A              5392             XOR     R0,R0
14627 00002582                   5393     ORGIN_MODE_ST_WTEND     ;
14628                            5394             SUB_END
14629                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14630 00002582 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14631                            5395             M_RTS
14632 00002584 000B                   M           RTS                             ;RTSの後ろの
14633 00002586 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14634                            5396     
14635                            5397     ;       *******************************************
14636                            5398     ;       ***                                     ***
14637                            5399     ;       ***     通信側にも処理がある            ***
14638                            5400     ;       ***                                     ***
14639                            5401     ;       *******************************************
14640                            5402             .IMPORT         _RENEA_ERR_RESET_INI
14641                            5403             .IMPORT         _LT_RNA_REF_ERR_FLG1    ;BIT4/BIT6(ﾘﾆｻｾﾝｻ側のﾊｰﾄﾞ異常)
14642                            5404             .IMPORT         _API_X_PRO_SEND_START2  ;
14643                            5405     
14644 00002588                   5406     _RNA_SCIF_ERR_CLR1:
14645                            5407             SUB_START
14646 00002588 4F22                   M           STS.L   PR,@-R15                ;[必要]
14647                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14648                            5408             .AIF    0 EQ    0               ;
14649                            5409 C           .IMPORT _IN_RNA_REF_ERR_FLG1
14650                            5410 C           .IMPORT _IN_RNA_REF_ERR_FLG2
14651                            5411 C   
14652 0000258A D103              5412 C           MOV.L   #_LT_RNA_REF_ERR_FLG1,R1                ;BIT4/BIT6(ﾘﾆｻｾﾝｻ側のﾊｰﾄﾞ異常)
14653 0000258C 6011              5413 C           MOV.W   @R1,R0                                  ;
14654 0000258E C850              5414 C           TST     #(BIT6+BIT4),R0                         ;ﾘﾆｱ異常
14655                            5415 C           TST_BIT_ON RNA_SCIF_ERRCLR1_050                 ;
14656 00002590 8B04                   M           BF      RNA_SCIF_ERRCLR1_050
14657                            5416 C   
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   158
PROGRAM NAME =

14658                            5417 C   ;;;[温度ﾃｽﾄ用でﾘｾｯﾄ毎に読出たい時用]
14659                            5418 C   ;;;FAR_JSR      #_API_X_PRO_SEND_START2,R0              ;2015-10-15
14660                            5419 C   
14661                            5420 C           M_BRA   RNA_SCIF_ERRCLR1_100                    ;
14662 00002592 A00F                   M           BRA     RNA_SCIF_ERRCLR1_100
14663 00002594 0009                   M           NOP
14664                            5421 C   
14665                                 C   ***** BEGIN-POOL *****
14666 00002596 0000                   C   ALIGNMENT CODE
14667 00002598 00000000               C   DATA FOR SOURCE-LINE 5412
14668                                 C   ***** END-POOL *****
14669 0000259C                   5422 C   RNA_SCIF_ERRCLR1_050:
14670                            5423 C           FAR_JSR #_RNA_SCIF_ERR_CLR2,R0                  ;
14671 0000259C D003                   M           MOV.L   #_RNA_SCIF_ERR_CLR2,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14672 0000259E 400B                   M           JSR     @R0                     ;
14673 000025A0 0009                   M           NOP                                     ;
14674                            5424 C           FAR_JSR #_RENEA_ERR_RESET_INI,R0                ;
14675 000025A2 D003                   M           MOV.L   #_RENEA_ERR_RESET_INI,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14676 000025A4 400B                   M           JSR     @R0                     ;
14677 000025A6 0009                   M           NOP                                     ;
14678                            5425 C           M_BRA   RNA_SCIF_ERRCLR1_200                    ;
14679 000025A8 A007                   M           BRA     RNA_SCIF_ERRCLR1_200
14680 000025AA 0009                   M           NOP
14681                            5426 C   
14682                                 C   ***** BEGIN-POOL *****
14683 000025AC 00000000               C   DATA FOR SOURCE-LINE 5423
14684 000025B0 00000000               C   DATA FOR SOURCE-LINE 5424
14685                                 C   ***** END-POOL *****
14686 000025B4                   5427 C   RNA_SCIF_ERRCLR1_100:
14687                            5428 C   
14688                            5429 C           FAR_JSR #_RNA_SCIF_ERR_CLR2,R0
14689 000025B4 D002                   M           MOV.L   #_RNA_SCIF_ERR_CLR2,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14690 000025B6 400B                   M           JSR     @R0                     ;
14691 000025B8 0009                   M           NOP                                     ;
14692                            5430 C   
14693 000025BA                   5431 C   RNA_SCIF_ERRCLR1_200:
14694                            5432 C   
14695                            5433             .AENDI
14696                            5434             SUB_END
14697                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14698 000025BA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14699                            5435             M_RTS
14700 000025BC 000B                   M           RTS                             ;RTSの後ろの
14701 000025BE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14702                            5436     
14703                            5437             .EXPORT _CLRSQ206_BIT11
14704                            5438             .EXPORT _SETSQ206_BIT11
14705                            5439     
14706                                     ***** BEGIN-POOL *****
14707 000025C0 00000000                   DATA FOR SOURCE-LINE 5429
14708                                     ***** END-POOL *****
14709 000025C4                   5440     _CLRSQ206_BIT11:
14710                            5441             SUB_START
14711 000025C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
14712                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14713                            5442             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT11),WKRG1=R1,WKRG2=R
                                          4       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   159
PROGRAM NAME =

14714 000025C6 D104                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
14715 000025C8 6011                   M           MOV.W   @R1,R0          ;
14716 000025CA 9404                   M           MOV.W   #LWORD (~BIT11),R4      ;
14717 000025CC 2049                   M           AND     R4,R0           ;
14718 000025CE 2101                   M           MOV.W   R0,@R1          ;
14719                            5443             SUB_END
14720                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14721 000025D0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14722                            5444             M_RTS
14723 000025D2 000B                   M           RTS                             ;RTSの後ろの
14724 000025D4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14725                            5445     
14726                                     ***** BEGIN-POOL *****
14727 000025D6 F7FF                       DATA FOR SOURCE-LINE 5442
14728 000025D8 00000000                   DATA FOR SOURCE-LINE 5442
14729                                     ***** END-POOL *****
14730 000025DC                   5446     _SETSQ206_BIT11:
14731                            5447             SUB_START
14732 000025DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
14733                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14734                            5448             MEM1_BIT0_F_ORSET MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(BIT11),WKRG1=R1,WKRG2=R4
                                                  ;
14735 000025DE D104                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
14736 000025E0 6011                   M           MOV.W   @R1,R0          ;
14737 000025E2 9404                   M           MOV.W   #(BIT11),R4             ;
14738 000025E4 204B                   M           OR      R4,R0           ;
14739 000025E6 2101                   M           MOV.W   R0,@R1          ;
14740                            5449             SUB_END
14741                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14742 000025E8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14743                            5450             M_RTS
14744 000025EA 000B                   M           RTS                             ;RTSの後ろの
14745 000025EC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14746                            5451     
14747                            5452     
14748                            5453     
14749                            5454     
14750                            5455     ;       ---------------------------
14751                            5456     ;       ---     2007-01-16      ---
14752                            5457     ;       ---------------------------
14753                            5458     ;       ﾚﾍﾞﾙﾀｲﾌﾟのみ対象
14754                            5459     ;
14755                                     ***** BEGIN-POOL *****
14756 000025EE 0800                       DATA FOR SOURCE-LINE 5448
14757 000025F0 00000000                   DATA FOR SOURCE-LINE 5448
14758                                     ***** END-POOL *****
14759 000025F4                   5460     _DRV_START_KEP_WAIT
14760                            5461             SUB_START
14761 000025F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
14762                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14763                            5462     
14764                            5463     
14765                            5464     ;_BRK_SADOU_CHG 2015-09-06
14766                            5465     ;;;2015-09-06   MOV.L   #_MODE_SEL,R1                   ;
14767                            5466     ;;;2015-09-06   MOV.W   @R1,R0                          ;
14768                            5467     ;;;2015-09-06   TST     #_W1DUP,R0                      ;
14769                            5468     ;;;2015-09-06   TST_BIT_ON DRV_START_KEP_WAIT_NON       ;原点復帰は対象外
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   160
PROGRAM NAME =

14770                            5469     
14771 000025F6 D109              5470             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
14772 000025F8 6011              5471             MOV.W   @R1,R0                          ;
14773 000025FA 2008              5472             TST     R0,R0
14774                            5473             TST_BIT_ON DRV_START_KEP_WAIT_NON       ;手パルサも対象外
14775 000025FC 8B1C                   M           BF      DRV_START_KEP_WAIT_NON
14776                            5474     
14777 000025FE D108              5475             MOV.L   #_DRV_START_KEEP,R1             ;FLG
14778 00002600 6011              5476             MOV.W   @R1,R0                          ;
14779 00002602 C801              5477             TST     #BIT0,R0                        ;
14780                            5478             TST_BIT_ON DRV_START_KEP_WAIT_100       ;
14781 00002604 8B10                   M           BF      DRV_START_KEP_WAIT_100
14782                            5479     
14783                            5480     ;       --- OFF---
14784 00002606 D107              5481             MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
14785 00002608 6011              5482             MOV.W   @R1,R0                          ;
14786 0000260A 2008              5483             TST     R0,R0                           ;
14787                            5484             TST_BIT_OF DRV_START_KEP_WAIT_100
14788 0000260C 890C                   M           BT      DRV_START_KEP_WAIT_100
14789                            5485     
14790 0000260E 9003              5486             MOV.W   #BIT0,R0                        ;
14791 00002610 D103              5487             MOV.L   #_DRV_START_KEEP,R1             ;FLG
14792 00002612 2101              5488             MOV.W   R0,@R1                          ;
14793                            5489             M_BRA   DRV_START_KEP_WAIT_USE          ;
14794 00002614 A013                   M           BRA     DRV_START_KEP_WAIT_USE
14795 00002616 0009                   M           NOP
14796                            5490     
14797                                     ***** BEGIN-POOL *****
14798 00002618 0001                       DATA FOR SOURCE-LINE 5486
14799 0000261A 0000                       ALIGNMENT CODE
14800 0000261C 00000000                   DATA FOR SOURCE-LINE 5470
14801 00002620 00000000                   DATA FOR SOURCE-LINE 5475,5487
14802 00002624 00000000                   DATA FOR SOURCE-LINE 5481
14803                                     ***** END-POOL *****
14804 00002628                   5491     DRV_START_KEP_WAIT_100
14805 00002628 D102              5492             MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;「「「「ﾛｯｸ解除の遅延時間中?」」」
14806 0000262A 6011              5493             MOV.W   @R1,R0                          ;
14807 0000262C 2008              5494             TST     R0,R0                           ;
14808                            5495             TST_BIT_ON DRV_START_KEP_WAIT_USE       ;
14809 0000262E 8B06                   M           BF      DRV_START_KEP_WAIT_USE
14810                            5496     ;       -- 起動--
14811                            5497             M_BRA   DRV_START_KEP_WAIT_START
14812 00002630 A009                   M           BRA     DRV_START_KEP_WAIT_START
14813 00002632 0009                   M           NOP
14814                            5498     
14815                            5499     
14816                                     ***** BEGIN-POOL *****
14817 00002634 00000000                   DATA FOR SOURCE-LINE 5492
14818                                     ***** END-POOL *****
14819 00002638                   5500     DRV_START_KEP_WAIT_NON
14820 00002638 200A              5501             XOR     R0,R0                   ;
14821                            5502             M_BRA   DRV_START_KEP_WAIT_END  ;
14822 0000263A A008                   M           BRA     DRV_START_KEP_WAIT_END
14823 0000263C 0009                   M           NOP
14824 0000263E                   5503     DRV_START_KEP_WAIT_USE
14825 0000263E 9001              5504             MOV.W   #1,R0
14826                            5505             M_BRA   DRV_START_KEP_WAIT_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   161
PROGRAM NAME =

14827 00002640 A005                   M           BRA     DRV_START_KEP_WAIT_END
14828 00002642 0009                   M           NOP
14829                            5506     
14830                                     ***** BEGIN-POOL *****
14831 00002644 0001                       DATA FOR SOURCE-LINE 5504
14832                                     ***** END-POOL *****
14833 00002646                   5507     DRV_START_KEP_WAIT_START
14834 00002646 200A              5508             XOR     R0,R0                           ;
14835 00002648 D103              5509             MOV.L   #_DRV_START_KEEP,R1             ;FLG-CLR
14836 0000264A 2101              5510             MOV.W   R0,@R1                          ;
14837 0000264C 9002              5511             MOV.W   #H'55,R0                        ;
14838 0000264E                   5512     DRV_START_KEP_WAIT_END
14839                            5513             SUB_END
14840                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14841 0000264E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14842                            5514             M_RTS
14843 00002650 000B                   M           RTS                             ;RTSの後ろの
14844 00002652 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14845                            5515     
14846                            5516     ;;      ---------------------------
14847                            5517     ;;      ---     2007-01-16      ---
14848                            5518     ;;      ---------------------------
14849                            5519     ;;_DRV_START_KEP_WAIT
14850                            5520     ;;      SUB_START
14851                            5521     ;;
14852                            5522     ;;      -------- [MC 2010-10-26　追加 MC機構のﾌﾞﾚｰｷ対応　1/2]
14853                            5523     ;;      MOV.L   #_CB_SEQ_CB_SEL341,R1           ;2010-10-26
14854                            5524     ;;      MOV.W   @R1,R0                          ;MCでは準備完了は遅らせない
14855                            5525     ;;      MOV.W   #BIT8,R4                        ;その代わりパルス出力を遅らせる0.2秒だから
14856                            5526     ;;      TST     R4,R0
14857                            5527     ;;      TST_BIT_ON DRV_START_KEP_WAIT_050       ;原点復帰でもﾊﾟﾙｽ出力を遅らせる
14858                            5528     ;;
14859                            5529     ;;      MOV.L   #_MODE_SEL,R1                   ;
14860                            5530     ;;      MOV.W   @R1,R0                          ;
14861                            5531     ;;      TST     #_W1DUP,R0                      ;
14862                            5532     ;;      TST_BIT_ON DRV_START_KEP_WAIT_NON       ;原点復帰は対象外
14863                            5533     ;;
14864                            5534     ;;      MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
14865                            5535     ;;      MOV.W   @R1,R0                          ;
14866                            5536     ;;      TST     R0,R0
14867                            5537     ;;      TST_BIT_ON DRV_START_KEP_WAIT_NON       ;手パルサも対象外
14868                            5538     ;;
14869                            5539     ;;DRV_START_KEP_WAIT_050
14870                            5540     ;;
14871                            5541     ;;
14872                            5542     ;;      MOV.L   #_DRV_START_KEEP,R1             ;FLG
14873                            5543     ;;      MOV.W   @R1,R0                          ;
14874                            5544     ;;      TST     #BIT0,R0                        ;
14875                            5545     ;;      TST_BIT_ON DRV_START_KEP_WAIT_100       ;
14876                            5546     ;;
14877                            5547     ;;      --- OFF---
14878                            5548     ;;      MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
14879                            5549     ;;      MOV.W   @R1,R0                          ;
14880                            5550     ;;      TST     R0,R0                           ;
14881                            5551     ;;      TST_BIT_OF DRV_START_KEP_WAIT_100
14882                            5552     ;;
14883                            5553     ;;      MOV.W   #BIT0,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   162
PROGRAM NAME =

14884                            5554     ;;      MOV.L   #_DRV_START_KEEP,R1             ;FLG
14885                            5555     ;;      MOV.W   R0,@R1                          ;
14886                            5556     ;;      M_BRA   DRV_START_KEP_WAIT_USE          ;
14887                            5557     ;;
14888                            5558     ;;DRV_START_KEP_WAIT_100
14889                            5559     ;;      MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
14890                            5560     ;;      MOV.W   @R1,R0                          ;
14891                            5561     ;;      TST     R0,R0                           ;
14892                            5562     ;;      TST_BIT_ON DRV_START_KEP_WAIT_USE       ;
14893                            5563     ;;      -- 起動--
14894                            5564     ;;      M_BRA   DRV_START_KEP_WAIT_START
14895                            5565     ;;
14896                            5566     ;;
14897                            5567     ;;DRV_START_KEP_WAIT_NON
14898                            5568     ;;      XOR     R0,R0                   ;
14899                            5569     ;;      M_BRA   DRV_START_KEP_WAIT_END  ;
14900                            5570     ;;DRV_START_KEP_WAIT_USE
14901                            5571     ;;      MOV.W   #1,R0
14902                            5572     ;;      M_BRA   DRV_START_KEP_WAIT_END
14903                            5573     ;;
14904                            5574     ;;DRV_START_KEP_WAIT_START
14905                            5575     ;;      XOR     R0,R0                           ;
14906                            5576     ;;      MOV.L   #_DRV_START_KEEP,R1             ;FLG-CLR
14907                            5577     ;;      MOV.W   R0,@R1                          ;
14908                            5578     ;;      MOV.W   #H'55,R0                        ;
14909                            5579     ;;DRV_START_KEP_WAIT_END
14910                            5580     ;;      SUB_END
14911                            5581     ;;      M_RTS
14912                            5582     
14913                            5583     
14914                            5584     ;       ---------------------------
14915                            5585     ;       ---     2007-01-16      ---
14916                            5586     ;       ---------------------------
14917                                     ***** BEGIN-POOL *****
14918 00002654 0055                       DATA FOR SOURCE-LINE 5511
14919 00002656 0000                       ALIGNMENT CODE
14920 00002658 00000000                   DATA FOR SOURCE-LINE 5509
14921                                     ***** END-POOL *****
14922 0000265C                   5587     _START_SFTY_LOCK_CLR
14923                            5588             SUB_START
14924 0000265C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14925                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14926 0000265E 200A              5589             XOR     R0,R0
14927                            5590     
14928 00002660 D103              5591             MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;ﾛｯｸ釈放の遅延時間
14929 00002662 2101              5592             MOV.W   R0,@R1                  ;
14930                            5593     
14931                            5594     ;_BRK_SADOU_CHG 2015-09-06
14932                            5595     ;;;2015-09-06廃止       MOV.L   #_SFTY_LOCK_DLYTM,R1    ;位置決め完了の遅延時間
14933                            5596     ;;;2015-09-06廃止       MOV.W   R0,@R1                  ;
14934                            5597     
14935                            5598     ;;;2015-09-06廃止       MOV.L   #_RDY_SFTY_LOCK,R1      ;FLG
14936                            5599     ;;;2015-09-06廃止       MOV.W   R0,@R1                  ;
14937                            5600     
14938 00002664 D103              5601             MOV.L   #_DRV_START_KEEP,R1     ;FLG
14939 00002666 2101              5602             MOV.W   R0,@R1                  ;
14940                            5603     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   163
PROGRAM NAME =

14941                            5604             SUB_END
14942                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14943 00002668 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14944                            5605             M_RTS
14945 0000266A 000B                   M           RTS                             ;RTSの後ろの
14946 0000266C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14947                            5606     
14948                            5607     
14949                            5608     
14950                            5609     ;       ***********************************
14951                            5610     ;       ***                             ***
14952                            5611     ;       ***     2007-02-05              ***
14953                            5612     ;       ***     運転完了、中断時        ***
14954                            5613     ;       ***     遮光遅延を働かせる      ***
14955                            5614     ;       ***                             ***
14956                            5615     ;       ***********************************
14957                            5616     ;2015-09-06_BRK_SADOU_CHG EQ 1
14958                            5617     ;;廃止_SFTY_DLY_SET1                            ;安一専用
14959                            5618     ;;廃止  SUB_START
14960                            5619     ;;廃止  MOV.L   #_PAR_SELF_WAIT_TM,R1   ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの時間
14961                            5620     ;;廃止  MOV.W   @R1,R0                  ;
14962                            5621     ;;廃止
14963                            5622     ;;廃止  MOV.L   #_PAR_SLOCK_DLY2,R1     ;
14964                            5623     ;;廃止  MOV.W   @R1,R1                  ;
14965                            5624     ;;廃止  ADD     R1,R0                   ;
14966                            5625     ;;廃止
14967                            5626     ;;廃止  MOV.L   #_SFTY_LOCK_DLYTM,R1    ;
14968                            5627     ;;廃止  MOV.W   R0,@R1                  ;(上昇ﾎｰﾙﾄﾞ無効)
14969                            5628     ;;廃止  SUB_END
14970                            5629     ;;廃止  M_RTS
14971                            5630     ;;廃止
14972                            5631     ;;廃止_SFTY_DLY_SET2
14973                            5632     ;;廃止  SUB_START
14974                            5633     ;;廃止  MOV.L   #_PAR_SELF_WAIT_TM,R1   ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの時間
14975                            5634     ;;廃止  MOV.W   @R1,R0                  ;
14976                            5635     ;;廃止  MOV.L   #_SFTY_LOCK_DLYTM,R1    ;
14977                            5636     ;;廃止  MOV.W   R0,@R1                  ;
14978                            5637     ;;廃止  SUB_END
14979                            5638     ;;廃止  M_RTS
14980                            5639     ;;廃止; ------このNOP4がないと変になる2007-02-26-----------
14981                            5640     ;;廃止  NOP
14982                            5641     ;;廃止  NOP
14983                            5642     ;;廃止  NOP
14984                            5643     ;;廃止  NOP
14985                            5644     
14986                            5645     ;       *******************************************
14987                            5646     ;       ***                                     ***
14988                            5647     ;       ***     ORGIN DIRECT CHECK              ***
14989                            5648     ;       ***     2008-04-28　180度近辺           ***
14990                            5649     ;       ***     2008-05-07  181はパス           ***
14991                            5650     ;       *******************************************
14992                            5651     ;       179,180でON
14993                            5652     ;       178,180,181以外でOFF
14994                            5653     
14995                                     ***** BEGIN-POOL *****
14996 0000266E 0000                       ALIGNMENT CODE
14997 00002670 00000000                   DATA FOR SOURCE-LINE 5591
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   164
PROGRAM NAME =

14998 00002674 00000000                   DATA FOR SOURCE-LINE 5601
14999                                     ***** END-POOL *****
15000          000006FE          5654     _EQ_ORG_ONDIG   .EQU    179*10  ;
15001          00000708          5655     _EQ_ORG_OFDIG   .EQU    180*10  ;
15002          0000000A          5656     _EQ_ORG_HIS     .EQU    10      ;
15003                            5657     
15004 00002678                   5658             .ALIGN  4                               ;2008-05-07
15005 00002678                   5659     _ORGIN_180CHK
15006                            5660             SUB_START
15007 00002678 4F22                   M           STS.L   PR,@-R15                ;[必要]
15008                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15009                            5661     
15010 0000267A D408              5662             MOV.L   #_INC_ENC360,R4                                 ;//360.0度(ｴﾝｺｰﾀﾞは表示と
                                          同じ)
15011 0000267C 6241              5663             MOV.W   @R4,R2                                          ;
15012                            5664     
15013 0000267E 910A              5665             MOV.W   #_EQ_ORG_ONDIG,R1                                       ;179~181
15014 00002680 930A              5666             MOV.W   #_EQ_ORG_OFDIG,R3                                       ;
15015                            5667             DIG_AREA_CHK STREG=R1,EDREG=R3,PVREG=R2,ANSREG=R0       ;
15016 00002682 3313                   M           CMP/GE  R1,R3
15017 00002684 8B0C                   M           BF      JMP0100001
15018                                 M   ;       === 0度をはさなまい===
15019 00002686 200A                   M           XOR     R0,R0
15020 00002688 3213                   M           CMP/GE  R1,R2           ;
15021 0000268A 8B0F                   M           BF      JMP0200001                      ; PV<SV1
15022 0000268C 3323                   M           CMP/GE  R2,R3           ;
15023 0000268E 8B0D                   M           BF      JMP0200001                      ; SV2<PV2 (1)
15024 00002690 E001                   M           MOV     #1,R0           ;
15025                                 M           M_BRA   JMP0200001                      ;
15026 00002692 A00B                   M           BRA     JMP0200001
15027 00002694 0009                   M           NOP
15028                                 M   
15029                                 M   ;       ==== ０度をはさむ====
15030                                 M   ***** BEGIN-POOL *****
15031 00002696 06FE                   M   DATA FOR SOURCE-LINE 5665
15032 00002698 0708                   M   DATA FOR SOURCE-LINE 5666
15033 0000269A 0000                   M   ALIGNMENT CODE
15034 0000269C 00000000               M   DATA FOR SOURCE-LINE 5662
15035                                 M   ***** END-POOL *****
15036 000026A0                        M   JMP0100001:
15037 000026A0 E001                   M           MOV     #1,R0
15038 000026A2 3213                   M           CMP/GE  R1,R2
15039 000026A4 8902                   M           BT      JMP0200001                      ;SV1=<PV=<360
15040 000026A6 3323                   M           CMP/GE  R2,R3           ;
15041 000026A8 8900                   M           BT      JMP0200001                      ;
15042 000026AA 200A                   M           XOR     R0,R0           ;
15043 000026AC                        M   JMP0200001:
15044                            5668     
15045 000026AC 2008              5669             TST     R0,R0                                           ;
15046                            5670             TST_BIT_OF ORGIN_180CK_100                              ;範囲内ﾋｽﾃﾘｼｽ中
15047 000026AE 8911                   M           BT      ORGIN_180CK_100
15048                            5671     
15049                            5672             MEM1_BIT0_F_ORSET MEM=_ORIGN_180ARA_FLG,LG=W,BIT=BIT5,WKRG1=R4,WKRG2=R1
15050 000026B0 D406                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
15051 000026B2 6041                   M           MOV.W   @R4,R0          ;
15052 000026B4 9108                   M           MOV.W   #BIT5,R1                ;
15053 000026B6 201B                   M           OR      R1,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   165
PROGRAM NAME =

15054 000026B8 2401                   M           MOV.W   R0,@R4          ;
15055                            5673             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=BIT5,WKRG1=R4,WKRG2=R1
15056 000026BA D405                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
15057 000026BC 6041                   M           MOV.W   @R4,R0          ;
15058 000026BE 9103                   M           MOV.W   #BIT5,R1                ;
15059 000026C0 201B                   M           OR      R1,R0           ;
15060 000026C2 2401                   M           MOV.W   R0,@R4          ;
15061                            5674     
15062                            5675     ;;;;    ------- 2009-03-19 不具合(だめ) S05p~現在までの不具合 S05vにて修正
15063                            5676     ;;;;    MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15064                            5677     ;;;;    MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15065                            5678     
15066                            5679     
15067                            5680             M_BRA   ORGIN_180CK_300                                 ;
15068 000026C4 A02E                   M           BRA     ORGIN_180CK_300
15069 000026C6 0009                   M           NOP
15070                            5681     
15071                            5682     
15072                                     ***** BEGIN-POOL *****
15073 000026C8 0020                       DATA FOR SOURCE-LINE 5672,5673
15074 000026CA 0000                       ALIGNMENT CODE
15075 000026CC 00000000                   DATA FOR SOURCE-LINE 5672
15076 000026D0 00000000                   DATA FOR SOURCE-LINE 5673
15077                                     ***** END-POOL *****
15078 000026D4                   5683     ORGIN_180CK_100
15079 000026D4 910A              5684             MOV.W   #_EQ_ORG_ONDIG-_EQ_ORG_HIS,R1                   ;178~182
15080 000026D6 930A              5685             MOV.W   #_EQ_ORG_OFDIG+_EQ_ORG_HIS,R3                   ;
15081                            5686             DIG_AREA_CHK STREG=R1,EDREG=R3,PVREG=R2,ANSREG=R0       ;
15082 000026D8 3313                   M           CMP/GE  R1,R3
15083 000026DA 8B09                   M           BF      JMP0100002
15084                                 M   ;       === 0度をはさなまい===
15085 000026DC 200A                   M           XOR     R0,R0
15086 000026DE 3213                   M           CMP/GE  R1,R2           ;
15087 000026E0 8B0C                   M           BF      JMP0200002                      ; PV<SV1
15088 000026E2 3323                   M           CMP/GE  R2,R3           ;
15089 000026E4 8B0A                   M           BF      JMP0200002                      ; SV2<PV2 (1)
15090 000026E6 E001                   M           MOV     #1,R0           ;
15091                                 M           M_BRA   JMP0200002                      ;
15092 000026E8 A008                   M           BRA     JMP0200002
15093 000026EA 0009                   M           NOP
15094                                 M   
15095                                 M   ;       ==== ０度をはさむ====
15096                                 M   ***** BEGIN-POOL *****
15097 000026EC 06F4                   M   DATA FOR SOURCE-LINE 5684
15098 000026EE 0712                   M   DATA FOR SOURCE-LINE 5685
15099                                 M   ***** END-POOL *****
15100 000026F0                        M   JMP0100002:
15101 000026F0 E001                   M           MOV     #1,R0
15102 000026F2 3213                   M           CMP/GE  R1,R2
15103 000026F4 8902                   M           BT      JMP0200002                      ;SV1=<PV=<360
15104 000026F6 3323                   M           CMP/GE  R2,R3           ;
15105 000026F8 8900                   M           BT      JMP0200002                      ;
15106 000026FA 200A                   M           XOR     R0,R0           ;
15107 000026FC                        M   JMP0200002:
15108 000026FC 2008              5687             TST     R0,R0                                           ;
15109                            5688             TST_BIT_ON ORGIN_180CK_200                              ;範囲内ﾋｽﾃﾘｼｽ中
15110 000026FE 8B11                   M           BF      ORGIN_180CK_200
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   166
PROGRAM NAME =

15111                            5689     
15112                            5690             MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15113 00002700 D406                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
15114 00002702 6041                   M           MOV.W   @R4,R0          ;
15115 00002704 9108                   M           MOV.W   #LWORD (~BIT5),R1       ;
15116 00002706 2019                   M           AND     R1,R0           ;
15117 00002708 2401                   M           MOV.W   R0,@R4          ;
15118                            5691             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15119 0000270A D405                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
15120 0000270C 6041                   M           MOV.W   @R4,R0          ;
15121 0000270E 9103                   M           MOV.W   #LWORD (~BIT5),R1       ;
15122 00002710 2019                   M           AND     R1,R0           ;
15123 00002712 2401                   M           MOV.W   R0,@R4          ;
15124                            5692             M_BRA   ORGIN_180CK_300                                 ;
15125 00002714 A006                   M           BRA     ORGIN_180CK_300
15126 00002716 0009                   M           NOP
15127                            5693     
15128                            5694     ;       --------- ﾋｽﾃﾘｼｽ中---
15129                                     ***** BEGIN-POOL *****
15130 00002718 FFDF                       DATA FOR SOURCE-LINE 5690,5691
15131 0000271A 0000                       ALIGNMENT CODE
15132 0000271C 00000000                   DATA FOR SOURCE-LINE 5690
15133 00002720 00000000                   DATA FOR SOURCE-LINE 5691
15134                                     ***** END-POOL *****
15135 00002724                   5695     ORGIN_180CK_200
15136                            5696     ;       ======== CPUA => CPUB DIRECTION===
15137                            5697             .AIF    0 EQ    0
15138                            5698             .AELSE
15139                            5699             MOV.L   #_SH4_ORG_DIR_REV,R1            ;原点復帰方向
15140                            5700             MOV.W   @R1,R0                          ;
15141                            5701             MOV.L   #_ORIGN_180ARA_FLG,R1           ;
15142                            5702             MOV.W   R0,@R1                          ;
15143                            5703             .AENDI
15144                            5704     
15145 00002724                   5705     ORGIN_180CK_300
15146                            5706     
15147                            5707     ;       ======== CPUB => CPUA DIRECTION===
15148                            5708             .AIF    0 EQ    0       ;
15149 00002724 D103              5709 C           MOV.L   #_ORIGN_180ARA_FLG,R1           ;
15150 00002726 6011              5710 C           MOV.W   @R1,R0                          ;
15151 00002728 D103              5711 C           MOV.L   #_SH4_ORG_DIR_REV,R1            ;原点復帰方向
15152 0000272A 2101              5712 C           MOV.W   R0,@R1                          ;
15153                            5713             .AELSE
15154                            5714             .AENDI
15155                            5715     
15156                            5716     
15157                            5717     
15158                            5718             SUB_END
15159                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15160 0000272C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15161                            5719             M_RTS
15162 0000272E 000B                   M           RTS                             ;RTSの後ろの
15163 00002730 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15164                            5720     
15165                            5721     ;       ***********************************
15166                            5722     ;       ***                             ***
15167                            5723     ;       ***     2008-11-11              ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   167
PROGRAM NAME =

15168                            5724     ;       ***                             ***
15169                            5725     ;       ***********************************
15170                            5726     ;       ﾘﾆｱｽｹｰﾙ異常で停止させない場合、ﾘｾｯﾄをｼｰｹﾝｽから行う
15171                            5727             .EXPORT _RNA_ERR_RSTCHK                 ;
15172                                     ***** BEGIN-POOL *****
15173 00002732 0000                       ALIGNMENT CODE
15174 00002734 00000000                   DATA FOR SOURCE-LINE 5709
15175 00002738 00000000                   DATA FOR SOURCE-LINE 5711
15176                                     ***** END-POOL *****
15177 0000273C                   5728             .ALIGN  4                               ;
15178 0000273C                   5729     _RNA_ERR_RSTCHK                                 ;
15179                            5730             SUB_START
15180 0000273C 4F22                   M           STS.L   PR,@-R15                ;[必要]
15181                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15182                            5731     
15183                            5732     
15184 0000273E D10C              5733             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
15185 00002740 6011              5734             MOV.W   @R1,R0                          ;
15186 00002742 D10C              5735             MOV.L   #_SQ_RNA_ALMRST_OLD,R1          ;
15187 00002744 6211              5736             MOV.W   @R1,R2                          ;
15188 00002746 2101              5737             MOV.W   R0,@R1                          ;
15189 00002748 220A              5738             XOR     R0,R2                           ;EDGE
15190 0000274A 2209              5739             AND     R0,R2                           ;ON EDGE
15191                            5740     
15192 0000274C D10A              5741             MOV.L   #_IN_PARAM_RNA_CHK,R1           ;1:ERRを見ない　特殊ﾊﾞｰｼﾞｮﾝ
15193 0000274E 6011              5742             MOV.W   @R1,R0                          ;
15194 00002750 2008              5743             TST     R0,R0                           ;
15195                            5744             TST_BIT_OF RNA_ERR_RSTCKEXT             ;
15196 00002752 8909                   M           BT      RNA_ERR_RSTCKEXT
15197                            5745     
15198 00002754 D109              5746             MOV.L   #_RNA_RESET_FLG,R1              ;(TIME-OUTを見ないだけ)
15199 00002756 6011              5747             MOV.W   @R1,R0                          ;
15200 00002758 2008              5748             TST     R0,R0                           ;
15201                            5749             TST_BIT_ON RNA_ERR_RSTCKEXT             ;
15202 0000275A 8B05                   M           BF      RNA_ERR_RSTCKEXT
15203                            5750     
15204 0000275C 9407              5751             MOV.W   #BIT12,R4                       ;
15205 0000275E 2248              5752             TST     R4,R2                           ;
15206                            5753             TST_BIT_OF RNA_ERR_RSTCKEXT             ;
15207 00002760 8902                   M           BT      RNA_ERR_RSTCKEXT
15208                            5754     
15209                            5755             FAR_JSR #_RNA_SCIF_ERR_CLR1,R0          ;(ﾊｰﾄﾞ異常があれば異常ｺﾏﾝﾄﾞを出力する)
15210 00002762 D007                   M           MOV.L   #_RNA_SCIF_ERR_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15211 00002764 400B                   M           JSR     @R0                     ;
15212 00002766 0009                   M           NOP                                     ;
15213                            5756     
15214                            5757     
15215 00002768                   5758     RNA_ERR_RSTCKEXT                ;
15216                            5759             SUB_END
15217                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15218 00002768 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15219                            5760             M_RTS
15220 0000276A 000B                   M           RTS                             ;RTSの後ろの
15221 0000276C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15222                            5761     
15223                            5762     
15224                            5763     ;       ***************************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   168
PROGRAM NAME =

15225                            5764     ;       ***                                             ***
15226                            5765     ;       ***     準備完了、未完了の遮光を急停止にする    ***
15227                            5766     ;       ***     このソフトでは停止にしない              ***
15228                            5767     ;       ***     MASKをやめる条件をつくるだけ            ***
15229                            5768     ;       ***     2012-09-25                              ***
15230                            5769     ;       ***************************************************
15231                                     ***** BEGIN-POOL *****
15232 0000276E 1000                       DATA FOR SOURCE-LINE 5751
15233 00002770 00000000                   DATA FOR SOURCE-LINE 5733
15234 00002774 00000000                   DATA FOR SOURCE-LINE 5735
15235 00002778 00000000                   DATA FOR SOURCE-LINE 5741
15236 0000277C 00000000                   DATA FOR SOURCE-LINE 5746
15237 00002780 00000000                   DATA FOR SOURCE-LINE 5755
15238                                     ***** END-POOL *****
15239 00002784                   5770             .ALIGN  4                               ;
15240 00002784                   5771     _MASK2_SAFTY_MAK:
15241                            5772             SUB_START
15242 00002784 4F22                   M           STS.L   PR,@-R15                ;[必要]
15243                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15244                            5773     
15245 00002786 D10B              5774             MOV.L   #(_PAR_MYUTING_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
15246 00002788 6011              5775             MOV.W   @R1,R0                                                  ;
15247 0000278A 8801              5776             CMP/EQ  #1,R0                                                   ;
15248 0000278C 8B1F              5777             BF      MASK2_SFYSTP500                                         ;ﾐｭｰﾃﾝｸﾞ選択外部SW
                                          を参照しない
15249                            5778     
15250 0000278E D10A              5779             MOV.L   #_SW_DEV_MASK_FLG,R1                                    ;
15251 00002790 6011              5780             MOV.W   @R1,R0                                                  ;
15252 00002792 C803              5781             TST     #(BIT1+BIT0),R0                                         ;
15253                            5782             TST_BIT_OF MASK2_SFYSTP400                                      ;安全装置の有効・
                                          無効ＳＷ兼ROMパラ含む
15254 00002794 8918                   M           BT      MASK2_SFYSTP400
15255                            5783     
15256 00002796 D109              5784             MOV.L   #_di2_cb_ctl2_dt,R1                                     ;
15257 00002798 6211              5785             MOV.W   @R1,R2                                                  ;
15258 0000279A 9409              5786             MOV.W   #_W2WT2,R4                                              ;BIT5
15259 0000279C 2249              5787             AND     R4,R2                                                   ;
15260 0000279E D108              5788             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15261 000027A0 2121              5789             MOV.W   R2,@R1                                                  ;
15262                            5790     
15263 000027A2 D108              5791             MOV.L   #_SELF_FLG,R1                                           ;//BIT0:ｾﾙﾌﾁｪｯｸ中
15264 000027A4 6011              5792             MOV.W   @R1,R0                                                  ;
15265 000027A6 C801              5793             TST     #BIT0,R0                                                ;
15266                            5794             TST_BIT_ON MASK2_SFYSTP500                                      ;
15267 000027A8 8B11                   M           BF      MASK2_SFYSTP500
15268                            5795     
15269 000027AA 9002              5796             MOV.W   #1,R0                                                   ;この時点である一
                                          部を安全一を除き準備完了中もEXQ停止
15270                            5797             M_BRA   MASK2_SFYSTP600                                         ;
15271 000027AC A010                   M           BRA     MASK2_SFYSTP600
15272 000027AE 0009                   M           NOP
15273                            5798     
15274                            5799     
15275                                     ***** BEGIN-POOL *****
15276 000027B0 0020                       DATA FOR SOURCE-LINE 5786
15277 000027B2 0001                       DATA FOR SOURCE-LINE 5796
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   169
PROGRAM NAME =

15278 000027B4 00000000                   DATA FOR SOURCE-LINE 5774
15279 000027B8 00000000                   DATA FOR SOURCE-LINE 5779
15280 000027BC 00000000                   DATA FOR SOURCE-LINE 5784
15281 000027C0 00000000                   DATA FOR SOURCE-LINE 5788
15282 000027C4 00000000                   DATA FOR SOURCE-LINE 5791
15283                                     ***** END-POOL *****
15284 000027C8                   5800     MASK2_SFYSTP400:
15285 000027C8 222A              5801             XOR     R2,R2
15286 000027CA D104              5802             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15287 000027CC 2121              5803             MOV.W   R2,@R1                                                  ;
15288                            5804     
15289 000027CE                   5805     MASK2_SFYSTP500:
15290 000027CE 200A              5806             XOR     R0,R0
15291 000027D0                   5807     MASK2_SFYSTP600:
15292 000027D0 D103              5808             MOV.L   #_UPMSK2_MOD,R1         ;//SWを0:参照しない,1:参照する
15293 000027D2 2101              5809             MOV.W   R0,@R1                  ;
15294                            5810     
15295 000027D4                   5811     MASK2_SFYSTPEXT:
15296                            5812     
15297                            5813             SUB_END
15298                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15299 000027D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15300                            5814             M_RTS
15301 000027D6 000B                   M           RTS                             ;RTSの後ろの
15302 000027D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15303                            5815     
15304                                     ***** BEGIN-POOL *****
15305 000027DA 0000                       ALIGNMENT CODE
15306 000027DC 00000000                   DATA FOR SOURCE-LINE 5802
15307 000027E0 00000000                   DATA FOR SOURCE-LINE 5808
15308                                     ***** END-POOL *****
15309 000027E4                   5816     _MASK2_SAFTY_SW_MOV:
15310                            5817             SUB_START
15311 000027E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
15312                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15313 000027E6 D103              5818             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15314 000027E8 6011              5819             MOV.W   @R1,R0                                                  ;
15315 000027EA D103              5820             MOV.L   #_UPMAK2_MOD_USE_SW,R1                                  ;//0,1(反映ﾀｲﾐﾝｸﾞ
                                          後)
15316 000027EC 2101              5821             MOV.W   R0,@R1                                                  ;
15317                            5822     
15318                            5823             SUB_END
15319                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15320 000027EE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15321                            5824             M_RTS
15322 000027F0 000B                   M           RTS                             ;RTSの後ろの
15323 000027F2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15324                            5825     
15325                            5826     
15326                            5827     
15327                            5828     
15328                            5829     
15329                            5830     ;       *******************************************
15330                            5831     ;       ***                                     ***
15331                            5832     ;       ***             2014-02-20              ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   170
PROGRAM NAME =

15332                            5833     ;       ***             SWによるﾓｰﾄﾞ制限        ***
15333                            5834     ;       *******************************************
15334                                     ***** BEGIN-POOL *****
15335 000027F4 00000000                   DATA FOR SOURCE-LINE 5818
15336 000027F8 00000000                   DATA FOR SOURCE-LINE 5820
15337                                     ***** END-POOL *****
15338 000027FC                   5835     _SFTY_MUTING_MODE_ERR:
15339                            5836             SUB_START
15340 000027FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
15341                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15342 000027FE D10C              5837             MOV.L   #(_PAR_MYUTERR_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
15343 00002800 6011              5838             MOV.W   @R1,R0
15344 00002802 8801              5839             CMP/EQ  #1,R0
15345 00002804 8B39              5840             BF      SFTY_MUTING_MODER_EXT           ;
15346                            5841     
15347 00002806 D10B              5842             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15348 00002808 6011              5843             MOV.W   @R1,R0                                                  ;
15349 0000280A D10B              5844             MOV.L   #_UPMSK2_MOD_IN_SWOLD,R1        ;//2014-02-20
15350 0000280C 6211              5845             MOV.W   @R1,R2                          ;
15351 0000280E 2101              5846             MOV.W   R0,@R1                          ;
15352 00002810 220A              5847             XOR     R0,R2                           ;
15353 00002812 2028              5848             TST     R2,R0                           ;
15354                            5849             TST_BIT_OF SFTY_MUTING_MODER_100        ;
15355 00002814 8916                   M           BT      SFTY_MUTING_MODER_100
15356                            5850     
15357                            5851     ;       ------無効から有効になった--------
15358 00002816 D109              5852             MOV.L   #_INP_MODE,R1                   ;
15359 00002818 6011              5853             MOV.W   @R1,R0                          ;
15360 0000281A 9407              5854             MOV.W   #_W1CNT+_W1OPT,R4               ;
15361 0000281C 2048              5855             TST     R4,R0                           ;
15362                            5856             TST_BIT_OF SFTY_MUTING_MODER_100        ;
15363 0000281E 8911                   M           BT      SFTY_MUTING_MODER_100
15364                            5857     
15365 00002820 9404              5858             MOV.W   #H'0018,R4                      ;
15366                            5859             FAR_JSR #_EMG_STOP,R0                   ;
15367 00002822 D007                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15368 00002824 400B                   M           JSR     @R0                     ;
15369 00002826 0009                   M           NOP                                     ;
15370                            5860             M_BRA   SFTY_MUTING_MODER_EXT           ;
15371 00002828 A027                   M           BRA     SFTY_MUTING_MODER_EXT
15372 0000282A 0009                   M           NOP
15373                            5861     
15374                            5862     
15375                                     ***** BEGIN-POOL *****
15376 0000282C 0018                       DATA FOR SOURCE-LINE 5854,5858
15377 0000282E 0000                       ALIGNMENT CODE
15378 00002830 00000000                   DATA FOR SOURCE-LINE 5837
15379 00002834 00000000                   DATA FOR SOURCE-LINE 5842
15380 00002838 00000000                   DATA FOR SOURCE-LINE 5844
15381 0000283C 00000000                   DATA FOR SOURCE-LINE 5852
15382 00002840 00000000                   DATA FOR SOURCE-LINE 5859
15383                                     ***** END-POOL *****
15384 00002844                   5863     SFTY_MUTING_MODER_100:
15385                            5864     
15386                            5865     ;       -------------------------------------------
15387                            5866     ;       ---             ﾓｰﾄﾞ制限                ---
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   171
PROGRAM NAME =

15388                            5867     ;       -------------------------------------------
15389                            5868     
15390 00002844 D104              5869             MOV.L   #_INP_MODE,R1                           ;
15391 00002846 6011              5870             MOV.W   @R1,R0                                  ;
15392 00002848 C808              5871             TST     #_W1CNT,R0                              ;
15393                            5872             TST_BIT_ON SFTY_MUTING_MODER_200                ;連続
15394 0000284A 8B09                   M           BF      SFTY_MUTING_MODER_200
15395                            5873     
15396 0000284C D103              5874             MOV.L   #_di1_cb_ctl1_dt,R1                     ;//
15397 0000284E 6011              5875             MOV.W   @R1,R0                                  ;
15398 00002850 C810              5876             TST     #_W1OPT,R0                              ;
15399                            5877             TST_BIT_ON SFTY_MUTING_MODER_200                ;ｵﾌﾟｼｮﾝ
15400 00002852 8B05                   M           BF      SFTY_MUTING_MODER_200
15401                            5878             M_BRA   SFTY_MUTING_MODER_EXT                   ;
15402 00002854 A011                   M           BRA     SFTY_MUTING_MODER_EXT
15403 00002856 0009                   M           NOP
15404                            5879     
15405                            5880     
15406                                     ***** BEGIN-POOL *****
15407 00002858 00000000                   DATA FOR SOURCE-LINE 5869
15408 0000285C 00000000                   DATA FOR SOURCE-LINE 5874
15409                                     ***** END-POOL *****
15410 00002860                   5881     SFTY_MUTING_MODER_200:
15411                            5882     
15412 00002860 D108              5883             MOV.L   #_UPMSK2_MOD_IN_SW,R1                   ;//BIT5=0/1(生　待機点2)
15413 00002862 6011              5884             MOV.W   @R1,R0                                  ;
15414 00002864 2008              5885             TST     R0,R0                                   ;
15415                            5886             TST_BIT_OF SFTY_MUTING_MODER_EXT                ;
15416 00002866 8908                   M           BT      SFTY_MUTING_MODER_EXT
15417                            5887     
15418                            5888             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB216,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R4
                                          ;
15419 00002868 D107                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB216,R1             ;
15420 0000286A 6011                   M           MOV.W   @R1,R0          ;
15421 0000286C 9408                   M           MOV.W   #(BIT4),R4              ;
15422 0000286E 204B                   M           OR      R4,R0           ;
15423 00002870 2101                   M           MOV.W   R0,@R1          ;
15424 00002872 9406              5889             MOV.W   #H'2164,R4
                                          ;
15425                            5890             FAR_JSR #_EMG_STOP,R0
                                          ;
15426 00002874 D005                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15427 00002876 400B                   M           JSR     @R0                     ;
15428 00002878 0009                   M           NOP                                     ;
15429                            5891     
15430 0000287A                   5892     SFTY_MUTING_MODER_EXT:
15431                            5893     
15432                            5894             SUB_END
15433                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15434 0000287A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15435                            5895             M_RTS
15436 0000287C 000B                   M           RTS                             ;RTSの後ろの
15437 0000287E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15438                            5896     
15439                            5897     
15440                            5898     
15441                            5899     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   172
PROGRAM NAME =

15442                            5900     
15443                            5901     ;       ***************************************************
15444                            5902     ;       ***                                             ***
15445                            5903     ;       ***                                             ***
15446                            5904     ;       ***             制動試験                        ***
15447                            5905     ;       ***                                             ***
15448                            5906     ;       ***             2010-08-20                      ***
15449                            5907     ;       ***                                             ***
15450                            5908     ;       ***************************************************
15451                            5909     ;       ﾊﾟﾗﾒｰﾀ21から
15452                            5910     ;_PAR_SELF_MATH_SEL
15453                            5911     ;       MOV.L   #_SELF_CHK_SEL,R1               ;
15454                            5912     ;       MOV.W   R2,@R1                          ;0:ｾﾙﾌﾁｪｯｸなし
15455                            5913     ;                                               ;BIT0=1:非常停止解除時
15456                            5914     ;                                               ;BIT1=1:動作終了時
15457                            5915     ;       MOV.L   #_SELF_CHK_MATHED,R1            ;
15458                            5916     ;       MOV.W   R3,@R1                          ;項目
15459                            5917     ;       _PAR_SELFCHK_POWSEL     .DATA.W         1       ;0:電源投入時のみPARAM21 1:PARAM21
                                          のﾀｲﾐﾝｸﾞ
15460                            5918     ;
15461                            5919     ;       1回ｾﾙﾌﾁｪｯｸが終了し、起動したら、通常のｾﾙﾌﾁｪｯｸ _SELF_CHK_SEL
15462                            5920     ;       MOV.L   #_SELF_LOCK_FLG,R1
15463                            5921     ;
15464                            5922     ;
15465                            5923     
15466                                     ***** BEGIN-POOL *****
15467 00002880 0010                       DATA FOR SOURCE-LINE 5888
15468 00002882 2164                       DATA FOR SOURCE-LINE 5889
15469 00002884 00000000                   DATA FOR SOURCE-LINE 5883
15470 00002888 00000000                   DATA FOR SOURCE-LINE 5888
15471 0000288C 00000000                   DATA FOR SOURCE-LINE 5890
15472                                     ***** END-POOL *****
15473 00002890                   5924             .ALIGN  4
15474 00002890                   5925     _BRKTST_CTRL:
15475                            5926             SUB_START
15476 00002890 4F22                   M           STS.L   PR,@-R15                ;[必要]
15477                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15478                            5927     
15479                            5928     ;       ------2011-09-14-------
15480                            5929             FAR_JSR #_BRKTST_INPUT_MAK,R0           ;
15481 00002892 D011                   M           MOV.L   #_BRKTST_INPUT_MAK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15482 00002894 400B                   M           JSR     @R0                     ;
15483 00002896 0009                   M           NOP                                     ;
15484                            5930     
15485                            5931     
15486 00002898 D110              5932             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15487 0000289A 6011              5933             MOV.W   @R1,R0                          ;
15488 0000289C C801              5934             TST     #BIT0,R0                        ;
15489                            5935             TST_BIT_ON BRKTST_CTL_100               ;
15490 0000289E 8B2B                   M           BF      BRKTST_CTL_100
15491                            5936                                                     ;BIT0=1 START
15492                            5937                                                     ;BIT1=0 起動待ち BIT1=1 起動完了
15493                            5938                                                     ;BIT2=0 起動中   BIT2=1 停止指令ON
15494                            5939                                                     ;BIT3=0 停止待ち BIT3=1 停止完了
15495                            5940                                                     ;BIT4=1:98%到達
15496                            5941                                                     ;BIT5=0:正常 1:速度到達しないまたは停止時
                                          間ｵｰﾊﾞした失敗
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   173
PROGRAM NAME =

15497                            5942                                                     ;BIT6=1 完了(指令OFF待ち)
15498                            5943                                                     ;BIT7=1 完了(このソフトでは使用しない)
15499                            5944     
15500                            5945     
15501                            5946     ;       ========== ILDE =========
15502                            5947     ;;;2011-09-14   MOV.L   #_CB_SEQ_CB_COM349,R1           ;
15503 000028A0 D10F              5948             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
15504 000028A2 6011              5949             MOV.W   @R1,R0                          ;
15505 000028A4 C801              5950             TST     #BIT0,R0                        ;349,0=制動(BRK)試験(TST)
15506                            5951             TST_BIT_OF BRKTST_CTL_090               ;OFF
15507 000028A6 8914                   M           BT      BRKTST_CTL_090
15508                            5952     
15509                            5953     ;       --- ｾﾙﾌﾁｪｯｸ有ならｾﾙﾌﾁｪｯｸ完了後に行う---
15510 000028A8 D10E              5954             MOV.L   #_SELF_CHK_SEL,R1               ;
15511 000028AA 6011              5955             MOV.W   @R1,R0                          ;
15512 000028AC 2008              5956             TST     R0,R0                           ;
15513                            5957             TST_BIT_OF BRKTST_CTL_050               ;SELFﾁｪｯｸ有効？ NO
15514 000028AE 8903                   M           BT      BRKTST_CTL_050
15515                            5958     
15516 000028B0 D10D              5959             MOV.L   #_SELF_FLG,R1                   ;//BIT0:ｾﾙﾌﾁｪｯｸ中  BIT7ｾﾙﾌﾁｪｯｸ正常完了
15517 000028B2 6011              5960             MOV.W   @R1,R0                          ;
15518 000028B4 C880              5961             TST     #BIT7,R0                        ;
15519                            5962             TST_BIT_OF BRKTST_CTL_090               ;ｾﾙﾌﾁｪｯｸ未完了
15520 000028B6 890C                   M           BT      BRKTST_CTL_090
15521 000028B8                   5963     BRKTST_CTL_050:
15522                            5964     
15523                            5965             FAR_JSR #_BRKTST_MODE_CONF,R0           ;
15524 000028B8 D00C                   M           MOV.L   #_BRKTST_MODE_CONF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15525 000028BA 400B                   M           JSR     @R0                     ;
15526 000028BC 0009                   M           NOP                                     ;
15527 000028BE 2008              5966             TST     R0,R0                           ;
15528                            5967             TST_BIT_ON BRKTST_CTL_090               ;R0!=0 EXIT
15529 000028C0 8B07                   M           BF      BRKTST_CTL_090
15530                            5968     
15531 000028C2 9008              5969             MOV.W   #BIT0,R0                        ;
15532 000028C4 D105              5970             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15533 000028C6 2101              5971             MOV.W   R0,@R1                          ;
15534                            5972                                                     ;BIT7が変化するときにCALL
15535 000028C8 D109              5973             MOV.L   #_CBSTS_SAVE_DAT,R1             ;2011-09-14 とりあえず1WORDで行う
15536 000028CA 2101              5974             MOV.W   R0,@R1                          ;2011-09-14
15537                            5975             .AIF    0 EQ    0       ;
15538                            5976 C           FAR_JSR #_CBA_STS_BKUP_SAVE,R0          ;2011-09-14
15539 000028CC D009                   M           MOV.L   #_CBA_STS_BKUP_SAVE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15540 000028CE 400B                   M           JSR     @R0                     ;
15541 000028D0 0009                   M           NOP                                     ;
15542                            5977             .AENDI
15543                            5978     
15544                            5979     
15545 000028D2                   5980     BRKTST_CTL_090:
15546                            5981             M_BRA   BRKTST_CTL_900                  ;
15547 000028D2 A0F5                   M           BRA     BRKTST_CTL_900
15548 000028D4 0009                   M           NOP
15549                            5982     
15550                            5983     
15551                            5984     ;       ------------- 動作中---------------
15552                                     ***** BEGIN-POOL *****
15553 000028D6 0001                       DATA FOR SOURCE-LINE 5969
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   174
PROGRAM NAME =

15554 000028D8 00000000                   DATA FOR SOURCE-LINE 5929
15555 000028DC 00000000                   DATA FOR SOURCE-LINE 5932,5970
15556 000028E0 00000000                   DATA FOR SOURCE-LINE 5948
15557 000028E4 00000000                   DATA FOR SOURCE-LINE 5954
15558 000028E8 00000000                   DATA FOR SOURCE-LINE 5959
15559 000028EC 00000000                   DATA FOR SOURCE-LINE 5965
15560 000028F0 00000000                   DATA FOR SOURCE-LINE 5973
15561 000028F4 00000000                   DATA FOR SOURCE-LINE 5976
15562                                     ***** END-POOL *****
15563 000028F8                   5985     BRKTST_CTL_100:
15564                            5986     ;;;2011-09-14   MOV.L   #_CB_SEQ_CB_COM349,R1           ;
15565 000028F8 D10E              5987             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
15566 000028FA 6011              5988             MOV.W   @R1,R0                          ;
15567 000028FC C801              5989             TST     #BIT0,R0                        ;349,0=制動(BRK)試験(TST)
15568                            5990             TST_BIT_ON BRKTST_CTL_200               ;
15569 000028FE 8B39                   M           BF      BRKTST_CTL_200
15570                            5991     
15571 00002900 D10D              5992             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15572 00002902 6011              5993             MOV.W   @R1,R0                          ;
15573 00002904 C960              5994             AND     #(BIT6+BIT5),R0                 ;
15574 00002906 8840              5995             CMP/EQ  #BIT6,R0                        ;異常がなくて正常完了している
15575 00002908 8922              5996             BT      BRKTST_CTL_150                  ;正常完了状態でのOFF
15576                            5997     
15577                            5998     ;;;;2011-09-14  TST     #BIT6,R0                ;
15578                            5999     ;;;;2011-09-14  TST_BIT_ON BRKTST_CTL_150       ;完了状態でのOFF
15579                            6000     
15580                            6001                                                     ;動作中にモードＯＦＦした、異常停止
15581 0000290A 9411              6002             MOV.W   #H'3490,R4                      ;2010-12-21
15582                            6003             FAR_JSR #_EMG_STOP,R0                   ;
15583 0000290C D00B                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15584 0000290E 400B                   M           JSR     @R0                     ;
15585 00002910 0009                   M           NOP                                     ;
15586                            6004     
15587 00002912 200A              6005             XOR     R0,R0                           ;
15588 00002914 D108              6006             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15589 00002916 2101              6007             MOV.W   R0,@R1                          ;
15590                            6008                                                     ;BIT7が変化するときにCALL
15591 00002918 D109              6009             MOV.L   #_CBSTS_SAVE_DAT,R1             ;2011-09-14 とりあえず1WORDで行う
15592 0000291A 2101              6010             MOV.W   R0,@R1                          ;2011-09-14
15593                            6011             .AIF    0 EQ    0       ;
15594                            6012 C           FAR_JSR #_CBA_STS_BKUP_SAVE,R0          ;2011-09-14
15595 0000291C D009                   M           MOV.L   #_CBA_STS_BKUP_SAVE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15596 0000291E 400B                   M           JSR     @R0                     ;
15597 00002920 0009                   M           NOP                                     ;
15598                            6013             .AENDI
15599                            6014     
15600 00002922 200A              6015             XOR     R0,R0
15601 00002924 D108              6016             MOV.L   #_INT_POS_CTL_FLAG,R1           ;
15602 00002926 2101              6017             MOV.W   R0,@R1
15603 00002928 D108              6018             MOV.L   #_MNWR_POS_CMD,R1               ;ﾊﾟﾙｽ払出即停止
15604 0000292A 2101              6019             MOV.W   R0,@R1
15605                            6020     
15606                            6021             M_BRA   BRKTST_CTL_190
15607 0000292C A018                   M           BRA     BRKTST_CTL_190
15608 0000292E 0009                   M           NOP
15609                            6022     
15610                            6023     ;       --------- 正常完了状態でoffされた----------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   175
PROGRAM NAME =

15611                                     ***** BEGIN-POOL *****
15612 00002930 3490                       DATA FOR SOURCE-LINE 6002
15613 00002932 0000                       ALIGNMENT CODE
15614 00002934 00000000                   DATA FOR SOURCE-LINE 5987
15615 00002938 00000000                   DATA FOR SOURCE-LINE 5992,6006
15616 0000293C 00000000                   DATA FOR SOURCE-LINE 6003
15617 00002940 00000000                   DATA FOR SOURCE-LINE 6009
15618 00002944 00000000                   DATA FOR SOURCE-LINE 6012
15619 00002948 00000000                   DATA FOR SOURCE-LINE 6016
15620 0000294C 00000000                   DATA FOR SOURCE-LINE 6018
15621                                     ***** END-POOL *****
15622 00002950                   6024     BRKTST_CTL_150:
15623                            6025     
15624 00002950 9008              6026             MOV.W   #BIT7,R0                        ;
15625 00002952 D105              6027             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15626 00002954 2101              6028             MOV.W   R0,@R1                          ;
15627                            6029                                                     ;BIT7が変化するときにCALL
15628 00002956 D105              6030             MOV.L   #_CBSTS_SAVE_DAT,R1             ;2011-09-14 とりあえず1WORDで行う
15629 00002958 2101              6031             MOV.W   R0,@R1                          ;2011-09-14
15630                            6032             .AIF    0 EQ    0       ;
15631                            6033 C           FAR_JSR #_CBA_STS_BKUP_SAVE,R0          ;2011-09-14
15632 0000295A D005                   M           MOV.L   #_CBA_STS_BKUP_SAVE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15633 0000295C 400B                   M           JSR     @R0                     ;
15634 0000295E 0009                   M           NOP                                     ;
15635                            6034             .AENDI
15636                            6035     
15637                            6036     
15638 00002960                   6037     BRKTST_CTL_190:
15639                            6038             M_BRA   BRKTST_CTL_900                  ;
15640 00002960 A0AE                   M           BRA     BRKTST_CTL_900
15641 00002962 0009                   M           NOP
15642                            6039     
15643                            6040     ;       -------------起動待ち(BIT1=0),起動中(),停止判定待ち-----------------
15644                                     ***** BEGIN-POOL *****
15645 00002964 0080                       DATA FOR SOURCE-LINE 6026
15646 00002966 0000                       ALIGNMENT CODE
15647 00002968 00000000                   DATA FOR SOURCE-LINE 6027
15648 0000296C 00000000                   DATA FOR SOURCE-LINE 6030
15649 00002970 00000000                   DATA FOR SOURCE-LINE 6033
15650                                     ***** END-POOL *****
15651 00002974                   6041     BRKTST_CTL_200:
15652 00002974 D102              6042             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15653 00002976 6011              6043             MOV.W   @R1,R0                          ;
15654                            6044     
15655 00002978 C808              6045             TST     #BIT3,R0                        ;
15656                            6046             TST_BIT_OF BRKTST_CTL_220               ;
15657 0000297A 8903                   M           BT      BRKTST_CTL_220
15658                            6047             M_BRA   BRKTST_CTL_500                  ;[停止完了]
15659 0000297C A090                   M           BRA     BRKTST_CTL_500
15660 0000297E 0009                   M           NOP
15661                            6048     
15662                                     ***** BEGIN-POOL *****
15663 00002980 00000000                   DATA FOR SOURCE-LINE 6042
15664                                     ***** END-POOL *****
15665 00002984                   6049     BRKTST_CTL_220:
15666 00002984 C804              6050             TST     #BIT2,R0                        ;
15667                            6051             TST_BIT_ON BRKTST_CTL_400               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   176
PROGRAM NAME =

15668 00002986 8B6D                   M           BF      BRKTST_CTL_400
15669 00002988 C802              6052             TST     #BIT1,R0                        ;
15670                            6053             TST_BIT_ON BRKTST_CTL_300               ;
15671 0000298A 8B35                   M           BF      BRKTST_CTL_300
15672                            6054     
15673                            6055     ;       ---- 起動待ち[BIT1=0]-----
15674                            6056     
15675                            6057     ;       ===============準備完了・未完了処置===========
15676                            6058     ;       --- 2010-10-22 ---------
15677                            6059             FAR_JSR #_BRKTST_RDY_CHK,R0             ;
15678 0000298C D003                   M           MOV.L   #_BRKTST_RDY_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15679 0000298E 400B                   M           JSR     @R0                     ;
15680 00002990 0009                   M           NOP                                     ;
15681                            6060     
15682 00002992 2008              6061             TST     R0,R0                           ;
15683                            6062             TST_BIT_OF BRKTST_CTL_250               ;
15684 00002994 8904                   M           BT      BRKTST_CTL_250
15685                            6063             M_BRA   BRKTST_CTL_290                  ;RDY-OFFまたはrdy-onだが(起動不可)
15686 00002996 A024                   M           BRA     BRKTST_CTL_290
15687 00002998 0009                   M           NOP
15688                            6064     
15689                            6065     ;       ---------- 準備完了で”起動受付可能”な状況
15690                                     ***** BEGIN-POOL *****
15691 0000299A 0000                       ALIGNMENT CODE
15692 0000299C 00000000                   DATA FOR SOURCE-LINE 6059
15693                                     ***** END-POOL *****
15694 000029A0                   6066     BRKTST_CTL_250:
15695                            6067     
15696                            6068             FAR_JSR #_BTTN_START_CHK,R0     ;
15697 000029A0 D005                   M           MOV.L   #_BTTN_START_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15698 000029A2 400B                   M           JSR     @R0                     ;
15699 000029A4 0009                   M           NOP                                     ;
15700 000029A6 2008              6069             TST     R0,R0                   ;
15701                            6070             TST_BIT_OF BRKTST_CTL_290       ;変化なし
15702 000029A8 891B                   M           BT      BRKTST_CTL_290
15703 000029AA 8855              6071             CMP/EQ  #H'55,R0                ;
15704 000029AC 8908              6072             BT      BRKTST_CTL_260          ;起動
15705                            6073     
15706                            6074     ;       ---------- 失敗-----------
15707                            6075             FAR_JSR #_BRKTST_RDY_OFF_OUT,R0
15708 000029AE D003                   M           MOV.L   #_BRKTST_RDY_OFF_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15709 000029B0 400B                   M           JSR     @R0                     ;
15710 000029B2 0009                   M           NOP                                     ;
15711                            6076             M_BRA   BRKTST_CTL_290                  ;
15712 000029B4 A015                   M           BRA     BRKTST_CTL_290
15713 000029B6 0009                   M           NOP
15714                            6077     
15715                            6078     
15716                                     ***** BEGIN-POOL *****
15717 000029B8 00000000                   DATA FOR SOURCE-LINE 6068
15718 000029BC 00000000                   DATA FOR SOURCE-LINE 6075
15719                                     ***** END-POOL *****
15720 000029C0                   6079     BRKTST_CTL_260:
15721                            6080             FAR_JSR #_DRV_START_KEP_WAIT,R0                         ;
15722 000029C0 D009                   M           MOV.L   #_DRV_START_KEP_WAIT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15723 000029C2 400B                   M           JSR     @R0                     ;
15724 000029C4 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   177
PROGRAM NAME =

15725 000029C6 2008              6081             TST     R0,R0                                           ;
15726                            6082             TST_BIT_OF BRKTST_CTL_290                               ;
15727 000029C8 890B                   M           BT      BRKTST_CTL_290
15728 000029CA 8855              6083             CMP/EQ  #H'55,R0
15729 000029CC 8B09              6084             BF      BRKTST_CTL_290                                  ;"1"ﾛｯｸ解除中待ち
15730                            6085     
15731                            6086             FAR_JSR #_BRKTST_CHKDT_MAK,R0
15732 000029CE D007                   M           MOV.L   #_BRKTST_CHKDT_MAK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15733 000029D0 400B                   M           JSR     @R0                     ;
15734 000029D2 0009                   M           NOP                                     ;
15735                            6087             FAR_JSR #_BRKTST_MOTOR_START,R0                                         ;起動
15736 000029D4 D006                   M           MOV.L   #_BRKTST_MOTOR_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15737 000029D6 400B                   M           JSR     @R0                     ;
15738 000029D8 0009                   M           NOP                                     ;
15739                            6088             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
15740 000029DA D106                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
15741 000029DC 6011                   M           MOV.W   @R1,R0          ;
15742 000029DE CB02                   M           OR      #BIT1,R0                ;
15743 000029E0 2101                   M           MOV.W   R0,@R1          ;
15744 000029E2                   6089     BRKTST_CTL_290:
15745                            6090             M_BRA   BRKTST_CTL_900                                                  ;
15746 000029E2 A06D                   M           BRA     BRKTST_CTL_900
15747 000029E4 0009                   M           NOP
15748                            6091     
15749                            6092     ;       ----------------------------------------
15750                                     ***** BEGIN-POOL *****
15751 000029E6 0000                       ALIGNMENT CODE
15752 000029E8 00000000                   DATA FOR SOURCE-LINE 6080
15753 000029EC 00000000                   DATA FOR SOURCE-LINE 6086
15754 000029F0 00000000                   DATA FOR SOURCE-LINE 6087
15755 000029F4 00000000                   DATA FOR SOURCE-LINE 6088
15756                                     ***** END-POOL *****
15757 000029F8                   6093     BRKTST_CTL_300:
15758                            6094     ;       ------ 98%CHKCK----
15759                            6095             FAR_JSR #_BRKTST_SPD_CHK,R0
15760 000029F8 D008                   M           MOV.L   #_BRKTST_SPD_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15761 000029FA 400B                   M           JSR     @R0                     ;
15762 000029FC 0009                   M           NOP                                     ;
15763                            6096     
15764                            6097     ;       ---- 起動中・停止指令待ち[BIT2=0]-----
15765                            6098     ;;;2011-09-14   MOV.L   #_CB_SEQ_CB_COM349,R1           ;
15766 000029FE D108              6099             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
15767 00002A00 6011              6100             MOV.W   @R1,R0                                                          ;
15768 00002A02 C802              6101             TST     #BIT1,R0                                                        ;349.1(停
                                          止指令)
15769                            6102             TST_BIT_OF BRKTST_CTL_350                                               ;
15770 00002A04 8912                   M           BT      BRKTST_CTL_350
15771 00002A06 9408              6103             MOV.W   #H'3491,R4                                                      ;2010-12-2
                                          1
15772                            6104             FAR_JSR #_BRKTST_MOTOR_STOP,R0                                          ;(異常状態
                                          にする)EMG_FLG=1
15773 00002A08 D006                   M           MOV.L   #_BRKTST_MOTOR_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15774 00002A0A 400B                   M           JSR     @R0                     ;
15775 00002A0C 0009                   M           NOP                                     ;
15776                            6105             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT2,WKREG=R1      ;ちゃんと
                                          した停止
15777 00002A0E D106                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   178
PROGRAM NAME =

15778 00002A10 6011                   M           MOV.W   @R1,R0          ;
15779 00002A12 CB04                   M           OR      #BIT2,R0                ;
15780 00002A14 2101                   M           MOV.W   R0,@R1          ;
15781                            6106             M_BRA   BRKTST_CTL_390
15782 00002A16 A01A                   M           BRA     BRKTST_CTL_390
15783 00002A18 0009                   M           NOP
15784                            6107     
15785                                     ***** BEGIN-POOL *****
15786 00002A1A 3491                       DATA FOR SOURCE-LINE 6103
15787 00002A1C 00000000                   DATA FOR SOURCE-LINE 6095
15788 00002A20 00000000                   DATA FOR SOURCE-LINE 6099
15789 00002A24 00000000                   DATA FOR SOURCE-LINE 6104
15790 00002A28 00000000                   DATA FOR SOURCE-LINE 6105
15791                                     ***** END-POOL *****
15792 00002A2C                   6108     BRKTST_CTL_350:
15793 00002A2C D109              6109             MOV.L   #_BTTN_FLG,R1                   ;
15794 00002A2E 6011              6110             MOV.W   @R1,R0                          ;
15795 00002A30 C804              6111             TST     #BIT2,R0                        ;両手ON
15796                            6112             TST_BIT_OF BRKTST_CTL_360               ;両手ONでない
15797 00002A32 8904                   M           BT      BRKTST_CTL_360
15798                            6113     
15799                            6114             FAR_JSR #_BRKTST_MODE_CONF,R0           ;
15800 00002A34 D008                   M           MOV.L   #_BRKTST_MODE_CONF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15801 00002A36 400B                   M           JSR     @R0                     ;
15802 00002A38 0009                   M           NOP                                     ;
15803 00002A3A 2008              6115             TST     R0,R0                           ;
15804                            6116             TST_BIT_OF BRKTST_CTL_390               ;
15805 00002A3C 8907                   M           BT      BRKTST_CTL_390
15806                            6117     
15807 00002A3E                   6118     BRKTST_CTL_360                                  ;両手ONでない
15808 00002A3E 9408              6119             MOV.W   #H'3492,R4                      ;2010-12-21
15809                            6120     ;;;;    FAR_JSR #_BRKTST_MOTOR_STOP,R0          ;動作中に運転釦を離したまたは異常が発生し
                                          た
15810                            6121             FAR_JSR #_EMG_STOP,R0                   ;
15811 00002A40 D006                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15812 00002A42 400B                   M           JSR     @R0                     ;
15813 00002A44 0009                   M           NOP                                     ;
15814                            6122             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=(BIT5+BIT2),WKREG=R1       ;B
                                          IT5異常
15815 00002A46 D106                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
15816 00002A48 6011                   M           MOV.W   @R1,R0          ;
15817 00002A4A CB24                   M           OR      #(BIT5+BIT2),R0         ;
15818 00002A4C 2101                   M           MOV.W   R0,@R1          ;
15819 00002A4E                   6123     BRKTST_CTL_390:
15820                            6124             M_BRA   BRKTST_CTL_900                  ;
15821 00002A4E A037                   M           BRA     BRKTST_CTL_900
15822 00002A50 0009                   M           NOP
15823                            6125     
15824                            6126     
15825                            6127     
15826                            6128     
15827                            6129     ;       ----------------------------------------
15828                                     ***** BEGIN-POOL *****
15829 00002A52 3492                       DATA FOR SOURCE-LINE 6119
15830 00002A54 00000000                   DATA FOR SOURCE-LINE 6109
15831 00002A58 00000000                   DATA FOR SOURCE-LINE 6114
15832 00002A5C 00000000                   DATA FOR SOURCE-LINE 6121
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   179
PROGRAM NAME =

15833 00002A60 00000000                   DATA FOR SOURCE-LINE 6122
15834                                     ***** END-POOL *****
15835 00002A64                   6130     BRKTST_CTL_400:
15836                            6131     ;       ---- 停止指令ON 停止判定待ち[BIT3=0]-----
15837 00002A64 D10B              6132             MOV.L   #_STOPPING_TIM_FLG,R1                                           ;
15838 00002A66 6011              6133             MOV.W   @R1,R0
15839 00002A68 C840              6134             TST     #BIT6,R0                                                        ;
15840                            6135             TST_BIT_OF BRKTST_CTL_490                                               ;
15841 00002A6A 8910                   M           BT      BRKTST_CTL_490
15842                            6136     
15843                            6137             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT3,WKREG=R1      ;[停止完了
                                          ]
15844 00002A6C D10A                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
15845 00002A6E 6011                   M           MOV.W   @R1,R0          ;
15846 00002A70 CB08                   M           OR      #BIT3,R0                ;
15847 00002A72 2101                   M           MOV.W   R0,@R1          ;
15848                            6138     
15849                            6139     
15850                            6140     ;;;;    MOV.L   #_SQ_CBWK_TOP+_WKSQCB212,R1
15851                            6141     ;;;;    MOV.W   @R1,R0
15852                            6142     ;;;;    MOV.W   #(BIT9+BIT8),R4                                                 ;
15853                            6143     
15854 00002A74 D109              6144             MOV.L   #_SQ_CBWK_TOP+_WKSQCB229,R1
15855 00002A76 6011              6145             MOV.W   @R1,R0
15856 00002A78 940B              6146             MOV.W   #(BIT15+BIT14),R4                                                       ;
15857 00002A7A 2048              6147             TST     R4,R0                                                           ;
15858                            6148             TST_BIT_ON BRKTST_CTL_450                                               ;
15859 00002A7C 8B03                   M           BF      BRKTST_CTL_450
15860                            6149     
15861 00002A7E D106              6150             MOV.L   #_BRKTST_MOD_FLG,R1                                             ;
15862 00002A80 6011              6151             MOV.W   @R1,R0                                                          ;
15863 00002A82 C810              6152             TST     #BIT4,R0                                                        ;
15864                            6153             TST_BIT_ON BRKTST_CTL_490                                               ;速度到達
15865 00002A84 8B03                   M           BF      BRKTST_CTL_490
15866                            6154     
15867 00002A86                   6155     BRKTST_CTL_450:
15868                            6156             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT5,WKREG=R1      ;停止ｵｰﾊﾞ
15869 00002A86 D104                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
15870 00002A88 6011                   M           MOV.W   @R1,R0          ;
15871 00002A8A CB20                   M           OR      #BIT5,R0                ;
15872 00002A8C 2101                   M           MOV.W   R0,@R1          ;
15873                            6157     
15874 00002A8E                   6158     BRKTST_CTL_490:
15875                            6159             M_BRA   BRKTST_CTL_900                  ;
15876 00002A8E A017                   M           BRA     BRKTST_CTL_900
15877 00002A90 0009                   M           NOP
15878                            6160     
15879                            6161     
15880                            6162     ;       ---------[正常に停止完了した 異常にして、リセットを待つ]-----------------
15881                                     ***** BEGIN-POOL *****
15882 00002A92 C000                       DATA FOR SOURCE-LINE 6146
15883 00002A94 00000000                   DATA FOR SOURCE-LINE 6132
15884 00002A98 00000000                   DATA FOR SOURCE-LINE 6137,6150,6156
15885 00002A9C 00000000                   DATA FOR SOURCE-LINE 6144
15886                                     ***** END-POOL *****
15887 00002AA0                   6163     BRKTST_CTL_500:
15888 00002AA0 9408              6164             MOV.W   #H'3493,R4                                                      ;2010-12-2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   180
PROGRAM NAME =

                                          1
15889                            6165             FAR_JSR #_BRKTST_MOTOR_STOP,R0                                          ;(異常状態
                                          にする)EMG_FLG=1
15890 00002AA2 D005                   M           MOV.L   #_BRKTST_MOTOR_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15891 00002AA4 400B                   M           JSR     @R0                     ;
15892 00002AA6 0009                   M           NOP                                     ;
15893                            6166             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT6,WKREG=R1      ;bit-set
15894 00002AA8 D104                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
15895 00002AAA 6011                   M           MOV.W   @R1,R0          ;
15896 00002AAC CB40                   M           OR      #BIT6,R0                ;
15897 00002AAE 2101                   M           MOV.W   R0,@R1          ;
15898                            6167             M_BRA   BRKTST_CTL_900                                                  ;
15899 00002AB0 A006                   M           BRA     BRKTST_CTL_900
15900 00002AB2 0009                   M           NOP
15901                            6168     
15902                            6169     
15903                            6170     
15904                            6171     ;       ---------------------------------------------
15905                                     ***** BEGIN-POOL *****
15906 00002AB4 3493                       DATA FOR SOURCE-LINE 6164
15907 00002AB6 0000                       ALIGNMENT CODE
15908 00002AB8 00000000                   DATA FOR SOURCE-LINE 6165
15909 00002ABC 00000000                   DATA FOR SOURCE-LINE 6166
15910                                     ***** END-POOL *****
15911 00002AC0                   6172     BRKTST_CTL_900:
15912                            6173     
15913 00002AC0 D10C              6174             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15914 00002AC2 6011              6175             MOV.W   @R1,R0                          ;
15915 00002AC4 D10C              6176             MOV.L   #_SQ_CBWK_TOP+_WKSQCB229,R1     ;
15916 00002AC6 6211              6177             MOV.W   @R1,R2                          ;
15917 00002AC8 9411              6178             MOV.W   #H'FF00,R4                      ;
15918 00002ACA 2249              6179             AND     R4,R2
15919 00002ACC 6447              6180             NOT     R4,R4
15920 00002ACE 2049              6181             AND     R4,R0
15921 00002AD0 220B              6182             OR      R0,R2
15922 00002AD2 2121              6183             MOV.W   R2,@R1                          ;
15923                            6184     
15924                            6185     
15925                            6186     
15926                            6187     
15927                            6188     ;       -----------ﾌﾞﾚｰｷﾃｽﾄ時にｽﾄｯﾋﾟﾝｸﾞﾀｲﾏﾘｾｯﾄ
15928 00002AD4 D109              6189             MOV.L   #_di1_cb_ctl1_dt,R1     ;ﾚﾍﾞﾙに変更
15929 00002AD6 6011              6190             MOV.W   @R1,R0                  ;
15930 00002AD8 940A              6191             MOV.W   #_W1RST,R4              ;ﾘｾｯﾄ釦
15931 00002ADA 2048              6192             TST     R4,R0                   ;ONｴｯｼﾞ
15932                            6193             TST_BIT_OF BRKTST_CTL_950       ;
15933 00002ADC 8904                   M           BT      BRKTST_CTL_950
15934                            6194             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB229,LG=W,BIT=~(BIT15+BIT14+BIT13+BIT12),
                                          WKRG1=R1,WKRG2=R4       ;
15935 00002ADE D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB229,R1             ;
15936 00002AE0 6011                   M           MOV.W   @R1,R0          ;
15937 00002AE2 9406                   M           MOV.W   #LWORD ~(BIT15+BIT14+BIT13+BIT12),R4    ;
15938 00002AE4 2049                   M           AND     R4,R0           ;
15939 00002AE6 2101                   M           MOV.W   R0,@R1          ;
15940 00002AE8                   6195     BRKTST_CTL_950:
15941                            6196     
15942                            6197     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   181
PROGRAM NAME =

15943                            6198             SUB_END
15944                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15945 00002AE8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15946                            6199             M_RTS
15947 00002AEA 000B                   M           RTS                             ;RTSの後ろの
15948 00002AEC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15949                            6200     
15950                            6201     
15951                            6202     
15952                            6203     ;       ***********************************
15953                            6204     ;       ***                             ***
15954                            6205     ;       ***     制動モード条件          ***
15955                            6206     ;       ***                             ***
15956                            6207     ;       ***********************************
15957                            6208     ;ANS:R0=0 NOMAL
15958                            6209     ;    R0=-1 ERR
15959                                     ***** BEGIN-POOL *****
15960 00002AEE FF00                       DATA FOR SOURCE-LINE 6178
15961 00002AF0 8000                       DATA FOR SOURCE-LINE 6191
15962 00002AF2 0FFF                       DATA FOR SOURCE-LINE 6194
15963 00002AF4 00000000                   DATA FOR SOURCE-LINE 6174
15964 00002AF8 00000000                   DATA FOR SOURCE-LINE 6176,6194
15965 00002AFC 00000000                   DATA FOR SOURCE-LINE 6189
15966                                     ***** END-POOL *****
15967 00002B00                   6210     _BRKTST_MODE_CONF:
15968                            6211             SUB_START
15969 00002B00 4F22                   M           STS.L   PR,@-R15                ;[必要]
15970                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15971                            6212     
15972 00002B02 E2FF              6213             MOV.B   #-1,R2                                  ;
15973                            6214     
15974                            6215     ;;;;2011-09-14  MOV.L   #_INP_MODE,R1                           ;
15975                            6216     ;;;;;   MOV.W   @R1,R0                                  ;
15976                            6217     ;;;;2010-08     TST     #_W1DUP,R0                              ;上死点復帰
15977                            6218     ;;;;2011-09-14  TST     #_W1DIC,R0                              ;段取寸動
15978                            6219     ;;;;2011-09-14  TST_BIT_OF BRKTST_MOD_CF_END                    ;NO END[[[[[[[ここは実行さ
                                          れない CMDを落とすから]]]]]
15979                            6220     
15980 00002B04 D105              6221             MOV.L   #_emg_err_flg,R1                        ;//異常ﾗｯﾁ
15981 00002B06 6011              6222             MOV.W   @R1,R0                                  ;
15982 00002B08 D105              6223             MOV.L   #_exq_err_flg,R1                        ;//異常ﾗｯﾁ
15983 00002B0A 6311              6224             MOV.W   @R1,R3                                  ;
15984 00002B0C 203B              6225             OR      R3,R0                                   ;
15985 00002B0E 2008              6226             TST     R0,R0                                   ;
15986                            6227             TST_BIT_ON BRKTST_MOD_CF_END                    ;
15987 00002B10 8B00                   M           BF      BRKTST_MOD_CF_END
15988                            6228     
15989 00002B12 222A              6229             XOR     R2,R2                                   ;
15990 00002B14                   6230     BRKTST_MOD_CF_END:
15991 00002B14 6023              6231             MOV     R2,R0                                   ;
15992                            6232             SUB_END
15993                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15994 00002B16 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15995                            6233             M_RTS
15996 00002B18 000B                   M           RTS                             ;RTSの後ろの
15997 00002B1A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15998                            6234     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   182
PROGRAM NAME =

15999                            6235     ;       *******************************************
16000                            6236     ;       ***                                     ***
16001                            6237     ;       ***                                     ***
16002                            6238     ;       ***                                     ***
16003                            6239     ;       *******************************************
16004                                     ***** BEGIN-POOL *****
16005 00002B1C 00000000                   DATA FOR SOURCE-LINE 6221
16006 00002B20 00000000                   DATA FOR SOURCE-LINE 6223
16007                                     ***** END-POOL *****
16008 00002B24                   6240             .ALIGN  4
16009 00002B24                   6241     _BRKTST_INPUT_MAK:
16010                            6242             SUB_START
16011 00002B24 4F22                   M           STS.L   PR,@-R15                ;[必要]
16012                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16013                            6243     ;       -------- 2011-09-14---
16014 00002B26 D10A              6244             MOV.L   #_INP_MODE,R1                           ;
16015 00002B28 6011              6245             MOV.W   @R1,R0                                  ;
16016 00002B2A C804              6246             TST     #_W1SGL,R0                              ;安全一行程SW
16017                            6247             TST_BIT_OF BRKTST_INPUTMK_100                   ;
16018 00002B2C 891A                   M           BT      BRKTST_INPUTMK_100
16019                            6248     
16020 00002B2E D109              6249             MOV.L   #_di1_cb_ctl1_dt,R1                     ;//
16021 00002B30 6011              6250             MOV.W   @R1,R0                                  ;
16022 00002B32 C810              6251             TST     #_W1OPT,R0                              ;OPT
16023                            6252             TST_BIT_ON BRKTST_INPUTMK_100                   ;OPTIONの安全でした
16024 00002B34 8B16                   M           BF      BRKTST_INPUTMK_100
16025                            6253     
16026                            6254     ;;;;    MOV.L   #_CB_SEQ_CB_COM349,R1                           ;これは本当は違う　安全装
                                          置入／切
16027                            6255     ;;;;    MOV.W   @R1,R0                                          ;
16028                            6256     ;;;;    TST     #BIT0,R0                                        ;
16029                            6257     ;;;;    TST_BIT_OF BRKTST_INPUTMK_100                           ;
16030                            6258     
16031 00002B36 D108              6259             MOV.L   #_BRKTST_SW_IN,R1                               ;
16032 00002B38 6011              6260             MOV.W   @R1,R0                                          ;
16033 00002B3A C801              6261             TST     #BIT0,R0                                        ;
16034                            6262             TST_BIT_OF BRKTST_INPUTMK_100                           ;BIT0=BIT1=1でくる
16035 00002B3C 8912                   M           BT      BRKTST_INPUTMK_100
16036                            6263     
16037                            6264             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_INPUT_CMD,LG=W,BIT=(BIT0),WKREG=R1  ;[安全一行
                                          程のみonする]
16038 00002B3E D107                   M           MOV.L   #_BRKTST_INPUT_CMD,R1           ;
16039 00002B40 6011                   M           MOV.W   @R1,R0          ;
16040 00002B42 CB01                   M           OR      #(BIT0),R0              ;
16041 00002B44 2101                   M           MOV.W   R0,@R1          ;
16042                            6265             FAR_JSR #_BRKTST_STOPSIG_MAKE,R0                                        ;
16043 00002B46 D006                   M           MOV.L   #_BRKTST_STOPSIG_MAKE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16044 00002B48 400B                   M           JSR     @R0                     ;
16045 00002B4A 0009                   M           NOP                                     ;
16046                            6266             M_BRA   BRKTST_INPUTMK_200                                              ;
16047 00002B4C A00F                   M           BRA     BRKTST_INPUTMK_200
16048 00002B4E 0009                   M           NOP
16049                            6267     
16050                                     ***** BEGIN-POOL *****
16051 00002B50 00000000                   DATA FOR SOURCE-LINE 6244
16052 00002B54 00000000                   DATA FOR SOURCE-LINE 6249
16053 00002B58 00000000                   DATA FOR SOURCE-LINE 6259
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   183
PROGRAM NAME =

16054 00002B5C 00000000                   DATA FOR SOURCE-LINE 6264
16055 00002B60 00000000                   DATA FOR SOURCE-LINE 6265
16056                                     ***** END-POOL *****
16057 00002B64                   6268     BRKTST_INPUTMK_100:
16058 00002B64 200A              6269             XOR     R0,R0                                   ;
16059 00002B66 D103              6270             MOV.L   #_BRKTST_INPUT_CMD,R1                   ;2011-09-14
16060 00002B68 2101              6271             MOV.W   R0,@R1                                  ;
16061 00002B6A D103              6272             MOV.L   #_BRKTST_STR_FLG,R1                     ;
16062 00002B6C 2101              6273             MOV.W   R0,@R1                                  ;
16063                            6274     
16064 00002B6E                   6275     BRKTST_INPUTMK_200:
16065                            6276     
16066                            6277             SUB_END
16067                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16068 00002B6E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16069                            6278             M_RTS
16070 00002B70 000B                   M           RTS                             ;RTSの後ろの
16071 00002B72 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16072                            6279     
16073                            6280     
16074                            6281     
16075                            6282     ;       ***********************************
16076                            6283     ;       ***                             ***
16077                            6284     ;       ***     制動試験準備完了条件    ***
16078                            6285     ;       ***     2010-10-22              ***
16079                            6286     ;       ***********************************
16080                            6287     ;ANS:R0=0 RDY-ON
16081                            6288     ;    R0=-1 RDY-OFF
16082                            6289     ;       FAR_JSR #_RDY_OF_SFTY_LOCK,R0   ;2006-04-10
16083                                     ***** BEGIN-POOL *****
16084 00002B74 00000000                   DATA FOR SOURCE-LINE 6270
16085 00002B78 00000000                   DATA FOR SOURCE-LINE 6272
16086                                     ***** END-POOL *****
16087 00002B7C                   6290     _BRKTST_RDY_CHK:
16088                            6291             SUB_START
16089 00002B7C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16090                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16091                            6292     
16092                            6293     ;       ===========================
16093                            6294     ;       ===     安全装置ﾏｽｸ     ===
16094                            6295     ;       ===========================
16095                            6296     ;;;;2012-09-25  FAR_JSR #_SFTY_MASK_START,R0    ;
16096                            6297     ;;;;2013-02-23  FAR_JSR #_SFTY_MASK_ST_NOT_DRV,R0       ;2012-09-25
16097                            6298     
16098                            6299     ;;;;_BRK_SADOU_CHG 2015-09-06[MCは後から修正]
16099                            6300     ;;;     FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23
16100                            6301     
16101                            6302     ;       -------- 2015-09-06---------
16102 00002B7E D104              6303             MOV.L   #(_PAR_MYU_BRK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;NO.093
16103 00002B80 6011              6304             MOV.W   @R1,R0                                                  ;
16104 00002B82 8801              6305             CMP/EQ  #1,R0
16105 00002B84 8908              6306             BT      BRKTST_RDY_SFTY_MASK2CHK055                                     ;停止制御
                                          有効
16106                            6307     
16107                            6308             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0                                ;
16108 00002B86 D003                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16109 00002B88 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   184
PROGRAM NAME =

16110 00002B8A 0009                   M           NOP                                     ;
16111                            6309             M_BRA   BRKTST_RDY_SFTY_MASK2CHK100                                     ;
16112 00002B8C A015                   M           BRA     BRKTST_RDY_SFTY_MASK2CHK100
16113 00002B8E 0009                   M           NOP
16114                            6310     
16115                                     ***** BEGIN-POOL *****
16116 00002B90 00000000                   DATA FOR SOURCE-LINE 6303
16117 00002B94 00000000                   DATA FOR SOURCE-LINE 6308
16118                                     ***** END-POOL *****
16119 00002B98                   6311     BRKTST_RDY_SFTY_MASK2CHK055:
16120                            6312     
16121 00002B98 D104              6313             MOV.L   #_DRV_START_KEEP,R1
16122 00002B9A 6011              6314             MOV.W   @R1,R0                          ;
16123 00002B9C C801              6315             TST     #BIT0,R0                        ;
16124                            6316             TST_BIT_ON BRKTST_RDY_SFTY_MASK2CHK060          ;
16125 00002B9E 8B09                   M           BF      BRKTST_RDY_SFTY_MASK2CHK060
16126                            6317     
16127                            6318             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23 新ｿﾌﾄは
16128 00002BA0 D003                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16129 00002BA2 400B                   M           JSR     @R0                     ;
16130 00002BA4 0009                   M           NOP                                     ;
16131                            6319             M_BRA   BRKTST_RDY_SFTY_MASK2CHK100             ;
16132 00002BA6 A008                   M           BRA     BRKTST_RDY_SFTY_MASK2CHK100
16133 00002BA8 0009                   M           NOP
16134                            6320     
16135                                     ***** BEGIN-POOL *****
16136 00002BAA 0000                       ALIGNMENT CODE
16137 00002BAC 00000000                   DATA FOR SOURCE-LINE 6313
16138 00002BB0 00000000                   DATA FOR SOURCE-LINE 6318
16139                                     ***** END-POOL *****
16140 00002BB4                   6321     BRKTST_RDY_SFTY_MASK2CHK060:
16141                            6322             FAR_JSR #_SFTY_MASK_END,R0              ;
16142 00002BB4 D011                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16143 00002BB6 400B                   M           JSR     @R0                     ;
16144 00002BB8 0009                   M           NOP                                     ;
16145 00002BBA                   6323     BRKTST_RDY_SFTY_MASK2CHK100:
16146                            6324     
16147                            6325     
16148                            6326     
16149 00002BBA D111              6327             MOV.L   #_dq1_cb_out1,R1        ;//+0:制御出力(203)
16150 00002BBC 6011              6328             MOV.W   @R1,R0                  ;
16151 00002BBE C820              6329             TST     #_WORDY,R0              ;RDY
16152                            6330             TST_BIT_ON BRKTST_RDYCK_0200    ;(準備完了ON)
16153 00002BC0 8B2E                   M           BF      BRKTST_RDYCK_0200
16154                            6331     
16155                            6332     ;;;;_BRK_SADOU_CHG EQ 0 廃止 2015-09-06
16156                            6333     ;;;;    FAR_JSR #_RDY_OF_SFTY_LOCK,R0   ;
16157                            6334     
16158                            6335             FAR_JSR #_BRK_RDYON_CONF1,R0    ;340.14,SAFTY
16159 00002BC2 D010                   M           MOV.L   #_BRK_RDYON_CONF1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16160 00002BC4 400B                   M           JSR     @R0                     ;
16161 00002BC6 0009                   M           NOP                                     ;
16162 00002BC8 2008              6336             TST     R0,R0                   ;
16163                            6337             TST_BIT_ON BRKTST_RDYCHK_OFF    ;
16164 00002BCA 8B41                   M           BF      BRKTST_RDYCHK_OFF
16165                            6338     
16166 00002BCC D10E              6339             MOV.L   #_BTTN_FLG,R1           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   185
PROGRAM NAME =

16167 00002BCE 6011              6340             MOV.W   @R1,R0                  ;
16168 00002BD0 C801              6341             TST     #BIT0,R0                ;両手ﾌﾘ?
16169                            6342             TST_BIT_OF BRKTST_RDYCHK_OFF    ;
16170 00002BD2 893D                   M           BT      BRKTST_RDYCHK_OFF
16171                            6343     
16172 00002BD4 200A              6344             XOR     R0,R0
16173 00002BD6 D10D              6345             MOV.L   #_SET_UP_TIM,R1         ;//ｾｯﾄｱｯﾌﾟ(0なの?)
16174 00002BD8 2101              6346             MOV.W   R0,@R1                  ;
16175                            6347     
16176 00002BDA 920E              6348             MOV.W   #_SYS_BSAME_TIM,R2      ;
16177 00002BDC D10C              6349             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
16178 00002BDE 2121              6350             MOV.W   R2,@R1                  ;
16179                            6351     
16180                            6352             FAR_JSR #_CPU_AB_RDY_ON_OUT,R0          ;
16181 00002BE0 D00C                   M           MOV.L   #_CPU_AB_RDY_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16182 00002BE2 400B                   M           JSR     @R0                     ;
16183 00002BE4 0009                   M           NOP                                     ;
16184                            6353             FAR_JSR #_CPU_BA_RDY_ON_JG,R0           ;
16185 00002BE6 D00C                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16186 00002BE8 400B                   M           JSR     @R0                     ;
16187 00002BEA 0009                   M           NOP                                     ;
16188 00002BEC 2008              6354             TST     R0,R0                           ;
16189                            6355             TST_BIT_OF BRKTST_RDYCK_0198            ;WAIT
16190 00002BEE 8902                   M           BT      BRKTST_RDYCK_0198
16191                            6356             FAR_JSR #_RDY_ON,R1                     ;準備完了へ遷移
16192 00002BF0 D10A                   M           MOV.L   #_RDY_ON,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16193 00002BF2 410B                   M           JSR     @R1                     ;
16194 00002BF4 0009                   M           NOP                                     ;
16195 00002BF6                   6357     BRKTST_RDYCK_0198:                              ;
16196                            6358             M_BRA   BRKTST_RDYCHK_START_WAIT        ;RDY-ON待ち
16197 00002BF6 A02E                   M           BRA     BRKTST_RDYCHK_START_WAIT
16198 00002BF8 0009                   M           NOP
16199                            6359     
16200                            6360     
16201                            6361     
16202                            6362     ;       -------準備完了状態
16203                                     ***** BEGIN-POOL *****
16204 00002BFA 01F4                       DATA FOR SOURCE-LINE 6348
16205 00002BFC 00000000                   DATA FOR SOURCE-LINE 6322
16206 00002C00 00000000                   DATA FOR SOURCE-LINE 6327
16207 00002C04 00000000                   DATA FOR SOURCE-LINE 6335
16208 00002C08 00000000                   DATA FOR SOURCE-LINE 6339
16209 00002C0C 00000000                   DATA FOR SOURCE-LINE 6345
16210 00002C10 00000000                   DATA FOR SOURCE-LINE 6349
16211 00002C14 00000000                   DATA FOR SOURCE-LINE 6352
16212 00002C18 00000000                   DATA FOR SOURCE-LINE 6353
16213 00002C1C 00000000                   DATA FOR SOURCE-LINE 6356
16214                                     ***** END-POOL *****
16215 00002C20                   6363     BRKTST_RDYCK_0200       ;(準備完了ON状態)
16216                            6364             FAR_JSR #_BRK_RDYON_CONF1,R0    ;340.14,SAFTY
16217 00002C20 D003                   M           MOV.L   #_BRK_RDYON_CONF1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16218 00002C22 400B                   M           JSR     @R0                     ;
16219 00002C24 0009                   M           NOP                                     ;
16220 00002C26 2008              6365             TST     R0,R0                   ;
16221                            6366             TST_BIT_ON BRKTST_RDYCHK_OFF    ;
16222 00002C28 8B12                   M           BF      BRKTST_RDYCHK_OFF
16223                            6367             M_BRA   BRKTST_RDYCHK_ON        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   186
PROGRAM NAME =

16224 00002C2A A003                   M           BRA     BRKTST_RDYCHK_ON
16225 00002C2C 0009                   M           NOP
16226                            6368     
16227                            6369     
16228                                     ***** BEGIN-POOL *****
16229 00002C2E 0000                       ALIGNMENT CODE
16230 00002C30 00000000                   DATA FOR SOURCE-LINE 6364
16231                                     ***** END-POOL *****
16232 00002C34                   6370     BRKTST_RDYCHK_ON:
16233                            6371             FAR_JSR #_RDY_ON,R1                                     ;
16234 00002C34 D104                   M           MOV.L   #_RDY_ON,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16235 00002C36 410B                   M           JSR     @R1                     ;
16236 00002C38 0009                   M           NOP                                     ;
16237                            6372             FAR_JSR #_CPU_AB_RDY_ON_OUT,R0                          ;
16238 00002C3A D004                   M           MOV.L   #_CPU_AB_RDY_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16239 00002C3C 400B                   M           JSR     @R0                     ;
16240 00002C3E 0009                   M           NOP                                     ;
16241 00002C40 255A              6373             XOR     R5,R5                                           ;
16242                            6374             M_BRA   BRKTST_RDYCHK_END                               ;
16243 00002C42 A009                   M           BRA     BRKTST_RDYCHK_END
16244 00002C44 0009                   M           NOP
16245                            6375     
16246                            6376     
16247                            6377     
16248                                     ***** BEGIN-POOL *****
16249 00002C46 0000                       ALIGNMENT CODE
16250 00002C48 00000000                   DATA FOR SOURCE-LINE 6371
16251 00002C4C 00000000                   DATA FOR SOURCE-LINE 6372
16252                                     ***** END-POOL *****
16253 00002C50                   6378     BRKTST_RDYCHK_OFF:
16254                            6379             FAR_JSR #_BRKTST_RDY_OFF_OUT,R0
16255 00002C50 D003                   M           MOV.L   #_BRKTST_RDY_OFF_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16256 00002C52 400B                   M           JSR     @R0                     ;
16257 00002C54 0009                   M           NOP                                     ;
16258 00002C56                   6380     BRKTST_RDYCHK_START_WAIT:
16259 00002C56 E5FF              6381             MOV     #-1,R5                                          ;起動受付不可
16260 00002C58                   6382     BRKTST_RDYCHK_END:
16261 00002C58 6053              6383             MOV     R5,R0                                           ;
16262                            6384     
16263                            6385             SUB_END
16264                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16265 00002C5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16266                            6386             M_RTS
16267 00002C5C 000B                   M           RTS                             ;RTSの後ろの
16268 00002C5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16269                            6387     
16270                            6388     
16271                                     ***** BEGIN-POOL *****
16272 00002C60 00000000                   DATA FOR SOURCE-LINE 6379
16273                                     ***** END-POOL *****
16274 00002C64                   6389     _BRKTST_RDY_OFF_OUT:
16275                            6390             SUB_START
16276 00002C64 4F22                   M           STS.L   PR,@-R15                ;[必要]
16277                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16278                            6391             FAR_JSR #_RDY_OF,R1                     ;
16279 00002C66 D107                   M           MOV.L   #_RDY_OF,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16280 00002C68 410B                   M           JSR     @R1                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   187
PROGRAM NAME =

16281 00002C6A 0009                   M           NOP                                     ;
16282                            6392             FAR_JSR #_CMPSTP_POS_START_CLR,R0       ;//起動したいをOFF
16283 00002C6C D006                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16284 00002C6E 400B                   M           JSR     @R0                     ;
16285 00002C70 0009                   M           NOP                                     ;
16286                            6393             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
16287 00002C72 D006                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16288 00002C74 400B                   M           JSR     @R0                     ;
16289 00002C76 0009                   M           NOP                                     ;
16290 00002C78 200A              6394             XOR     R0,R0                           ;
16291 00002C7A D105              6395             MOV.L   #_DRV_START_KEEP,R1             ;FLG
16292 00002C7C 2101              6396             MOV.W   R0,@R1                          ;
16293                            6397             SUB_END
16294                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16295 00002C7E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16296                            6398             M_RTS
16297 00002C80 000B                   M           RTS                             ;RTSの後ろの
16298 00002C82 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16299                            6399     
16300                            6400     ;       ***********************************
16301                            6401     ;       ***                             ***
16302                            6402     ;       ***     motor起動               ***
16303                            6403     ;       ***                             ***
16304                            6404     ;       ***********************************
16305                            6405             .IMPORT _BRKTST_POS_START               ;
16306                            6406     ;       --------------<同期ソフトはできないつくり>-----------------------------
16307                                     ***** BEGIN-POOL *****
16308 00002C84 00000000                   DATA FOR SOURCE-LINE 6391
16309 00002C88 00000000                   DATA FOR SOURCE-LINE 6392
16310 00002C8C 00000000                   DATA FOR SOURCE-LINE 6393
16311 00002C90 00000000                   DATA FOR SOURCE-LINE 6395
16312                                     ***** END-POOL *****
16313 00002C94                   6407     _BRKTST_MOTOR_START:
16314                            6408             SUB_START
16315 00002C94 4F22                   M           STS.L   PR,@-R15                ;[必要]
16316                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16317                            6409     
16318                            6410     ;       ===================================
16319                            6411     ;       ===     起動処理                ===
16320                            6412     ;       ===================================
16321                            6413             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
16322 00002C96 D124                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
16323 00002C98 6011                   M           MOV.W   @R1,R0          ;
16324 00002C9A 9442                   M           MOV.W   #LWORD (~BIT3),R4       ;
16325 00002C9C 2049                   M           AND     R4,R0           ;
16326 00002C9E 2101                   M           MOV.W   R0,@R1          ;
16327                            6414             FAR_JSR #_SV_UP_HOLD_CHK,R0     ;(上昇ﾎｰﾙﾄﾞ工程作成/)
16328 00002CA0 D022                   M           MOV.L   #_SV_UP_HOLD_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16329 00002CA2 400B                   M           JSR     @R0                     ;
16330 00002CA4 0009                   M           NOP                                     ;
16331                            6415             FAR_JSR #_UP_HOLD_FLG_CLR1,R0   ;(不要でしょう)
16332 00002CA6 D022                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16333 00002CA8 400B                   M           JSR     @R0                     ;
16334 00002CAA 0009                   M           NOP                                     ;
16335                            6416             FAR_JSR #_UP_HOLD_FLG_CLR2,R0   ;
16336 00002CAC D021                   M           MOV.L   #_UP_HOLD_FLG_CLR2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16337 00002CAE 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   188
PROGRAM NAME =

16338 00002CB0 0009                   M           NOP                                     ;
16339                            6417     
16340                            6418     ;       ==== 2004-01-28 ==
16341 00002CB2 200A              6419             XOR     R0,R0
16342 00002CB4 D120              6420             MOV.L   #_ENC360_OVER_FLG,R1            ;
16343 00002CB6 2101              6421             MOV.W   R0,@R1                          ;
16344                            6422     
16345                            6423             FAR_JSR #_SFTY_MASK_END,R0              ;(結果としてはﾏｽｸするかもしれない)
16346 00002CB8 D020                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16347 00002CBA 400B                   M           JSR     @R0                     ;
16348 00002CBC 0009                   M           NOP                                     ;
16349                            6424             FAR_JSR #_CB_CTL_START_INI,R0
16350 00002CBE D020                   M           MOV.L   #_CB_CTL_START_INI,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16351 00002CC0 400B                   M           JSR     @R0                     ;
16352 00002CC2 0009                   M           NOP                                     ;
16353                            6425             FAR_JSR #_STOPPING_TIM_MOV_INI,R0       ;
16354 00002CC4 D01F                   M           MOV.L   #_STOPPING_TIM_MOV_INI,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16355 00002CC6 400B                   M           JSR     @R0                     ;
16356 00002CC8 0009                   M           NOP                                     ;
16357                            6426     
16358                            6427     ;;;;;   FAR_JSR #_MN_POS_CTRL_START,R0          ;
16359                            6428     
16360                            6429     
16361                            6430             FAR_JSR #_BRKTST_POS_START,R0
16362 00002CCA D01F                   M           MOV.L   #_BRKTST_POS_START,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16363 00002CCC 400B                   M           JSR     @R0                     ;
16364 00002CCE 0009                   M           NOP                                     ;
16365                            6431     
16366                            6432     
16367                            6433     ;       --------2009-04-01 起動したらフラグクリア[原点時の]
16368                            6434             MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1      ;
                                          原点起動で使用
16369 00002CD0 D41E                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
16370 00002CD2 6041                   M           MOV.W   @R4,R0          ;
16371 00002CD4 9126                   M           MOV.W   #LWORD (~BIT5),R1       ;
16372 00002CD6 2019                   M           AND     R1,R0           ;
16373 00002CD8 2401                   M           MOV.W   R0,@R4          ;
16374                            6435             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
16375 00002CDA D41D                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
16376 00002CDC 6041                   M           MOV.W   @R4,R0          ;
16377 00002CDE 9121                   M           MOV.W   #LWORD (~BIT5),R1       ;
16378 00002CE0 2019                   M           AND     R1,R0           ;
16379 00002CE2 2401                   M           MOV.W   R0,@R4          ;
16380                            6436     
16381                            6437     
16382                            6438             MEM1_DATA_SET MEM=_DRV_ACT_FLG,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2       ;運転動作ﾌ
                                          ﾗｸﾞ BIT0:運転中
16383 00002CE4 D11B                   M           MOV.L   #_DRV_ACT_FLG,R1                ;
16384 00002CE6 921E                   M           MOV.W   #BIT0,R2                ;
16385 00002CE8 2121                   M           MOV.W   R2,@R1  ;
16386                            6439             FAR_JSR #_API_BREAK_VALV_FLG_ON,R0      ;2014-08-05
16387 00002CEA D01B                   M           MOV.L   #_API_BREAK_VALV_FLG_ON,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16388 00002CEC 400B                   M           JSR     @R0                     ;
16389 00002CEE 0009                   M           NOP                                     ;
16390                            6440     
16391                            6441             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
16392 00002CF0 D01A                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   189
PROGRAM NAME =

16393 00002CF2 400B                   M           JSR     @R0                     ;
16394 00002CF4 0009                   M           NOP                                     ;
16395                            6442             FAR_JSR #_RDY_OF,R1                     ;
16396 00002CF6 D11A                   M           MOV.L   #_RDY_OF,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16397 00002CF8 410B                   M           JSR     @R1                     ;
16398 00002CFA 0009                   M           NOP                                     ;
16399                            6443     
16400                            6444     ;       ==== 2007-09-07 ちゃんとｾﾙﾌを生かす===
16401                            6445     ;;      .IMPORT _PAR_SELFCHK_POWSEL
16402                            6446     
16403 00002CFC D119              6447             MOV.L   #_PAR_SELFCHK_POWSEL,R1         ;
16404 00002CFE 6011              6448             MOV.W   @R1,R0                          ;
16405 00002D00 8801              6449             CMP/EQ  #1,R0                           ;
16406 00002D02 8908              6450             BT      BRKTST_STR_POW_100              ;"1"ならちゃんとセルフする
16407                            6451     
16408                            6452     ;       ===== 2006-12-06 [1]=====
16409 00002D04 900F              6453             MOV.W   #BIT0,R0                        ;"0"なら起動１回後はセルフしない
16410 00002D06 D118              6454             MOV.L   #_SELF_LOCK_FLG,R1              ;
16411 00002D08 2101              6455             MOV.W   R0,@R1                          ;
16412 00002D0A 222A              6456             XOR     R2,R2                           ;
16413 00002D0C 233A              6457             XOR     R3,R3                           ;
16414 00002D0E D117              6458             MOV.L   #_SELF_CHK_SEL,R1               ;
16415 00002D10 2121              6459             MOV.W   R2,@R1                          ;
16416 00002D12 D117              6460             MOV.L   #_SELF_CHK_MATHED,R1            ;
16417 00002D14 2131              6461             MOV.W   R3,@R1                          ;
16418                            6462     
16419 00002D16                   6463     BRKTST_STR_POW_100
16420                            6464     
16421                            6465     ;       ====== 2007-01-16========
16422                            6466             FAR_JSR #_START_SFTY_LOCK_CLR,R0
16423 00002D16 D017                   M           MOV.L   #_START_SFTY_LOCK_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16424 00002D18 400B                   M           JSR     @R0                     ;
16425 00002D1A 0009                   M           NOP                                     ;
16426                            6467     
16427                            6468     
16428                            6469             SUB_END
16429                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16430 00002D1C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16431                            6470             M_RTS
16432 00002D1E 000B                   M           RTS                             ;RTSの後ろの
16433 00002D20 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16434                            6471     
16435                            6472     
16436                                     ***** BEGIN-POOL *****
16437 00002D22 FFF7                       DATA FOR SOURCE-LINE 6413
16438 00002D24 FFDF                       DATA FOR SOURCE-LINE 6434,6435
16439 00002D26 0001                       DATA FOR SOURCE-LINE 6438,6453
16440 00002D28 00000000                   DATA FOR SOURCE-LINE 6413
16441 00002D2C 00000000                   DATA FOR SOURCE-LINE 6414
16442 00002D30 00000000                   DATA FOR SOURCE-LINE 6415
16443 00002D34 00000000                   DATA FOR SOURCE-LINE 6416
16444 00002D38 00000000                   DATA FOR SOURCE-LINE 6420
16445 00002D3C 00000000                   DATA FOR SOURCE-LINE 6423
16446 00002D40 00000000                   DATA FOR SOURCE-LINE 6424
16447 00002D44 00000000                   DATA FOR SOURCE-LINE 6425
16448 00002D48 00000000                   DATA FOR SOURCE-LINE 6430
16449 00002D4C 00000000                   DATA FOR SOURCE-LINE 6434
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   190
PROGRAM NAME =

16450 00002D50 00000000                   DATA FOR SOURCE-LINE 6435
16451 00002D54 00000000                   DATA FOR SOURCE-LINE 6438
16452 00002D58 00000000                   DATA FOR SOURCE-LINE 6439
16453 00002D5C 00000000                   DATA FOR SOURCE-LINE 6441
16454 00002D60 00000000                   DATA FOR SOURCE-LINE 6442
16455 00002D64 00000000                   DATA FOR SOURCE-LINE 6447
16456 00002D68 00000000                   DATA FOR SOURCE-LINE 6454
16457 00002D6C 00000000                   DATA FOR SOURCE-LINE 6458
16458 00002D70 00000000                   DATA FOR SOURCE-LINE 6460
16459 00002D74 00000000                   DATA FOR SOURCE-LINE 6466
16460                                     ***** END-POOL *****
16461 00002D78                   6473             .ALIGN  4
16462 00002D78                   6474     _BRKTST_CHKDT_MAK:
16463                            6475             SUB_START
16464 00002D78 4F22                   M           STS.L   PR,@-R15                ;[必要]
16465                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16466 00002D7A D00C              6476             MOV.L   #_LINK_MAX_SPD_PLS,R0   ;
16467 00002D7C 6202              6477             MOV.L   @R0,R2                  ;
16468 00002D7E 9414              6478             MOV.W   #_SPD_PER_MAX,R4        ;100.00per
16469                            6479     
16470 00002D80 D00B              6480             MOV.L   #_WPAR_BRKTOUT_SPD,R0           ;出力LATE
16471 00002D82 6101              6481             MOV.W   @R0,R1                          ;
16472 00002D84 4115              6482             CMP/PL  R1                              ;
16473 00002D86 8900              6483             BT      BRKTST_CHKDTMK_100                      ;
16474 00002D88 6143              6484             MOV     R4,R1                                   ;
16475 00002D8A                   6485     BRKTST_CHKDTMK_100:                                     ;
16476                            6486             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
16477 00002D8A D00A                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16478 00002D8C 400B                   M           JSR     @R0                     ;
16479 00002D8E 0009                   M           NOP                                     ;
16480 00002D90 D109              6487             MOV.L   #_BRKTST_OUTSPD_PLS,R1          ;
16481 00002D92 2122              6488             MOV.L   R2,@R1                          ;
16482                            6489     
16483 00002D94 D009              6490             MOV.L   #_WPAR_BRKTCHK_SPD,R0           ;
16484 00002D96 6101              6491             MOV.W   @R0,R1                          ;
16485 00002D98 9407              6492             MOV.W   #_SPD_PER_MAX,R4                ;100.00per
16486                            6493             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
16487 00002D9A D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16488 00002D9C 400B                   M           JSR     @R0                     ;
16489 00002D9E 0009                   M           NOP                                     ;
16490 00002DA0 D107              6494             MOV.L   #_BRKTST_CHKSPD_PLS,R1
16491 00002DA2 2122              6495             MOV.L   R2,@R1                          ;
16492                            6496     
16493                            6497             SUB_END
16494                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16495 00002DA4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16496                            6498             M_RTS
16497 00002DA6 000B                   M           RTS                             ;RTSの後ろの
16498 00002DA8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16499                            6499     
16500                            6500     
16501                            6501     
16502                            6502     
16503                            6503     
16504                            6504     ;       ***********************************
16505                            6505     ;       ***                             ***
16506                            6506     ;       ***             速度            ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   191
PROGRAM NAME =

16507                            6507     ;       ***                             ***
16508                            6508     ;       ***********************************
16509                                     ***** BEGIN-POOL *****
16510 00002DAA 2710                       DATA FOR SOURCE-LINE 6478,6492
16511 00002DAC 00000000                   DATA FOR SOURCE-LINE 6476
16512 00002DB0 00000000                   DATA FOR SOURCE-LINE 6480
16513 00002DB4 00000000                   DATA FOR SOURCE-LINE 6486,6493
16514 00002DB8 00000000                   DATA FOR SOURCE-LINE 6487
16515 00002DBC 00000000                   DATA FOR SOURCE-LINE 6490
16516 00002DC0 00000000                   DATA FOR SOURCE-LINE 6494
16517                                     ***** END-POOL *****
16518 00002DC4                   6509             .ALIGN  4
16519 00002DC4                   6510     _BRKTST_SPD_CHK:
16520                            6511             SUB_START
16521 00002DC4 4F22                   M           STS.L   PR,@-R15                ;[必要]
16522                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16523 00002DC6 D106              6512             MOV.L   #_ABS_ENC_PLS_SPD,R1    ;
16524 00002DC8 6212              6513             MOV.L   @R1,R2                  ;PV(ABS)
16525 00002DCA D106              6514             MOV.L   #_BRKTST_CHKSPD_PLS,R1  ;
16526 00002DCC 6012              6515             MOV.L   @R1,R0                  ;SV
16527 00002DCE 3202              6516             CMP/HS  R0,R2                   ;R0=< R2?
16528 00002DD0 8B03              6517             BF      BRKTST_SPDCHK_100       ;NO JUMP
16529                            6518     
16530                            6519             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=(BIT4),WKREG=R1    ;BIT4速度ﾗ
                                          ｯﾁ
16531 00002DD2 D105                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16532 00002DD4 6011                   M           MOV.W   @R1,R0          ;
16533 00002DD6 CB10                   M           OR      #(BIT4),R0              ;
16534 00002DD8 2101                   M           MOV.W   R0,@R1          ;
16535                            6520     
16536 00002DDA                   6521     BRKTST_SPDCHK_100:
16537                            6522             SUB_END
16538                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16539 00002DDA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16540                            6523             M_RTS
16541 00002DDC 000B                   M           RTS                             ;RTSの後ろの
16542 00002DDE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16543                            6524     
16544                            6525     
16545                            6526     ;       ***********************************
16546                            6527     ;       ***                             ***
16547                            6528     ;       ***     motor停止               ***
16548                            6529     ;       ***                             ***
16549                            6530     ;       ***********************************
16550                                     ***** BEGIN-POOL *****
16551 00002DE0 00000000                   DATA FOR SOURCE-LINE 6512
16552 00002DE4 00000000                   DATA FOR SOURCE-LINE 6514
16553 00002DE8 00000000                   DATA FOR SOURCE-LINE 6519
16554                                     ***** END-POOL *****
16555 00002DEC                   6531             .ALIGN  4
16556                            6532             .IMPORT _EMG_STOP_SPEC;相手には教えない
16557                            6533     
16558 00002DEC                   6534     _BRKTST_MOTOR_STOP:
16559                            6535             SUB_START
16560 00002DEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
16561                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16562                            6536             FAR_JSR #_EMG_STOP_SPEC,R0              ;相手には教えない
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   192
PROGRAM NAME =

16563 00002DEE D003                   M           MOV.L   #_EMG_STOP_SPEC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16564 00002DF0 400B                   M           JSR     @R0                     ;
16565 00002DF2 0009                   M           NOP                                     ;
16566                            6537             SUB_END
16567                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16568 00002DF4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16569                            6538             M_RTS
16570 00002DF6 000B                   M           RTS                             ;RTSの後ろの
16571 00002DF8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16572                            6539     
16573                            6540     ;       *******************************************
16574                            6541     ;       ***                                     ***
16575                            6542     ;       ***                                     ***
16576                            6543     ;       ***                                     ***
16577                            6544     ;       *******************************************
16578                                     ***** BEGIN-POOL *****
16579 00002DFA 0000                       ALIGNMENT CODE
16580 00002DFC 00000000                   DATA FOR SOURCE-LINE 6536
16581                                     ***** END-POOL *****
16582 00002E00                   6545             .ALIGN  4                               ;
16583 00002E00                   6546     _BRKTST_STOPSIG_MAKE:
16584                            6547             SUB_START
16585 00002E00 4F22                   M           STS.L   PR,@-R15                ;[必要]
16586                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16587 00002E02 D10D              6548             MOV.L   #_BRKTST_STR_FLG,R1                             ;
16588 00002E04 6011              6549             MOV.W   @R1,R0                                          ;
16589 00002E06 C801              6550             TST     #BIT0,R0                                        ;
16590                            6551             TST_BIT_OF BRKTST_STOPSIG_MK300                         ;
16591 00002E08 8912                   M           BT      BRKTST_STOPSIG_MK300
16592                            6552     
16593 00002E0A D40C              6553             MOV.L   #_BRKTST_STP_ABSPLS,R4                                  ;
16594 00002E0C 6542              6554             MOV.L   @R4,R5                                                  ;
16595 00002E0E 5641              6555             MOV.L   @(1*4,R4),R6                                            ;
16596                            6556     
16597 00002E10 D40B              6557             MOV.L   #_LINK_PV_ABSPLS,R4                                     ;
16598 00002E12 6146              6558             MOV.L   @R4+,R1                                                 ;
16599 00002E14 6242              6559             MOV.L   @R4,R2                                                  ;
16600                            6560     
16601                            6561             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6       ;R5,R6 - R1,R2 =R5
                                          ,R6<0なら停止
16602 00002E16 0008                   M           CLRT
16603 00002E18 362A                   M           SUBC    R2,R6
16604 00002E1A 351A                   M           SUBC    R1,R5
16605 00002E1C 4511              6562             CMP/PZ  R5
16606 00002E1E 8907              6563             BT      BRKTST_STOPSIG_MK300                            ;
16607                            6564     
16608 00002E20 D105              6565             MOV.L   #_BRKTST_STR_FLG,R1                             ;
16609 00002E22 6011              6566             MOV.W   @R1,R0                                          ;
16610 00002E24 C9FE              6567             AND     #LOW ~BIT0,R0                                   ;
16611 00002E26 2101              6568             MOV.W   R0,@R1                                          ;
16612                            6569     
16613 00002E28 D106              6570             MOV.L   #_BRKTST_INPUT_CMD,R1                           ;2011-09-14
16614 00002E2A 6011              6571             MOV.W   @R1,R0                                          ;
16615 00002E2C CB02              6572             OR      #BIT1,R0                                        ;
16616 00002E2E 2101              6573             MOV.W   R0,@R1                                          ;
16617                            6574     
16618 00002E30                   6575     BRKTST_STOPSIG_MK300:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   193
PROGRAM NAME =

16619                            6576             SUB_END
16620                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16621 00002E30 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16622                            6577             M_RTS
16623 00002E32 000B                   M           RTS                             ;RTSの後ろの
16624 00002E34 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16625                            6578     
16626                            6579     
16627                            6580     
16628                            6581     ;       ***********************************
16629                            6582     ;       ***                             ***
16630                            6583     ;       ***     RDY-ON 維持条件         ***
16631                            6584     ;       ***                             ***
16632                            6585     ;       ***********************************
16633                            6586     ;       R0=0 RDY ON KEEP
16634                                     ***** BEGIN-POOL *****
16635 00002E36 0000                       ALIGNMENT CODE
16636 00002E38 00000000                   DATA FOR SOURCE-LINE 6548,6565
16637 00002E3C 00000000                   DATA FOR SOURCE-LINE 6553
16638 00002E40 00000000                   DATA FOR SOURCE-LINE 6557
16639 00002E44 00000000                   DATA FOR SOURCE-LINE 6570
16640                                     ***** END-POOL *****
16641 00002E48                   6587     _BRK_RDYON_CONF1:
16642                            6588             SUB_START
16643 00002E48 4F22                   M           STS.L   PR,@-R15                ;[必要]
16644                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16645 00002E4A D108              6589             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340
16646 00002E4C 6011              6590             MOV.W   @R1,R0                          ;
16647 00002E4E 940C              6591             MOV.W   #BIT14,R4                       ;
16648 00002E50 2048              6592             TST     R4,R0                           ;
16649                            6593             TST_BIT_ON BRK_RDY_ON_CF_999            ;一旦停止指令
16650 00002E52 8B11                   M           BF      BRK_RDY_ON_CF_999
16651                            6594     
16652 00002E54 D106              6595             MOV.L   #_SFTY_IN_DAT,R1                ;//安全装置入力 BIT0:前安全　BIT1:後安全装
                                          置
16653 00002E56 6011              6596             MOV.W   @R1,R0                          ;
16654 00002E58 C803              6597             TST     #(BIT1+BIT0),R0                 ;FACT/RACT
16655                            6598             TST_BIT_ON BRK_RDY_ON_CF_999            ;
16656 00002E5A 8B0D                   M           BF      BRK_RDY_ON_CF_999
16657                            6599     
16658 00002E5C D105              6600             MOV.L   #_CNT_STOP_CMD,R1               ;
16659 00002E5E 6011              6601             MOV.W   @R1,R0                          ;
16660 00002E60 C801              6602             TST     #BIT0,R0                        ;
16661                            6603             TST_BIT_ON BRK_RDY_ON_CF_999            ;BIT0=連続停止,(BIT2:LOT,設定異常)
16662 00002E62 8B09                   M           BF      BRK_RDY_ON_CF_999
16663                            6604     
16664                            6605     
16665 00002E64                   6606     BRK_RDY_ON_CF_998:
16666 00002E64 200A              6607             XOR     R0,R0                   ;準備完了
16667                            6608             M_BRA   BRK_RDY_ON_CF_EXT               ;
16668 00002E66 A008                   M           BRA     BRK_RDY_ON_CF_EXT
16669 00002E68 0009                   M           NOP
16670                            6609     
16671                                     ***** BEGIN-POOL *****
16672 00002E6A 4000                       DATA FOR SOURCE-LINE 6591
16673 00002E6C 00000000                   DATA FOR SOURCE-LINE 6589
16674 00002E70 00000000                   DATA FOR SOURCE-LINE 6595
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   194
PROGRAM NAME =

16675 00002E74 00000000                   DATA FOR SOURCE-LINE 6600
16676                                     ***** END-POOL *****
16677 00002E78                   6610     BRK_RDY_ON_CF_999:
16678 00002E78 E0FF              6611             MOV     #-1,R0                  ;準備未完了
16679 00002E7A                   6612     BRK_RDY_ON_CF_EXT:
16680                            6613             SUB_END
16681                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16682 00002E7A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16683                            6614             M_RTS
16684 00002E7C 000B                   M           RTS                             ;RTSの後ろの
16685 00002E7E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16686                            6615     
16687 00002E80                   6616             .ALIGN  4
16688 00002E80 0009              6617             NOP
16689 00002E82 0009              6618             NOP
16690 00002E84 0009              6619             NOP
16691 00002E86 0009              6620             NOP
16692                            6621     
16693                            6622     ;       *******************************************
16694                            6623     ;       ***                                     ***
16695                            6624     ;       ***                                     ***
16696                            6625     ;       ***                                     ***
16697                            6626     ;       ***                                     ***
16698                            6627     ;       ***                                     ***
16699                            6628     ;       ***                                     ***
16700                            6629     ;       ***             R02R03新機能            ***
16701                            6630     ;       ***                                     ***
16702                            6631     ;       ***                                     ***
16703                            6632     ;       ***                                     ***
16704                            6633     ;       ***                                     ***
16705                            6634     ;       ***                                     ***
16706                            6635     ;       ***                                     ***
16707                            6636     ;       *******************************************
16708                            6637     
16709                            6638     ;       *******************************************
16710                            6639     ;       ***                                     ***
16711                            6640     ;       ***                                     ***
16712                            6641     ;       ***             外部起動                ***
16713                            6642     ;       ***                                     ***
16714                            6643     ;       ***                                     ***
16715                            6644     ;       *******************************************
16716                            6645             .EXPORT _EXT_DRVBTTN_MODE
16717 00002E88                   6646     _EXT_DRVBTTN_MODE
16718                            6647             SUB_START
16719 00002E88 4F22                   M           STS.L   PR,@-R15                ;[必要]
16720                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16721                            6648     
16722 00002E8A D10D              6649             MOV.L   #(_PAR_EXTDRV_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
16723 00002E8C 6011              6650             MOV.W   @R1,R0                                                  ;
16724 00002E8E 8801              6651             CMP/EQ  #1,R0                                                   ;
16725 00002E90 8B12              6652             BF      EXT_DRVBTTN_MOD_END                                     ;
16726                            6653     
16727                            6654             FAR_JSR #_EXT_DRVBTTN_INFO_MAKE,R0              ;
16728 00002E92 D00C                   M           MOV.L   #_EXT_DRVBTTN_INFO_MAKE,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16729 00002E94 400B                   M           JSR     @R0                     ;
16730 00002E96 0009                   M           NOP                                     ;
16731                            6655     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   195
PROGRAM NAME =

16732                            6656     
16733                            6657             FAR_JSR #_EXT_DRVBTTN_MODJG_CONF,R0     ;
16734 00002E98 D00B                   M           MOV.L   #_EXT_DRVBTTN_MODJG_CONF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16735 00002E9A 400B                   M           JSR     @R0                     ;
16736 00002E9C 0009                   M           NOP                                     ;
16737                            6658     
16738 00002E9E 930E              6659             MOV.W   #BIT15,R3
16739 00002EA0 244A              6660             XOR     R4,R4                           ;
16740 00002EA2 D10A              6661             MOV.L   #_EXTDRV_BTTN_USE,R1            ;//SYSPARAM+各条件
16741 00002EA4 6011              6662             MOV.W   @R1,R0                          ;
16742 00002EA6 2008              6663             TST     R0,R0                           ;
16743                            6664             TST_BIT_OF EXT_DRVBTTN_MOD100           ;
16744 00002EA8 8900                   M           BT      EXT_DRVBTTN_MOD100
16745 00002EAA 6433              6665             MOV     R3,R4                           ;
16746 00002EAC                   6666     EXT_DRVBTTN_MOD100
16747                            6667     
16748 00002EAC 6337              6668             NOT     R3,R3                           ;
16749 00002EAE D108              6669             MOV.L   #_SQ_CBWK_TOP+_WKSQCB227,R1     ;
16750 00002EB0 6211              6670             MOV.W   @R1,R2                          ;
16751 00002EB2 2239              6671             AND     R3,R2                           ;
16752 00002EB4 224B              6672             OR      R4,R2                           ;
16753 00002EB6 2121              6673             MOV.W   R2,@R1                          ;
16754                            6674     
16755                            6675     
16756 00002EB8                   6676     EXT_DRVBTTN_MOD_END
16757                            6677     
16758                            6678             SUB_END
16759                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16760 00002EB8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16761                            6679             M_RTS
16762 00002EBA 000B                   M           RTS                             ;RTSの後ろの
16763 00002EBC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16764                            6680     
16765                            6681     
16766                            6682     
16767                            6683     ;       ***********************************
16768                            6684     ;       ***                             ***
16769                            6685     ;       ***     釦入力                  ***
16770                            6686     ;       ***                             ***
16771                            6687     ;       ***********************************
16772                                     ***** BEGIN-POOL *****
16773 00002EBE 8000                       DATA FOR SOURCE-LINE 6659
16774 00002EC0 00000000                   DATA FOR SOURCE-LINE 6649
16775 00002EC4 00000000                   DATA FOR SOURCE-LINE 6654
16776 00002EC8 00000000                   DATA FOR SOURCE-LINE 6657
16777 00002ECC 00000000                   DATA FOR SOURCE-LINE 6661
16778 00002ED0 00000000                   DATA FOR SOURCE-LINE 6669
16779                                     ***** END-POOL *****
16780 00002ED4                   6688     _EXT_DRVBTTN_INFO_MAKE:
16781                            6689             SUB_START
16782 00002ED4 4F22                   M           STS.L   PR,@-R15                ;[必要]
16783                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16784                            6690     
16785                            6691     ;       ---------- 打ち抜き記憶処理だけ先に行う------------------
16786 00002ED6 255A              6692             XOR     R5,R5
16787 00002ED8 D10D              6693             MOV.L   #_CB_SEQ_CB_COM352,R1           ;//
16788 00002EDA 6011              6694             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   196
PROGRAM NAME =

16789 00002EDC C801              6695             TST     #BIT0,R0                        ;
16790                            6696             TST_BIT_OF EXT_DRVBTTN_INFO_MK100       ;
16791 00002EDE 8907                   M           BT      EXT_DRVBTTN_INFO_MK100
16792                            6697     
16793 00002EE0 D10C              6698             MOV.L   #_EXTDRV_UTINUKI_FLG,R1         ;//打抜記憶
16794 00002EE2 6511              6699             MOV.W   @R1,R5                          ;自己保持
16795                            6700     
16796 00002EE4 D10C              6701             MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
16797 00002EE6 6011              6702             MOV.W   @R1,R0                          ;
16798 00002EE8 940E              6703             MOV.W   #_WOATO,R4                      ;
16799 00002EEA 2048              6704             TST     R4,R0                           ;AUTO ON?
16800                            6705             TST_BIT_OF EXT_DRVBTTN_INFO_MK100
16801 00002EEC 8900                   M           BT      EXT_DRVBTTN_INFO_MK100
16802                            6706     
16803 00002EEE E501              6707             MOV.B   #BIT0,R5                        ;
16804                            6708     
16805 00002EF0                   6709     EXT_DRVBTTN_INFO_MK100:
16806 00002EF0 D108              6710             MOV.L   #_EXTDRV_UTINUKI_FLG,R1         ;//打抜記憶
16807 00002EF2 2151              6711             MOV.W   R5,@R1                          ;
16808                            6712     
16809                            6713     
16810                            6714     ;       -----------------釦入力---------------------------
16811 00002EF4 D109              6715             MOV.L   #_CB_IN_HANYO,R1                        ;//BIT8,9,10,11,12,13 6点(SQ004相
                                          当)
16812 00002EF6 6011              6716             MOV.W   @R1,R0                                  ;(論理あわせ済み信号)
16813 00002EF8 9307              6717             MOV.W   #(BIT11+BIT10),R3                       ;BIT10=N.C　0:運転 BIT11=N.O 1:運
                                          転
16814 00002EFA 2039              6718             AND     R3,R0                                   ;
16815 00002EFC 9406              6719             MOV.W   #(0+BIT10),R4                           ;両手OFF
16816 00002EFE 3040              6720             CMP/EQ  R4,R0                                   ;
16817 00002F00 8B0E              6721             BF      EXT_DRVBTTN_INFO_MK200                  ;
16818 00002F02 E201              6722             MOV.B   #BIT0,R2                                ;
16819                            6723             M_BRA   EXT_DRVBTTN_INFO_MK400                  ;
16820 00002F04 A014                   M           BRA     EXT_DRVBTTN_INFO_MK400
16821 00002F06 0009                   M           NOP
16822                            6724     
16823                                     ***** BEGIN-POOL *****
16824 00002F08 0040                       DATA FOR SOURCE-LINE 6703
16825 00002F0A 0C00                       DATA FOR SOURCE-LINE 6717
16826 00002F0C 0400                       DATA FOR SOURCE-LINE 6719
16827 00002F0E 0000                       ALIGNMENT CODE
16828 00002F10 00000000                   DATA FOR SOURCE-LINE 6693
16829 00002F14 00000000                   DATA FOR SOURCE-LINE 6698,6710
16830 00002F18 00000000                   DATA FOR SOURCE-LINE 6701
16831 00002F1C 00000000                   DATA FOR SOURCE-LINE 6715
16832                                     ***** END-POOL *****
16833 00002F20                   6725     EXT_DRVBTTN_INFO_MK200
16834 00002F20 9404              6726             MOV.W   #(BIT11+0),R4                           ;両手ON
16835 00002F22 3040              6727             CMP/EQ  R4,R0                                   ;
16836 00002F24 8B03              6728             BF      EXT_DRVBTTN_INFO_MK300                  ;
16837 00002F26 E204              6729             MOV.B   #BIT2,R2                                ;
16838                            6730             M_BRA   EXT_DRVBTTN_INFO_MK400                  ;
16839 00002F28 A002                   M           BRA     EXT_DRVBTTN_INFO_MK400
16840 00002F2A 0009                   M           NOP
16841                            6731     
16842                                     ***** BEGIN-POOL *****
16843 00002F2C 0800                       DATA FOR SOURCE-LINE 6726
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   197
PROGRAM NAME =

16844                                     ***** END-POOL *****
16845 00002F2E                   6732     EXT_DRVBTTN_INFO_MK300
16846                            6733     
16847 00002F2E E202              6734             MOV.B   #BIT1,R2                                ;片手ON
16848                            6735     
16849 00002F30                   6736     EXT_DRVBTTN_INFO_MK400:
16850 00002F30 D107              6737             MOV.L   #_EXT_BTTN_FLG,R1                       ;
16851 00002F32 2121              6738             MOV.W   R2,@R1                                  ;
16852                            6739                                                             ;BIT10=BIT11=1 1秒で異常
16853                            6740     
16854                            6741     
16855 00002F34 D107              6742             MOV.L   #_EXTDRV_BTTN_USE,R1                    ;//SYSPARAM+各条件
16856 00002F36 6211              6743             MOV.W   @R1,R2                                  ;
16857 00002F38 2228              6744             TST     R2,R2                                   ;
16858                            6745             TST_BIT_OF EXT_DRVBTTN_INFO_MK410               ;
16859 00002F3A 8902                   M           BT      EXT_DRVBTTN_INFO_MK410
16860                            6746     
16861                            6747     ;       ---------- 釦異常ﾁｪｯｸ input R0[実入力]
16862 00002F3C 9406              6748             MOV.W   #(BIT11+BIT10),R4                       ;
16863 00002F3E 3040              6749             CMP/EQ  R4,R0                                   ;異常?
16864 00002F40 890C              6750             BT      EXT_DRVBTTN_INFO_MK420                  ;YES
16865 00002F42                   6751     EXT_DRVBTTN_INFO_MK410:
16866                            6752             FAR_JSR #_EXT_DRVBTTN_ERRTIM_SET,R0             ;
16867 00002F42 D005                   M           MOV.L   #_EXT_DRVBTTN_ERRTIM_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16868 00002F44 400B                   M           JSR     @R0                     ;
16869 00002F46 0009                   M           NOP                                     ;
16870                            6753             M_BRA   EXT_DRVBTTN_INFO_MK500                  ;NOMAL
16871 00002F48 A01B                   M           BRA     EXT_DRVBTTN_INFO_MK500
16872 00002F4A 0009                   M           NOP
16873                            6754     
16874                                     ***** BEGIN-POOL *****
16875 00002F4C 0C00                       DATA FOR SOURCE-LINE 6748
16876 00002F4E 0000                       ALIGNMENT CODE
16877 00002F50 00000000                   DATA FOR SOURCE-LINE 6737
16878 00002F54 00000000                   DATA FOR SOURCE-LINE 6742
16879 00002F58 00000000                   DATA FOR SOURCE-LINE 6752
16880                                     ***** END-POOL *****
16881 00002F5C                   6755     EXT_DRVBTTN_INFO_MK420:
16882 00002F5C D103              6756             MOV.L   #_EXTDRV_BTTN_ERR_TIM,R1                ;
16883 00002F5E 6011              6757             MOV.W   @R1,R0                                  ;
16884 00002F60 2008              6758             TST     R0,R0                                   ;
16885                            6759             TST_BIT_OF EXT_DRVBTTN_INFO_MK450               ;異常
16886 00002F62 8905                   M           BT      EXT_DRVBTTN_INFO_MK450
16887 00002F64 70FF              6760             ADD     #-1,R0                                  ;
16888 00002F66 2101              6761             MOV.W   R0,@R1                                  ;
16889                            6762             M_BRA   EXT_DRVBTTN_INFO_MK500                  ;NOMALだが
16890 00002F68 A00B                   M           BRA     EXT_DRVBTTN_INFO_MK500
16891 00002F6A 0009                   M           NOP
16892                            6763     
16893                                     ***** BEGIN-POOL *****
16894 00002F6C 00000000                   DATA FOR SOURCE-LINE 6756
16895                                     ***** END-POOL *****
16896 00002F70                   6764     EXT_DRVBTTN_INFO_MK450:
16897                            6765     
16898                            6766             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB216,LG=W,BIT=(BIT15),WKRG1=R1,WKRG2=R4
                                          ;
16899 00002F70 D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB216,R1             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   198
PROGRAM NAME =

16900 00002F72 6011                   M           MOV.W   @R1,R0          ;
16901 00002F74 9408                   M           MOV.W   #(BIT15),R4             ;
16902 00002F76 204B                   M           OR      R4,R0           ;
16903 00002F78 2101                   M           MOV.W   R0,@R1          ;
16904 00002F7A 9406              6767             MOV.W   #H'216F,R4
                                          ;216.15
16905                            6768             FAR_JSR #_EMG_STOP,R0
                                          ;
16906 00002F7C D004                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16907 00002F7E 400B                   M           JSR     @R0                     ;
16908 00002F80 0009                   M           NOP                                     ;
16909                            6769     
16910 00002F82                   6770     EXT_DRVBTTN_INFO_MK500:
16911                            6771     
16912                            6772     
16913                            6773             SUB_END
16914                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16915 00002F82 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16916                            6774             M_RTS
16917 00002F84 000B                   M           RTS                             ;RTSの後ろの
16918 00002F86 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16919                            6775     
16920                            6776     
16921                            6777     ;       ***********************************
16922                            6778     ;       ***                             ***
16923                            6779     ;       ***     切替                    ***
16924                            6780     ;       ***                             ***
16925                            6781     ;       ***********************************
16926                                     ***** BEGIN-POOL *****
16927 00002F88 8000                       DATA FOR SOURCE-LINE 6766
16928 00002F8A 216F                       DATA FOR SOURCE-LINE 6767
16929 00002F8C 00000000                   DATA FOR SOURCE-LINE 6766
16930 00002F90 00000000                   DATA FOR SOURCE-LINE 6768
16931                                     ***** END-POOL *****
16932 00002F94                   6782     _EXT_DRVBTTN_MODJG_CONF
16933                            6783             SUB_START
16934 00002F94 4F22                   M           STS.L   PR,@-R15                ;[必要]
16935                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16936                            6784     
16937 00002F96 266A              6785             XOR     R6,R6                                                   ;ANS
16938                            6786     
16939                            6787     ;       ----------------------------------------------
16940 00002F98 D10F              6788             MOV.L   #_di1_cb_ctl1_dt,R1                                     ;//
16941 00002F9A 6011              6789             MOV.W   @R1,R0                                                  ;
16942 00002F9C C810              6790             TST     #_W1OPT,R0                                              ;OPT
16943                            6791             TST_BIT_OF EXT_DRVBTTN_MODJG_CF500                              ;ｵﾌﾟｼｮﾝ行程ではな
                                          い
16944 00002F9E 8924                   M           BT      EXT_DRVBTTN_MODJG_CF500
16945                            6792     
16946                            6793     ;       ------------[ﾉｯﾁsw=ｵﾌﾟｼｮﾝ行程]----------------------------------
16947                            6794     
16948                            6795     ;       ----------- 352,1=1 外部入力　外部起動ﾓｰﾄﾞ----------------------
16949 00002FA0 D10E              6796             MOV.L   #_CB_SEQ_CB_COM352,R1                   ;//2014-09-01
16950 00002FA2 6011              6797             MOV.W   @R1,R0                                  ;
16951 00002FA4 C802              6798             TST     #BIT1,R0                                ;
16952                            6799             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300              ;
16953 00002FA6 8B1F                   M           BF      EXT_DRVBTTN_MODJG_CF300
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   199
PROGRAM NAME =

16954                            6800     
16955                            6801     ;       ------------[仕様設定107 22.10=1]----------------------------------
16956 00002FA8 D10D              6802             MOV.L   #_CB_SEQ_SW_SEL022,R1           ;
16957 00002FAA 6011              6803             MOV.W   @R1,R0                          ;
16958 00002FAC 9410              6804             MOV.W   #BIT10,R4                       ;107
16959 00002FAE 2048              6805             TST     R4,R0                           ;
16960                            6806             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300      ;22.10=1 有効
16961 00002FB0 8B1A                   M           BF      EXT_DRVBTTN_MODJG_CF300
16962                            6807     
16963                            6808     
16964 00002FB2 940E              6809             MOV.W   #BIT11,R4                       ;108 22.11
16965 00002FB4 2048              6810             TST     R4,R0                           ;
16966                            6811             TST_BIT_OF EXT_DRVBTTN_MODJG_CF500      ;22.11=0 無効
16967 00002FB6 8918                   M           BT      EXT_DRVBTTN_MODJG_CF500
16968                            6812     
16969                            6813     ;       ------------[仕様設定108 22.11=1]----------------------------------
16970 00002FB8 940C              6814             MOV.W   #(BIT6+BIT4),R4                 ;
16971 00002FBA 2048              6815             TST     R4,R0                           ;
16972                            6816             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300      ;22.6(103) 22.4(101)のどちらかONで有効
16973 00002FBC 8B14                   M           BF      EXT_DRVBTTN_MODJG_CF300
16974                            6817     
16975 00002FBE 940A              6818             MOV.W   #(BIT8+BIT7),R4                 ;22.8(105) 22.7(104)の両方OFFで有効
16976 00002FC0 2048              6819             TST     R4,R0                           ;
16977                            6820             TST_BIT_OF EXT_DRVBTTN_MODJG_CF300      ;
16978 00002FC2 8911                   M           BT      EXT_DRVBTTN_MODJG_CF300
16979                            6821     
16980                            6822     ;       打抜記憶
16981 00002FC4 D107              6823             MOV.L   #_EXTDRV_UTINUKI_FLG,R1         ;//打抜記憶
16982 00002FC6 6011              6824             MOV.W   @R1,R0                          ;
16983 00002FC8 C801              6825             TST     #BIT0,R0                        ;
16984                            6826             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300      ;有効
16985 00002FCA 8B0D                   M           BF      EXT_DRVBTTN_MODJG_CF300
16986                            6827             M_BRA   EXT_DRVBTTN_MODJG_CF500         ;
16987 00002FCC A00D                   M           BRA     EXT_DRVBTTN_MODJG_CF500
16988 00002FCE 0009                   M           NOP
16989                            6828     ;       ----------------------------------------------------------------------
16990                            6829     
16991                            6830     
16992                            6831     ;       --------------- 有効----------------------
16993                                     ***** BEGIN-POOL *****
16994 00002FD0 0400                       DATA FOR SOURCE-LINE 6804
16995 00002FD2 0800                       DATA FOR SOURCE-LINE 6809
16996 00002FD4 0050                       DATA FOR SOURCE-LINE 6814
16997 00002FD6 0180                       DATA FOR SOURCE-LINE 6818
16998 00002FD8 00000000                   DATA FOR SOURCE-LINE 6788
16999 00002FDC 00000000                   DATA FOR SOURCE-LINE 6796
17000 00002FE0 00000000                   DATA FOR SOURCE-LINE 6802
17001 00002FE4 00000000                   DATA FOR SOURCE-LINE 6823
17002                                     ***** END-POOL *****
17003 00002FE8                   6832     EXT_DRVBTTN_MODJG_CF300
17004 00002FE8 E601              6833             MOV.B   #BIT0,R6                        ;
17005 00002FEA                   6834     EXT_DRVBTTN_MODJG_CF500
17006 00002FEA D106              6835             MOV.L   #_EXTDRV_BTTN_USE,R1    ;//SYSPARAM+各条件
17007 00002FEC 6011              6836             MOV.W   @R1,R0                  ;
17008 00002FEE 2161              6837             MOV.W   R6,@R1                  ;NEW=R6
17009                            6838     
17010 00002FF0 206A              6839             XOR     R6,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   200
PROGRAM NAME =

17011 00002FF2 2069              6840             AND     R6,R0                           ;R0=BIT0
17012 00002FF4 C801              6841             TST     #BIT0,R0                        ;
17013                            6842             TST_BIT_OF EXT_DRVBTTN_MODJG_CF700      ;
17014 00002FF6 8902                   M           BT      EXT_DRVBTTN_MODJG_CF700
17015                            6843     
17016                            6844     ;       ------- 立ち上がり[異常検出タイマプリセット]　-----------
17017                            6845             FAR_JSR #_EXT_DRVBTTN_ERRTIM_SET,R0     ;
17018 00002FF8 D003                   M           MOV.L   #_EXT_DRVBTTN_ERRTIM_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17019 00002FFA 400B                   M           JSR     @R0                     ;
17020 00002FFC 0009                   M           NOP                                     ;
17021                            6846     
17022                            6847     
17023 00002FFE                   6848     EXT_DRVBTTN_MODJG_CF700
17024                            6849             SUB_END
17025                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17026 00002FFE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17027                            6850             M_RTS
17028 00003000 000B                   M           RTS                             ;RTSの後ろの
17029 00003002 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17030                            6851     
17031                            6852     
17032                                     ***** BEGIN-POOL *****
17033 00003004 00000000                   DATA FOR SOURCE-LINE 6835
17034 00003008 00000000                   DATA FOR SOURCE-LINE 6845
17035                                     ***** END-POOL *****
17036 0000300C                   6853     _EXT_DRVBTTN_ERRTIM_SET
17037                            6854             SUB_START
17038 0000300C 4F22                   M           STS.L   PR,@-R15                ;[必要]
17039                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17040 0000300E D103              6855             MOV.L   #(_PAR_BTNER_TM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1       ;NO=NC=1 THEN 異常
17041 00003010 6011              6856             MOV.W   @R1,R0                                                  ;
17042 00003012 D103              6857             MOV.L   #_EXTDRV_BTTN_ERR_TIM,R1                                ;
17043 00003014 2101              6858             MOV.W   R0,@R1                                                  ;運転ボタン異常時
                                          間１秒
17044                            6859             SUB_END
17045                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17046 00003016 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17047                            6860             M_RTS
17048 00003018 000B                   M           RTS                             ;RTSの後ろの
17049 0000301A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17050                            6861     
17051                            6862     
17052                            6863     
17053                            6864     ;       *******************************************
17054                            6865     ;       ***                                     ***
17055                            6866     ;       ***     位置決め一旦停止(自動待機位置)  ***
17056                            6867     ;       ***                                     ***
17057                            6868     ;       *******************************************
17058                            6869     ;       ﾊﾝﾄﾞｼｪｲｸの考え
17059                            6870     ;       ----------- 停止処理側---------------------------------
17060                            6871     ;               [1]運転
17061                            6872     ;               [2]停止判定したCPU(A)            -->[SH4_HD_HLDSTOP1]=-1 -->CPU(B)
17062                            6873     ;               [3]停止状態
17063                            6874     ;               [4]相手CPU同状態(停止)判定待ち   -->[SH4==SH2==-1]
17064                            6875     ;       ----------- 起動処理側---------------------------------
17065                            6876     ;               [5]起動条件待ち->起動条件成立    -->[SH4_HD_HLDSTOP1]=0  -->CPU(B)
17066                            6877     ;               [6]相手CPU同状態(起動)待ち       -->[SH4==SH2==0]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   201
PROGRAM NAME =

17067                            6878     ;               [7]実起動処理
17068                            6879     ;;      _CPU_AB_DRVHLDSTOP_ON_OUT       ;
17069                            6880     ;;      _CPU_AB_DRVHLDSTOP_OF_OUT       ;
17070                            6881     ;;      _CPU_BA_DRVHLDSTOP_ON_JG        ;
17071                            6882     ;;      _CPU_BA_DRVHLDSTOP_OF_JG        ;
17072                            6883     
17073                            6884     ;       ***************************
17074                            6885     ;       ***                     ***
17075                            6886     ;       ***     停止側処理      ***
17076                            6887     ;       ***                     ***
17077                            6888     ;       ***************************
17078                            6889     ;       //BIT0=1:ﾎｰﾙﾄﾞ停止受付[自分停止ON または相手停止ON]
17079                            6890             .IMPORT _CMP_HOLD_CTLGENSOK
17080                            6891     
17081                                     ***** BEGIN-POOL *****
17082 0000301C 00000000                   DATA FOR SOURCE-LINE 6855
17083 00003020 00000000                   DATA FOR SOURCE-LINE 6857
17084                                     ***** END-POOL *****
17085 00003024                   6892     _POSHLD1_STEP1_STOPCMD_CHK:
17086                            6893             SUB_START
17087 00003024 4F22                   M           STS.L   PR,@-R15                ;[必要]
17088                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17089 00003026 D103              6894             MOV.L   #_POS_HLDSTOP1_FLG,R1           ;//位置決め状態、準備未完了状態にて行う
17090 00003028 6011              6895             MOV.W   @R1,R0                          ;
17091 0000302A C801              6896             TST     #BIT0,R0                        ;
17092                            6897             TST_BIT_OF POSHLD1_STEP1_STOP100        ;
17093 0000302C 8904                   M           BT      POSHLD1_STEP1_STOP100
17094                            6898             M_BRA   POSHLD1_STEP1_STOPWAIT          ;BIT0=1:停止側の処理は終了:上のソフトの処
                                          理待ち
17095 0000302E A056                   M           BRA     POSHLD1_STEP1_STOPWAIT
17096 00003030 0009                   M           NOP
17097                            6899     
17098                            6900     ;       -------------停止信号待ち-----------------------
17099                            6901     ;       自分は範囲でしか停止出力しない
17100                            6902     ;       相手からはいつでも受け付ける
17101                            6903     
17102                                     ***** BEGIN-POOL *****
17103 00003032 0000                       ALIGNMENT CODE
17104 00003034 00000000                   DATA FOR SOURCE-LINE 6894
17105                                     ***** END-POOL *****
17106 00003038                   6904     POSHLD1_STEP1_STOP100:
17107                            6905             FAR_JSR #_CPU_BA_DRVHLDSTOP_ON_JG,R0            ;相手CPUから止まれといわれたか
17108 00003038 D00D                   M           MOV.L   #_CPU_BA_DRVHLDSTOP_ON_JG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17109 0000303A 400B                   M           JSR     @R0                     ;
17110 0000303C 0009                   M           NOP                                     ;
17111 0000303E 2008              6906             TST     R0,R0                                   ;
17112                            6907             TST_BIT_ON POSHLD1_STEP1_STOP150                ;
17113 00003040 8B20                   M           BF      POSHLD1_STEP1_STOP150
17114                            6908     
17115 00003042 D10C              6909             MOV.L   #_SEQAB_DP_TOP+151*2,R1                 ;151.8[本仕様有]
17116 00003044 6011              6910             MOV.W   @R1,R0                                  ;
17117 00003046 9411              6911             MOV.W   #BIT8,R4                                ;
17118 00003048 2048              6912             TST     R4,R0                                   ;
17119                            6913             TST_BIT_OF POSHLD1_STEP1_STOPNO                 ;
17120 0000304A 8945                   M           BT      POSHLD1_STEP1_STOPNO
17121                            6914     
17122 0000304C D10A              6915             MOV.L   #_SEQAB_DP_TOP+32*2,R1                  ;32.12[入/切]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   202
PROGRAM NAME =

17123 0000304E 6011              6916             MOV.W   @R1,R0                                  ;
17124 00003050 940D              6917             MOV.W   #BIT12,R4                               ;
17125 00003052 2048              6918             TST     R4,R0                                   ;
17126                            6919             TST_BIT_OF POSHLD1_STEP1_STOPNO                 ;
17127 00003054 8940                   M           BT      POSHLD1_STEP1_STOPNO
17128                            6920     
17129 00003056 D109              6921             MOV.L   #_MODE_SEL,R1                   ;
17130 00003058 6011              6922             MOV.W   @R1,R0                          ;
17131 0000305A C81C              6923             TST     #_W1CNT+_W1SGL+_W1OPT,R0        ;
17132                            6924             TST_BIT_OF POSHLD1_STEP1_STOPNO
17133 0000305C 893C                   M           BT      POSHLD1_STEP1_STOPNO
17134                            6925     
17135                            6926     
17136                            6927             FAR_JSR #_POSHLD1_STOP_CONFCHK,R0
17137 0000305E D008                   M           MOV.L   #_POSHLD1_STOP_CONFCHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17138 00003060 400B                   M           JSR     @R0                     ;
17139 00003062 0009                   M           NOP                                     ;
17140 00003064 2008              6928             TST     R0,R0                                   ;
17141                            6929             TST_BIT_ON POSHLD1_STEP1_STOP150                ;
17142 00003066 8B0D                   M           BF      POSHLD1_STEP1_STOP150
17143                            6930             M_BRA   POSHLD1_STEP1_STOPNO                    ;
17144 00003068 A036                   M           BRA     POSHLD1_STEP1_STOPNO
17145 0000306A 0009                   M           NOP
17146                            6931     
17147                            6932     
17148                                     ***** BEGIN-POOL *****
17149 0000306C 0100                       DATA FOR SOURCE-LINE 6911
17150 0000306E 1000                       DATA FOR SOURCE-LINE 6917
17151 00003070 00000000                   DATA FOR SOURCE-LINE 6905
17152 00003074 00000000                   DATA FOR SOURCE-LINE 6909
17153 00003078 00000000                   DATA FOR SOURCE-LINE 6915
17154 0000307C 00000000                   DATA FOR SOURCE-LINE 6921
17155 00003080 00000000                   DATA FOR SOURCE-LINE 6927
17156                                     ***** END-POOL *****
17157 00003084                   6933     POSHLD1_STEP1_STOP150:
17158                            6934     
17159                            6935             FAR_JSR #_POSHLD1_STOPBTTNCMD_CHK,R0            ;停止釦を記憶
17160 00003084 D00D                   M           MOV.L   #_POSHLD1_STOPBTTNCMD_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17161 00003086 400B                   M           JSR     @R0                     ;
17162 00003088 0009                   M           NOP                                     ;
17163                            6936     
17164                            6937     ;       --------- 停止条件成立---------
17165                            6938             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
17166 0000308A D00D                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17167 0000308C 400B                   M           JSR     @R0                     ;
17168 0000308E 0009                   M           NOP                                     ;
17169                            6939     
17170                            6940             MOD_LOW_STOP_R0_R1
                                          ;
17171 00003090 D10C                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
17172 00003092 E002                   M           MOV.B   #BIT1,R0                        ;
17173 00003094 2101                   M           MOV.W   R0,@R1                          ;
17174                            6941             FAR_JSR #_CPU_AB_DRVHLDSTOP_ON_OUT,R0
                                          ;
17175 00003096 D00C                   M           MOV.L   #_CPU_AB_DRVHLDSTOP_ON_OUT,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17176 00003098 400B                   M           JSR     @R0                     ;
17177 0000309A 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   203
PROGRAM NAME =

17178                            6942             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HLDSTOP1_FLG,LG=W,BIT=(BIT0),WKREG=R1
                                          ;BIT0
17179 0000309C D10B                   M           MOV.L   #_POS_HLDSTOP1_FLG,R1           ;
17180 0000309E 6011                   M           MOV.W   @R1,R0          ;
17181 000030A0 CB01                   M           OR      #(BIT0),R0              ;
17182 000030A2 2101                   M           MOV.W   R0,@R1          ;
17183                            6943             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_CMD,LG=W,BIT=(BIT0),WKREG=R1
                                          ;BIT0
17184 000030A4 D10A                   M           MOV.L   #_POS_HOLD_CMD,R1               ;
17185 000030A6 6011                   M           MOV.W   @R1,R0          ;
17186 000030A8 CB01                   M           OR      #(BIT0),R0              ;
17187 000030AA 2101                   M           MOV.W   R0,@R1          ;
17188                            6944             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT6),WKRG1=R1,WKRG2=R4
                                          ;待機減速開始
17189 000030AC D109                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17190 000030AE 6011                   M           MOV.W   @R1,R0          ;
17191 000030B0 9403                   M           MOV.W   #(BIT6),R4              ;
17192 000030B2 204B                   M           OR      R4,R0           ;
17193 000030B4 2101                   M           MOV.W   R0,@R1          ;
17194                            6945     
17195                            6946             M_BRA   POSHLD1_STEP1_STOPWAIT
17196 000030B6 A012                   M           BRA     POSHLD1_STEP1_STOPWAIT
17197 000030B8 0009                   M           NOP
17198                            6947     
17199                            6948     
17200                                     ***** BEGIN-POOL *****
17201 000030BA 0040                       DATA FOR SOURCE-LINE 6944
17202 000030BC 00000000                   DATA FOR SOURCE-LINE 6935
17203 000030C0 00000000                   DATA FOR SOURCE-LINE 6938
17204 000030C4 00000000                   DATA FOR SOURCE-LINE 6940
17205 000030C8 00000000                   DATA FOR SOURCE-LINE 6941
17206 000030CC 00000000                   DATA FOR SOURCE-LINE 6942
17207 000030D0 00000000                   DATA FOR SOURCE-LINE 6943
17208 000030D4 00000000                   DATA FOR SOURCE-LINE 6944
17209                                     ***** END-POOL *****
17210 000030D8                   6949     POSHLD1_STEP1_STOPNO:
17211 000030D8 200A              6950             XOR     R0,R0                   ;何もない(動いていいよ、動くことを妨げない)
17212                            6951             M_BRA   POSHLD1_STEP1_STOPEXT
17213 000030DA A004                   M           BRA     POSHLD1_STEP1_STOPEXT
17214 000030DC 0009                   M           NOP
17215                            6952     
17216 000030DE                   6953     POSHLD1_STEP1_STOPWAIT:
17217 000030DE E0FF              6954             MOV.B   #-1,R0                  ;停止処理中
17218                            6955             M_BRA   POSHLD1_STEP1_STOPEXT
17219 000030E0 A001                   M           BRA     POSHLD1_STEP1_STOPEXT
17220 000030E2 0009                   M           NOP
17221                            6956     
17222 000030E4                   6957     POSHLD1_STEP1_STOPSTOP:
17223 000030E4 E001              6958             MOV.B   #1,R0                   ;停止終了
17224 000030E6                   6959     POSHLD1_STEP1_STOPEXT:
17225                            6960     
17226                            6961             SUB_END
17227                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17228 000030E6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17229                            6962             M_RTS
17230 000030E8 000B                   M           RTS                             ;RTSの後ろの
17231 000030EA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   204
PROGRAM NAME =

17232                            6963     
17233                            6964     
17234                            6965     ;       ***********************************************************
17235                            6966     ;       ***     位置決め停止前の停止釦、一旦停止中停止釦の記憶  ***
17236                            6967     ;       ***********************************************************
17237                            6968     ;       1ｻｲｸﾙに2回の停止位置は存在しない
17238 000030EC                   6969     _POSHLD1_STOPBTTNCMD_CHK
17239                            6970             SUB_START
17240 000030EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
17241                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17242                            6971     
17243 000030EE D107              6972             MOV.L   #_CNT_STOP_CMD,R1               ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄｱｯﾌﾟ
17244 000030F0 6011              6973             MOV.W   @R1,R0                          ;
17245 000030F2 2008              6974             TST     R0,R0                           ;
17246                            6975             TST_BIT_ON  POSHLD1_STOPBTTNCMDCK_050
17247 000030F4 8B03                   M           BF      POSHLD1_STOPBTTNCMDCK_050
17248 000030F6 D106              6976             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
17249 000030F8 6011              6977             MOV.W   @R1,R0                          ;
17250 000030FA 2008              6978             TST     R0,R0
17251                            6979             TST_BIT_OF POSHLD1_STOPBTTNCMDCK_100    ;
17252 000030FC 8903                   M           BT      POSHLD1_STOPBTTNCMDCK_100
17253 000030FE                   6980     POSHLD1_STOPBTTNCMDCK_050
17254                            6981             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSHLD1_STOPLATCH,LG=W,BIT=(BIT0),WKREG=R1
                                          ;BIT0
17255 000030FE D105                   M           MOV.L   #_POSHLD1_STOPLATCH,R1          ;
17256 00003100 6011                   M           MOV.W   @R1,R0          ;
17257 00003102 CB01                   M           OR      #(BIT0),R0              ;
17258 00003104 2101                   M           MOV.W   R0,@R1          ;
17259 00003106                   6982     POSHLD1_STOPBTTNCMDCK_100
17260                            6983     
17261                            6984     
17262                            6985             SUB_END
17263                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17264 00003106 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17265                            6986             M_RTS
17266 00003108 000B                   M           RTS                             ;RTSの後ろの
17267 0000310A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17268                            6987     
17269                            6988     
17270                            6989     
17271                                     ***** BEGIN-POOL *****
17272 0000310C 00000000                   DATA FOR SOURCE-LINE 6972
17273 00003110 00000000                   DATA FOR SOURCE-LINE 6976
17274 00003114 00000000                   DATA FOR SOURCE-LINE 6981
17275                                     ***** END-POOL *****
17276 00003118                   6990     _POSHLD1_STOP_CONFCHK:
17277                            6991             SUB_START
17278 00003118 4F22                   M           STS.L   PR,@-R15                ;[必要]
17279                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17280                            6992     
17281 0000311A D125              6993             MOV.L   #_POS_HOLDABS_CALCF,R1  ;//1:終了
17282 0000311C 6011              6994             MOV.W   @R1,R0                  ;
17283 0000311E E401              6995             MOV.B   #BIT0,R4                ;
17284 00003120 2048              6996             TST     R4,R0                   ;
17285                            6997             TST_BIT_OF POSHLD1_STOPCONF_100 ;ﾛｯﾄ変更無し
17286 00003122 8905                   M           BT      POSHLD1_STOPCONF_100
17287 00003124 6447              6998             NOT     R4,R4                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   205
PROGRAM NAME =

17288 00003126 2049              6999             AND     R4,R0                   ;
17289 00003128 2101              7000             MOV.W   R0,@R1                  ;
17290                            7001     
17291 0000312A 200A              7002             XOR     R0,R0
17292 0000312C D121              7003             MOV.L   #_POSHLD1_CHKLST_FLG,R1 ;//1:終了
17293 0000312E 2101              7004             MOV.W   R0,@R1                  ;
17294                            7005     
17295 00003130                   7006     POSHLD1_STOPCONF_100
17296                            7007     
17297 00003130 D121              7008             MOV.L   #_SETX_POS_STEP_MAX,R1          ;
17298 00003132 6811              7009             MOV.W   @R1,R8                          ;LOOP data 1~10
17299 00003134 7801              7010             ADD     #1,R8                           ;2~11
17300                            7011     
17301 00003136 E401              7012             MOV.B   #BIT0,R4                ;
17302 00003138 D61E              7013             MOV.L   #_POSHLD1_CHKLST_FLG,R6 ;//1:終了
17303                            7014     
17304 0000313A D520              7015             MOV.L   #_POSHLD1_STOP_STEP,R5  ;//11個
17305                            7016     
17306 0000313C                   7017     POSHLD1_STOPCONF_200LOP
17307 0000313C 6361              7018             MOV.W   @R6,R3                          ;毎回読む
17308                            7019     
17309 0000313E 6055              7020             MOV.W   @R5+,R0                         ;
17310 00003140 2008              7021             TST     R0,R0                           ;
17311                            7022             TST_BIT_OF POSHLD1_STOPCONF_500         ;
17312 00003142 8954                   M           BT      POSHLD1_STOPCONF_500
17313                            7023     
17314 00003144 2348              7024             TST     R4,R3                           ;終了?
17315                            7025             TST_BIT_ON POSHLD1_STOPCONF_400         ;YES
17316 00003146 8B4B                   M           BF      POSHLD1_STOPCONF_400
17317                            7026     
17318 00003148 70FF              7027             ADD     #-1,R0
17319 0000314A DB1D              7028             MOV.L   #_SETX_POS_SDAT1_CNTSTEP,R11    ;速度連続.LONG
17320 0000314C 4008              7029             SHLL2   R0                              ;
17321 0000314E 0CBE              7030             MOV.L   @(R0,R11),R12                   ;指定されている目標行程
17322                            7031     
17323 00003150 D11C              7032             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
17324 00003152 6011              7033             MOV.W   @R1,R0                          ;
17325 00003154 2008              7034             TST     R0,R0                           ;
17326                            7035             TST_BIT_OF POSHLD1_STOPCONF_STOPNO      ;起動していない
17327 00003156 894A                   M           BT      POSHLD1_STOPCONF_STOPNO
17328                            7036     
17329 00003158 70FF              7037             ADD     #-1,R0
17330 0000315A 4008              7038             SHLL2   R0                              ;
17331 0000315C 0DBE              7039             MOV.L   @(R0,R11),R13                   ;今回運転している目標行程
17332                            7040     
17333 0000315E 3DC0              7041             CMP/EQ  R12,R13                         ;R12=R13
17334 00003160 8B3A              7042             BF      POSHLD1_STOPCONF_300            ;
17335                            7043     
17336                            7044             PUSH_REG1       R3                      ;CHKFLG
17337 00003162 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
17338                                 M                                           ;REG=>[SP]
17339                                 M                                           ;"-4" FF,FF,FF,FC
17340                            7045             PUSH_REG1       R4                      ;CHKBIT
17341 00003164 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
17342                                 M                                           ;REG=>[SP]
17343                                 M                                           ;"-4" FF,FF,FF,FC
17344                            7046             PUSH_REG1       R5                      ;STEP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   206
PROGRAM NAME =

17345 00003166 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
17346                                 M                                           ;REG=>[SP]
17347                                 M                                           ;"-4" FF,FF,FF,FC
17348                            7047             PUSH_REG1       R6                      ;CHKFLG
17349 00003168 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
17350                                 M                                           ;REG=>[SP]
17351                                 M                                           ;"-4" FF,FF,FF,FC
17352                            7048             PUSH_REG1       R8                      ;CHKFLG
17353 0000316A 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
17354                                 M                                           ;REG=>[SP]
17355                                 M                                           ;"-4" FF,FF,FF,FC
17356                            7049     ;       演算
17357                            7050             FAR_JSR #_HOLD1_DNSTART_POSCHK,R0       ;
17358 0000316C D016                   M           MOV.L   #_HOLD1_DNSTART_POSCHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17359 0000316E 400B                   M           JSR     @R0                     ;
17360 00003170 0009                   M           NOP                                     ;
17361                            7051     
17362                            7052             POP_REG1        R8
17363                                 M                                   ; RE"+4" 00,00,00,04
17364 00003172 68F6                   M           MOV.L   @R15+,R8        ;
17365                            7053             POP_REG1        R6
17366                                 M                                   ; RE"+4" 00,00,00,04
17367 00003174 66F6                   M           MOV.L   @R15+,R6        ;
17368                            7054             POP_REG1        R5
17369                                 M                                   ; RE"+4" 00,00,00,04
17370 00003176 65F6                   M           MOV.L   @R15+,R5        ;
17371                            7055             POP_REG1        R4
17372                                 M                                   ; RE"+4" 00,00,00,04
17373 00003178 64F6                   M           MOV.L   @R15+,R4        ;
17374                            7056             POP_REG1        R3
17375                                 M                                   ; RE"+4" 00,00,00,04
17376 0000317A 63F6                   M           MOV.L   @R15+,R3        ;
17377                            7057     
17378 0000317C 2008              7058             TST     R0,R0
17379                            7059             TST_BIT_OF POSHLD1_STOPCONF_400         ;0:まだ未到達
17380 0000317E 892F                   M           BT      POSHLD1_STOPCONF_400
17381                            7060     
17382 00003180 8801              7061             CMP/EQ  #1,R0
17383 00003182 8B2B              7062             BF      POSHLD1_STOPCONF_350            ;-1:MISS[目標位置を超えた] 1:NOMAL 0:まだ
17384                            7063     
17385 00003184 6033              7064             MOV     R3,R0                           ;
17386 00003186 234B              7065             OR      R4,R3                           ;
17387 00003188 2631              7066             MOV.W   R3,@R6                          ;CHKLISTSAVE
17388 0000318A 2048              7067             TST     R4,R0                           ;
17389                            7068             TST_BIT_ON POSHLD1_STOPCONF_400         ;前回もＯＮだった
17390 0000318C 8B28                   M           BF      POSHLD1_STOPCONF_400
17391                            7069     
17392                            7070     ;       ---------- 前回OFFで今回ON-----------------------
17393 0000318E D10F              7071             MOV.L   #_CB_SEQ_CB_COM340,R1                   ;340
17394 00003190 6011              7072             MOV.W   @R1,R0                                  ;
17395 00003192 920B              7073             MOV.W   #BIT12,R2                               ;
17396 00003194 2028              7074             TST     R2,R0                                   ;
17397                            7075             TST_BIT_ON POSHLD1_STOPCONF_STOPSTOP            ;2015-02-20[論理入れ替え]
17398 00003196 8B2D                   M           BF      POSHLD1_STOPCONF_STOPSTOP
17399                            7076     
17400                            7077             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT12),WKRG1=R1,WKRG2=R2;
                                          通過信号
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   207
PROGRAM NAME =

17401 00003198 D10D                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17402 0000319A 6011                   M           MOV.W   @R1,R0          ;
17403 0000319C 9206                   M           MOV.W   #(BIT12),R2             ;
17404 0000319E 202B                   M           OR      R2,R0           ;
17405 000031A0 2101                   M           MOV.W   R0,@R1          ;
17406 000031A2 9004              7078             MOV.W   #D'20,R0                                        ;
17407 000031A4 D10B              7079             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1                       ;2015-02-20追加　20msecだ
                                          け再起動または通過時
17408 000031A6 2101              7080             MOV.W   R0,@R1                                          ;
17409                            7081             M_BRA   POSHLD1_STOPCONF_400                    ;
17410 000031A8 A01A                   M           BRA     POSHLD1_STOPCONF_400
17411 000031AA 0009                   M           NOP
17412                            7082     
17413                            7083     ;;;;2015-02-20[論理入れ替え]
17414                            7084     ;;;;    TST_BIT_OF POSHLD1_STOPCONF_400                 ;
17415                            7085     ;;;;    M_BRA   POSHLD1_STOPCONF_STOPSTOP
17416                            7086     
17417                            7087     
17418                            7088     
17419                            7089     
17420                            7090     
17421                            7091     
17422                            7092     
17423                            7093     
17424                            7094     
17425                                     ***** BEGIN-POOL *****
17426 000031AC 1000                       DATA FOR SOURCE-LINE 7073,7077
17427 000031AE 0014                       DATA FOR SOURCE-LINE 7078
17428 000031B0 00000000                   DATA FOR SOURCE-LINE 6993
17429 000031B4 00000000                   DATA FOR SOURCE-LINE 7003,7013
17430 000031B8 00000000                   DATA FOR SOURCE-LINE 7008
17431 000031BC 00000000                   DATA FOR SOURCE-LINE 7015
17432 000031C0 00000000                   DATA FOR SOURCE-LINE 7028
17433 000031C4 00000000                   DATA FOR SOURCE-LINE 7032
17434 000031C8 00000000                   DATA FOR SOURCE-LINE 7050
17435 000031CC 00000000                   DATA FOR SOURCE-LINE 7071
17436 000031D0 00000000                   DATA FOR SOURCE-LINE 7077
17437 000031D4 00000000                   DATA FOR SOURCE-LINE 7079
17438                                     ***** END-POOL *****
17439 000031D8                   7095     POSHLD1_STOPCONF_300
17440 000031D8 3DC7              7096             CMP/GT  R12,R13                         ;R12[指定]<R13[現状]?
17441 000031DA 8B01              7097             BF      POSHLD1_STOPCONF_400            ;NO! R13[現状]<R12[指定]まだその行程でない
17442                            7098     
17443                            7099     ;       -------------通り過ぎた R12[指定]<R13[現状]----------------
17444 000031DC                   7100     POSHLD1_STOPCONF_350
17445 000031DC 234B              7101             OR      R4,R3                           ;
17446 000031DE 2631              7102             MOV.W   R3,@R6                          ;CHKLISTSAVE
17447                            7103     
17448 000031E0                   7104     POSHLD1_STOPCONF_400
17449 000031E0 4400              7105             SHLL    R4                      ;
17450 000031E2 78FF              7106             ADD     #-1,R8                  ;
17451 000031E4 2888              7107             TST     R8,R8                   ;
17452                            7108             TST_BIT_OF POSHLD1_STOPCONF_499 ;MAX(ここではひっかっかることはない)
17453 000031E6 8901                   M           BT      POSHLD1_STOPCONF_499
17454                            7109             M_BRA   POSHLD1_STOPCONF_200LOP
17455 000031E8 AFA8                   M           BRA     POSHLD1_STOPCONF_200LOP
17456 000031EA 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   208
PROGRAM NAME =

17457                            7110     
17458 000031EC                   7111     POSHLD1_STOPCONF_499
17459 000031EC 0009              7112             NOP
17460 000031EE                   7113     POSHLD1_STOPCONF_500
17461 000031EE                   7114     POSHLD1_STOPCONF_STOPNO         ;
17462 000031EE 200A              7115             XOR     R0,R0
17463                            7116             M_BRA   POSHLD1_STOPCONF_STOPEND
17464 000031F0 A001                   M           BRA     POSHLD1_STOPCONF_STOPEND
17465 000031F2 0009                   M           NOP
17466                            7117     
17467 000031F4                   7118     POSHLD1_STOPCONF_STOPSTOP               ;
17468 000031F4 E001              7119             MOV.B   #BIT0,R0                ;
17469                            7120     
17470 000031F6                   7121     POSHLD1_STOPCONF_STOPEND
17471                            7122             SUB_END
17472                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17473 000031F6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17474                            7123             M_RTS
17475 000031F8 000B                   M           RTS                             ;RTSの後ろの
17476 000031FA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17477                            7124     
17478                            7125     
17479 000031FC                   7126     _HOLD1_DNSTART_POSCHK:
17480                            7127             SUB_START
17481 000031FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
17482                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17483 000031FE D106              7128             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
17484 00003200 6011              7129             MOV.W   @R1,R0                                  ;
17485 00003202 C804              7130             TST     #_DMATH_DNDRIV,R0                       ;ふりこ
17486                            7131             TST_BIT_OF HOLD1_DNSTARTPOSCK100                ;
17487 00003204 890E                   M           BT      HOLD1_DNSTARTPOSCK100
17488                            7132     
17489 00003206 D105              7133             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//このフラグでいいのかな？
17490 00003208 6011              7134             MOV.W   @R1,R0                          ;
17491 0000320A 2008              7135             TST     R0,R0                           ;
17492                            7136             TST_BIT_OF HOLD1_DNSTARTPOSCK100        ;
17493 0000320C 890A                   M           BT      HOLD1_DNSTARTPOSCK100
17494                            7137     
17495 0000320E D404              7138             MOV.L   #_POSHLD1_SDAT2_HOLDPOS,R4;//停止位置
17496 00003210 6146              7139             MOV.L   @R4+,R1
17497 00003212 6246              7140             MOV.L   @R4+,R2
17498                            7141             M_BRA   HOLD1_DNSTARTPOSCK200           ;
17499 00003214 A009                   M           BRA     HOLD1_DNSTARTPOSCK200
17500 00003216 0009                   M           NOP
17501                            7142     
17502                                     ***** BEGIN-POOL *****
17503 00003218 00000000                   DATA FOR SOURCE-LINE 7128
17504 0000321C 00000000                   DATA FOR SOURCE-LINE 7133
17505 00003220 00000000                   DATA FOR SOURCE-LINE 7138
17506                                     ***** END-POOL *****
17507 00003224                   7143     HOLD1_DNSTARTPOSCK100:
17508 00003224 D404              7144             MOV.L   #_POSHLD1_SDAT1_HOLDPOS,R4;//停止位置
17509 00003226 6146              7145             MOV.L   @R4+,R1
17510 00003228 6246              7146             MOV.L   @R4+,R2
17511                            7147     
17512 0000322A                   7148     HOLD1_DNSTARTPOSCK200:
17513                            7149             FAR_JSR #_CMP_HOLD_CTLGENSOK,R0         ;R0=01
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   209
PROGRAM NAME =

17514 0000322A D004                   M           MOV.L   #_CMP_HOLD_CTLGENSOK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17515 0000322C 400B                   M           JSR     @R0                     ;
17516 0000322E 0009                   M           NOP                                     ;
17517                            7150     
17518                            7151             SUB_END
17519                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17520 00003230 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17521                            7152             M_RTS
17522 00003232 000B                   M           RTS                             ;RTSの後ろの
17523 00003234 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17524                            7153     
17525                            7154     ;       *******************************************
17526                            7155     ;       ***                                     ***
17527                            7156     ;       ***     開始側処理                      ***
17528                            7157     ;       ***     (完全に停止した時点)            ***
17529                            7158     ;       ***                                     ***
17530                            7159     ;       *******************************************
17531                            7160     ;
17532                                     ***** BEGIN-POOL *****
17533 00003236 0000                       ALIGNMENT CODE
17534 00003238 00000000                   DATA FOR SOURCE-LINE 7144
17535 0000323C 00000000                   DATA FOR SOURCE-LINE 7149
17536                                     ***** END-POOL *****
17537 00003240                   7161     _POSHLD1_STEP2_START_CHK:
17538                            7162             SUB_START
17539 00003240 4F22                   M           STS.L   PR,@-R15                ;[必要]
17540                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17541 00003242 D124              7163             MOV.L   #_POS_HLDSTOP1_FLG,R1           ;//位置決め状態、準備未完了状態にて行う
17542 00003244 6011              7164             MOV.W   @R1,R0                          ;
17543 00003246 C801              7165             TST     #BIT0,R0                        ;
17544                            7166             TST_BIT_OF POSHLD1_STEP2_STARTEXT       ;このソフトには関係ないのに呼ばれた
17545 00003248 895D                   M           BT      POSHLD1_STEP2_STARTEXT
17546                            7167     
17547 0000324A C804              7168             TST     #BIT2,R0                        ;
17548                            7169             TST_BIT_ON POSHLD1_STEP2_STARTEXT       ;
17549 0000324C 8B5B                   M           BF      POSHLD1_STEP2_STARTEXT
17550                            7170     
17551 0000324E C802              7171             TST     #BIT1,R0                        ;ﾀｲﾏ設定?
17552                            7172             TST_BIT_ON POSHLD1_STEP2_START100       ;
17553 00003250 8B14                   M           BF      POSHLD1_STEP2_START100
17554                            7173     
17555                            7174     ;       ------------内部停止状態成立-----------
17556 00003252 D121              7175             MOV.L   #_SVP_WTTIM_MAX,R1              ;//ｽﾗｲﾄﾞ自動待機機能  待機時間上限
17557 00003254 6211              7176             MOV.W   @R1,R2                          ;
17558 00003256 9435              7177             MOV.W   #D'100,R4                       ;0.1秒
17559 00003258 324D              7178             DMULS.L R4,R2                           ;
17560 0000325A 021A              7179             STS.L   MACL,R2                         ;
17561 0000325C D11F              7180             MOV.L   #_POS_HLDSTOP1_CHKTIM,R1        ;
17562 0000325E 2122              7181             MOV.L   R2,@R1                          ;
17563                            7182     
17564                            7183             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HLDSTOP1_FLG,LG=W,BIT=(BIT1),WKREG=R1          ;
17565 00003260 D11C                   M           MOV.L   #_POS_HLDSTOP1_FLG,R1           ;
17566 00003262 6011                   M           MOV.W   @R1,R0          ;
17567 00003264 CB02                   M           OR      #(BIT1),R0              ;
17568 00003266 2101                   M           MOV.W   R0,@R1          ;
17569                            7184             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT7),WKRG1=R1,WKRG2=R4 ;
                                          待機停止中
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   210
PROGRAM NAME =

17570 00003268 D11D                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17571 0000326A 6011                   M           MOV.W   @R1,R0          ;
17572 0000326C 942B                   M           MOV.W   #(BIT7),R4              ;
17573 0000326E 204B                   M           OR      R4,R0           ;
17574 00003270 2101                   M           MOV.W   R0,@R1          ;
17575                            7185             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(~BIT6),WKRG1=R1,WKRG2=R4
                                          ;待機減速開始
17576 00003272 D11B                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17577 00003274 6011                   M           MOV.W   @R1,R0          ;
17578 00003276 9427                   M           MOV.W   #LWORD (~BIT6),R4       ;
17579 00003278 2049                   M           AND     R4,R0           ;
17580 0000327A 2101                   M           MOV.W   R0,@R1          ;
17581                            7186     
17582                            7187     
17583                            7188     
17584 0000327C                   7189     POSHLD1_STEP2_START100:
17585                            7190     
17586                            7191     
17587 0000327C D117              7192             MOV.L   #_POS_HLDSTOP1_CHKTIM,R1        ;
17588 0000327E 6212              7193             MOV.L   @R1,R2                          ;
17589 00003280 2228              7194             TST     R2,R2                           ;
17590                            7195             TST_BIT_OF POSHLD1_STEP2_START500       ;ﾀｲﾑｱｯﾌﾟ,0設定
17591 00003282 8937                   M           BT      POSHLD1_STEP2_START500
17592 00003284 72FF              7196             ADD     #-1,R2                          ;
17593 00003286 2122              7197             MOV.L   R2,@R1                          ;
17594                            7198     
17595                            7199     
17596 00003288                   7200     POSHLD1_STEP2_START200:
17597                            7201     ;       --------------------試し------------------------
17598                            7202     ;       "本仕様有／無ｼｰｹﾝｽ+有効/無効sw+角度範囲+停止指令",相手信号
17599 00003288 D116              7203             MOV.L   #_CB_SEQ_CB_COM340,R1                   ;340
17600 0000328A 6011              7204             MOV.W   @R1,R0                                  ;
17601 0000328C 941D              7205             MOV.W   #BIT12,R4                               ;
17602 0000328E 2048              7206             TST     R4,R0                                   ;
17603                            7207             TST_BIT_ON POSHLD1_STEP2_STARTEXT               ;
17604 00003290 8B39                   M           BF      POSHLD1_STEP2_STARTEXT
17605                            7208     
17606                            7209     ;       ----------------起動条件成立--------------------------------
17607                            7210             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HLDSTOP1_FLG,LG=W,BIT=(BIT2),WKREG=R1
                                          ;
17608 00003292 D110                   M           MOV.L   #_POS_HLDSTOP1_FLG,R1           ;
17609 00003294 6011                   M           MOV.W   @R1,R0          ;
17610 00003296 CB04                   M           OR      #(BIT2),R0              ;
17611 00003298 2101                   M           MOV.W   R0,@R1          ;
17612                            7211             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_RESTARTCMD,LG=W,BIT=(BIT0),WKREG=R1
                                          ;RESTART
17613 0000329A D113                   M           MOV.L   #_POS_HOLD_RESTARTCMD,R1                ;
17614 0000329C 6011                   M           MOV.W   @R1,R0          ;
17615 0000329E CB01                   M           OR      #(BIT0),R0              ;
17616 000032A0 2101                   M           MOV.W   R0,@R1          ;
17617                            7212             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4
                                          ;待機停止中
17618 000032A2 D10F                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17619 000032A4 6011                   M           MOV.W   @R1,R0          ;
17620 000032A6 9411                   M           MOV.W   #LWORD (~BIT7),R4       ;
17621 000032A8 2049                   M           AND     R4,R0           ;
17622 000032AA 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   211
PROGRAM NAME =

17623                            7213     ;;;;2015-02-20  MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT8),WKRG1=R1,WKR
                                          G2=R4           ;再起動ON
17624                            7214             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT12|BIT8),WKRG1=R1,WKRG2
                                          =R4             ;再起動ON
17625 000032AC D10C                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17626 000032AE 6011                   M           MOV.W   @R1,R0          ;
17627 000032B0 940D                   M           MOV.W   #(BIT12|BIT8),R4                ;
17628 000032B2 204B                   M           OR      R4,R0           ;
17629 000032B4 2101                   M           MOV.W   R0,@R1          ;
17630                            7215     
17631 000032B6 900B              7216             MOV.W   #D'20,R0                                ;
17632 000032B8 D10C              7217             MOV.L   #_POS_HLDSTOP1_SIG1TIM,R1               ;20msecだけ再起動をONする
17633 000032BA 2101              7218             MOV.W   R0,@R1                                  ;
17634 000032BC D10C              7219             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1               ;2015-02-20追加　20msecだけ再起動
                                          または通過時
17635 000032BE 2101              7220             MOV.W   R0,@R1                                  ;
17636                            7221             M_BRA   POSHLD1_STEP2_STARTEXT
                                          ;
17637 000032C0 A021                   M           BRA     POSHLD1_STEP2_STARTEXT
17638 000032C2 0009                   M           NOP
17639                            7222     
17640                                     ***** BEGIN-POOL *****
17641 000032C4 0064                       DATA FOR SOURCE-LINE 7177
17642 000032C6 0080                       DATA FOR SOURCE-LINE 7184
17643 000032C8 FFBF                       DATA FOR SOURCE-LINE 7185
17644 000032CA 1000                       DATA FOR SOURCE-LINE 7205
17645 000032CC FF7F                       DATA FOR SOURCE-LINE 7212
17646 000032CE 1100                       DATA FOR SOURCE-LINE 7214
17647 000032D0 0014                       DATA FOR SOURCE-LINE 7216
17648 000032D2 0000                       ALIGNMENT CODE
17649 000032D4 00000000                   DATA FOR SOURCE-LINE 7163,7183,7210
17650 000032D8 00000000                   DATA FOR SOURCE-LINE 7175
17651 000032DC 00000000                   DATA FOR SOURCE-LINE 7180,7192
17652 000032E0 00000000                   DATA FOR SOURCE-LINE 7184,7185,7212,7214
17653 000032E4 00000000                   DATA FOR SOURCE-LINE 7203
17654 000032E8 00000000                   DATA FOR SOURCE-LINE 7211
17655 000032EC 00000000                   DATA FOR SOURCE-LINE 7217
17656 000032F0 00000000                   DATA FOR SOURCE-LINE 7219
17657                                     ***** END-POOL *****
17658 000032F4                   7223     POSHLD1_STEP2_START500:
17659                            7224     
17660                            7225     
17661 000032F4 D506              7226             MOV.L   #_SQ_CBWK_TOP+_WKSQCB224,R5             ;
17662 000032F6 6151              7227             MOV.W   @R5,R1                                  ;
17663 000032F8 9008              7228             MOV.W   #BIT13,R0
17664 000032FA 210B              7229             OR      R0,R1
17665 000032FC 2511              7230             MOV.W   R1,@R5
17666                            7231     
17667 000032FE 9406              7232             MOV.W   #H'224D,R4                              ;2010-12-21
17668                            7233             FAR_JSR #_EXQ_STOP,R0                           ;EXQ_FLG
17669 00003300 D004                   M           MOV.L   #_EXQ_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17670 00003302 400B                   M           JSR     @R0                     ;
17671 00003304 0009                   M           NOP                                     ;
17672                            7234     
17673 00003306                   7235     POSHLD1_STEP2_STARTEXT:
17674                            7236     
17675                            7237             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   212
PROGRAM NAME =

17676                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17677 00003306 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17678                            7238             M_RTS
17679 00003308 000B                   M           RTS                             ;RTSの後ろの
17680 0000330A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17681                            7239     
17682                            7240     
17683                                     ***** BEGIN-POOL *****
17684 0000330C 2000                       DATA FOR SOURCE-LINE 7228
17685 0000330E 224D                       DATA FOR SOURCE-LINE 7232
17686 00003310 00000000                   DATA FOR SOURCE-LINE 7226
17687 00003314 00000000                   DATA FOR SOURCE-LINE 7233
17688                                     ***** END-POOL *****
17689 00003318                   7241     _POSHLD1_FLG_CLR:
17690                            7242             SUB_START
17691 00003318 4F22                   M           STS.L   PR,@-R15                ;[必要]
17692                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17693 0000331A 200A              7243             XOR     R0,R0
17694 0000331C D106              7244             MOV.L   #_POS_HLDSTOP1_FLG,R1   ;
17695 0000331E 2101              7245             MOV.W   R0,@R1                  ;
17696 00003320 D106              7246             MOV.L   #_POSHLD1_CHKLST_FLG,R1 ;//
17697 00003322 2101              7247             MOV.W   R0,@R1
17698                            7248     
17699                            7249             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=~(BIT7|BIT6),WKRG1=R1,WKRG2
                                          =R4     ;
17700 00003324 D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17701 00003326 6011                   M           MOV.W   @R1,R0          ;
17702 00003328 9404                   M           MOV.W   #LWORD ~(BIT7|BIT6),R4  ;
17703 0000332A 2049                   M           AND     R4,R0           ;
17704 0000332C 2101                   M           MOV.W   R0,@R1          ;
17705                            7250     
17706                            7251             SUB_END
17707                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17708 0000332E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17709                            7252             M_RTS
17710 00003330 000B                   M           RTS                             ;RTSの後ろの
17711 00003332 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17712                            7253     
17713                            7254     
17714                            7255     
17715                            7256     
17716                            7257     
17717                                     ***** BEGIN-POOL *****
17718 00003334 FF3F                       DATA FOR SOURCE-LINE 7249
17719 00003336 0000                       ALIGNMENT CODE
17720 00003338 00000000                   DATA FOR SOURCE-LINE 7244
17721 0000333C 00000000                   DATA FOR SOURCE-LINE 7246
17722 00003340 00000000                   DATA FOR SOURCE-LINE 7249
17723                                     ***** END-POOL *****
17724 00003344                   7258     _POSHLD1_SIG_CHK
17725                            7259             SUB_START
17726 00003344 4F22                   M           STS.L   PR,@-R15                ;[必要]
17727                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17728                            7260     ;       --------- 再起動信号--------------
17729 00003346 D507              7261             MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R5
17730 00003348 6351              7262             MOV.W   @R5,R3
17731 0000334A 9409              7263             MOV.W   #BIT8,R4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   213
PROGRAM NAME =

17732 0000334C 2348              7264             TST     R4,R3
17733                            7265             TST_BIT_OF POSHLD1_SIGCHK_200   ;
17734 0000334E 8910                   M           BT      POSHLD1_SIGCHK_200
17735                            7266     
17736 00003350 D105              7267             MOV.L   #_POS_HLDSTOP1_SIG1TIM,R1       ;       //100msecだけ再起動をONする
17737 00003352 6011              7268             MOV.W   @R1,R0                          ;
17738 00003354 2008              7269             TST     R0,R0
17739                            7270             TST_BIT_OF POSHLD1_SIGCHK_100           ;
17740 00003356 8909                   M           BT      POSHLD1_SIGCHK_100
17741 00003358 70FF              7271             ADD     #-1,R0
17742 0000335A 2101              7272             MOV.W   R0,@R1
17743                            7273             M_BRA   POSHLD1_SIGCHK_200
17744 0000335C A009                   M           BRA     POSHLD1_SIGCHK_200
17745 0000335E 0009                   M           NOP
17746                                     ***** BEGIN-POOL *****
17747 00003360 0100                       DATA FOR SOURCE-LINE 7263
17748 00003362 0000                       ALIGNMENT CODE
17749 00003364 00000000                   DATA FOR SOURCE-LINE 7261
17750 00003368 00000000                   DATA FOR SOURCE-LINE 7267
17751                                     ***** END-POOL *****
17752 0000336C                   7274     POSHLD1_SIGCHK_100
17753 0000336C 6447              7275             NOT     R4,R4
17754 0000336E 2349              7276             AND     R4,R3
17755 00003370 2531              7277             MOV.W   R3,@R5                          ;
17756                            7278     
17757 00003372                   7279     POSHLD1_SIGCHK_200
17758                            7280     
17759                            7281     
17760                            7282     
17761                            7283     ;       --------- 通過信号2015-02-20--------------
17762 00003372 D507              7284             MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R5
17763 00003374 6351              7285             MOV.W   @R5,R3
17764 00003376 9409              7286             MOV.W   #BIT12,R4
17765 00003378 2348              7287             TST     R4,R3
17766                            7288             TST_BIT_OF POSHLD1_SIGCHK_400   ;
17767 0000337A 8910                   M           BT      POSHLD1_SIGCHK_400
17768                            7289     
17769 0000337C D105              7290             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1       ;       //100msecだけ再起動をONする
17770 0000337E 6011              7291             MOV.W   @R1,R0                          ;
17771 00003380 2008              7292             TST     R0,R0
17772                            7293             TST_BIT_OF POSHLD1_SIGCHK_300           ;
17773 00003382 8909                   M           BT      POSHLD1_SIGCHK_300
17774 00003384 70FF              7294             ADD     #-1,R0
17775 00003386 2101              7295             MOV.W   R0,@R1
17776                            7296             M_BRA   POSHLD1_SIGCHK_400
17777 00003388 A009                   M           BRA     POSHLD1_SIGCHK_400
17778 0000338A 0009                   M           NOP
17779                                     ***** BEGIN-POOL *****
17780 0000338C 1000                       DATA FOR SOURCE-LINE 7286
17781 0000338E 0000                       ALIGNMENT CODE
17782 00003390 00000000                   DATA FOR SOURCE-LINE 7284
17783 00003394 00000000                   DATA FOR SOURCE-LINE 7290
17784                                     ***** END-POOL *****
17785 00003398                   7297     POSHLD1_SIGCHK_300
17786 00003398 6447              7298             NOT     R4,R4
17787 0000339A 2349              7299             AND     R4,R3
17788 0000339C 2531              7300             MOV.W   R3,@R5                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   214
PROGRAM NAME =

17789                            7301     
17790 0000339E                   7302     POSHLD1_SIGCHK_400
17791                            7303     
17792                            7304             SUB_END
17793                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17794 0000339E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17795                            7305             M_RTS
17796 000033A0 000B                   M           RTS                             ;RTSの後ろの
17797 000033A2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17798                            7306     
17799                            7307     ;       *******************************************
17800                            7308     ;       ***                                     ***
17801                            7309     ;       ***     複数個で一旦停止を行える構造    ***
17802                            7310     ;       ***                                     ***
17803                            7311     ;       ***                                     ***
17804                            7312     ;       *******************************************
17805                            7313     ;
17806                            7314     ;
17807                            7315     ;_POS_HLDSTOP1_FLG;     //位置決め状態、準備未完了状態にて行う
17808 000033A4                   7316     _POS_HOLD_RESTART_CHK:
17809                            7317             SUB_START
17810 000033A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
17811                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17812                            7318             FAR_JSR #_POSHLD1_STEP2_START_CHK,R0            ;ｺﾏﾝﾄﾞで出力
17813 000033A6 D003                   M           MOV.L   #_POSHLD1_STEP2_START_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17814 000033A8 400B                   M           JSR     @R0                     ;
17815 000033AA 0009                   M           NOP                                     ;
17816                            7319     
17817                            7320             SUB_END
17818                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17819 000033AC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17820                            7321             M_RTS
17821 000033AE 000B                   M           RTS                             ;RTSの後ろの
17822 000033B0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17823                            7322     
17824                            7323     
17825                            7324     
17826                            7325     
17827                                     ***** BEGIN-POOL *****
17828 000033B2 0000                       ALIGNMENT CODE
17829 000033B4 00000000                   DATA FOR SOURCE-LINE 7318
17830                                     ***** END-POOL *****
17831 000033B8                   7326     _HOLD_RESTART_OF_OUT:
17832                            7327             SUB_START
17833 000033B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
17834                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17835                            7328             FAR_JSR #_CPU_AB_DRVHLDSTOP_OF_OUT,R0           ;
17836 000033BA D003                   M           MOV.L   #_CPU_AB_DRVHLDSTOP_OF_OUT,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17837 000033BC 400B                   M           JSR     @R0                     ;
17838 000033BE 0009                   M           NOP                                     ;
17839                            7329             SUB_END
17840                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17841 000033C0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17842                            7330             M_RTS
17843 000033C2 000B                   M           RTS                             ;RTSの後ろの
17844 000033C4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17845                            7331     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   215
PROGRAM NAME =

17846                            7332     
17847                            7333     ;       -----R0=0 RESTART-OK----------
17848                                     ***** BEGIN-POOL *****
17849 000033C6 0000                       ALIGNMENT CODE
17850 000033C8 00000000                   DATA FOR SOURCE-LINE 7328
17851                                     ***** END-POOL *****
17852 000033CC                   7334     _HOLD_RESTART_BA_JG:
17853                            7335             SUB_START
17854 000033CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
17855                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17856                            7336             FAR_JSR #_CPU_BA_DRVHLDSTOP_OF_JG,R0    ;R0=0 起動 とりあえず１個
17857 000033CE D003                   M           MOV.L   #_CPU_BA_DRVHLDSTOP_OF_JG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17858 000033D0 400B                   M           JSR     @R0                     ;
17859 000033D2 0009                   M           NOP                                     ;
17860                            7337             SUB_END
17861                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17862 000033D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17863                            7338             M_RTS
17864 000033D6 000B                   M           RTS                             ;RTSの後ろの
17865 000033D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17866                            7339     
17867                            7340     ;       -----R0=0 RESTART-OK----------
17868                            7341     ;;;;;;;;;;_HOLD_STOP_BA_JG:
17869                            7342     ;;;;;;;;;;      SUB_START
17870                            7343     ;;;;;;;;;;      FAR_JSR #_CPU_BA_DRVHLDSTOP_ON_JG,R0    ;R0=FFFF 停止 とりあえず1個(複数時
                                          でもどれか１つがFFFFでいいと思う)
17871                            7344     ;;;;;;;;;;      SUB_END
17872                            7345     ;;;;;;;;;       M_RTS
17873                            7346     
17874                            7347     
17875                            7348     
17876                            7349     
17877                                     ***** BEGIN-POOL *****
17878 000033DA 0000                       ALIGNMENT CODE
17879 000033DC 00000000                   DATA FOR SOURCE-LINE 7336
17880                                     ***** END-POOL *****
17881 000033E0                   7350     _POS_HOLD_FLG_CLR:
17882                            7351             SUB_START
17883 000033E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
17884                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17885                            7352     
17886 000033E2 200A              7353             XOR     R0,R0
17887 000033E4 D105              7354             MOV.L   #_POS_HOLD_RESTARTCMD,R1
17888 000033E6 2101              7355             MOV.W   R0,@R1
17889 000033E8 D105              7356             MOV.L   #_POS_HOLD_CMD,R1
17890 000033EA 2101              7357             MOV.W   R0,@R1
17891 000033EC D105              7358             MOV.L   #_POS_HOLD_FLG,R1
17892 000033EE 2101              7359             MOV.W   R0,@R1
17893                            7360     
17894                            7361             FAR_JSR #_POSHLD1_FLG_CLR,R0            ;
17895 000033F0 D005                   M           MOV.L   #_POSHLD1_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17896 000033F2 400B                   M           JSR     @R0                     ;
17897 000033F4 0009                   M           NOP                                     ;
17898                            7362     
17899                            7363             SUB_END
17900                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17901 000033F6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   216
PROGRAM NAME =

17902                            7364             M_RTS
17903 000033F8 000B                   M           RTS                             ;RTSの後ろの
17904 000033FA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17905                            7365     
17906                            7366     ;
17907                                     ***** BEGIN-POOL *****
17908 000033FC 00000000                   DATA FOR SOURCE-LINE 7354
17909 00003400 00000000                   DATA FOR SOURCE-LINE 7356
17910 00003404 00000000                   DATA FOR SOURCE-LINE 7358
17911 00003408 00000000                   DATA FOR SOURCE-LINE 7361
17912                                     ***** END-POOL *****
17913 0000340C                   7367     _POS_HOLD_FLG_STR2CLR:
17914                            7368             SUB_START
17915 0000340C 4F22                   M           STS.L   PR,@-R15                ;[必要]
17916                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17917 0000340E 200A              7369             XOR     R0,R0
17918 00003410 D102              7370             MOV.L   #_POS_HOLD_RDY_EXITF,R1 ;//しょうがない
17919 00003412 2101              7371             MOV.W   R0,@R1                  ;
17920                            7372     
17921                            7373     ;;;;;;;;;;      MOV.L   #_POS_HOLD_RDY_EXITF2,R1;//しょうがない
17922                            7374     ;;;;;;;;;;      MOV.W   R0,@R1                  ;
17923                            7375     
17924                            7376             SUB_END
17925                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17926 00003414 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17927                            7377             M_RTS
17928 00003416 000B                   M           RTS                             ;RTSの後ろの
17929 00003418 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17930                            7378     
17931                            7379     ;       ***********************************
17932                            7380     ;       ***     EXQ,EMG時の内部ｸﾘｱ      ***
17933                            7381     ;       ***********************************
17934                                     ***** BEGIN-POOL *****
17935 0000341A 0000                       ALIGNMENT CODE
17936 0000341C 00000000                   DATA FOR SOURCE-LINE 7370
17937                                     ***** END-POOL *****
17938 00003420                   7382     _POS_HOLD_FLG_EXQ_CLR:
17939                            7383             SUB_START
17940 00003420 4F22                   M           STS.L   PR,@-R15                ;[必要]
17941                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17942                            7384     
17943                            7385             FAR_JSR #_POS_HOLD_FLG_CLR,R0           ;
17944 00003422 D00E                   M           MOV.L   #_POS_HOLD_FLG_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17945 00003424 400B                   M           JSR     @R0                     ;
17946 00003426 0009                   M           NOP                                     ;
17947                            7386             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;
17948 00003428 D00D                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17949 0000342A 400B                   M           JSR     @R0                     ;
17950 0000342C 0009                   M           NOP                                     ;
17951                            7387     
17952 0000342E 200A              7388             XOR     R0,R0                           ;
17953 00003430 D10C              7389             MOV.L   #_POSHLD1_STOPLATCH,R1          ;//停止前、停止中に停止釦相当が発生したか?
17954 00003432 2101              7390             MOV.W   R0,@R1                          ;
17955                            7391     
17956 00003434 D10C              7392             MOV.L   #_POS_HLDSTOP1_SIG1TIM,R1       ;251.8   20msecだけ再起動をONする
17957 00003436 2101              7393             MOV.W   R0,@R1                          ;
17958 00003438 D10C              7394             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1       ;251.12  20msecだけ通過時もしくは再起動時O
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   217
PROGRAM NAME =

                                          Nする[2015-02-20]
17959 0000343A 2101              7395             MOV.W   R0,@R1                          ;
17960                            7396     
17961                            7397     ;       ---     2015-02-20 BIT9は設定条件       ---
17962                            7398             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=~(BIT12|BIT8|BIT7|BIT6),WKR
                                          G1=R1,WKRG2=R4  ;
17963 0000343C D10C                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17964 0000343E 6011                   M           MOV.W   @R1,R0          ;
17965 00003440 940A                   M           MOV.W   #LWORD ~(BIT12|BIT8|BIT7|BIT6),R4       ;
17966 00003442 2049                   M           AND     R4,R0           ;
17967 00003444 2101                   M           MOV.W   R0,@R1          ;
17968                            7399     
17969                            7400     
17970                            7401             FAR_JSR #_HOLD_RESTART_OF_OUT,R0        ;DPRAM ｺﾏﾝﾄﾞｸﾘｱ
17971 00003446 D00B                   M           MOV.L   #_HOLD_RESTART_OF_OUT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17972 00003448 400B                   M           JSR     @R0                     ;
17973 0000344A 0009                   M           NOP                                     ;
17974                            7402             FAR_JSR #_RDY_HOLDSTP_OF_FLGOUT,R0      ;
17975 0000344C D00A                   M           MOV.L   #_RDY_HOLDSTP_OF_FLGOUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17976 0000344E 400B                   M           JSR     @R0                     ;
17977 00003450 0009                   M           NOP                                     ;
17978                            7403     
17979                            7404     
17980                            7405     
17981                            7406     
17982                            7407             SUB_END
17983                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17984 00003452 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17985                            7408             M_RTS
17986 00003454 000B                   M           RTS                             ;RTSの後ろの
17987 00003456 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17988                            7409     
17989                            7410     ;EMG,EXQなのでRDY_CHECKは通らないから強制OFF[2015-02-20]
17990                                     ***** BEGIN-POOL *****
17991 00003458 EE3F                       DATA FOR SOURCE-LINE 7398
17992 0000345A 0000                       ALIGNMENT CODE
17993 0000345C 00000000                   DATA FOR SOURCE-LINE 7385
17994 00003460 00000000                   DATA FOR SOURCE-LINE 7386
17995 00003464 00000000                   DATA FOR SOURCE-LINE 7389
17996 00003468 00000000                   DATA FOR SOURCE-LINE 7392
17997 0000346C 00000000                   DATA FOR SOURCE-LINE 7394
17998 00003470 00000000                   DATA FOR SOURCE-LINE 7398
17999 00003474 00000000                   DATA FOR SOURCE-LINE 7401
18000 00003478 00000000                   DATA FOR SOURCE-LINE 7402
18001                                     ***** END-POOL *****
18002 0000347C                   7411     _RDY_HOLDSTP_OF_FLGOUT:
18003                            7412             SUB_START
18004 0000347C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18005                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18006 0000347E 200A              7413             XOR     R0,R0
18007 00003480 D103              7414             MOV.L   #_SH4_HD_HLDSTOP2,R1
18008 00003482 2101              7415             MOV.W   R0,@R1
18009 00003484 D103              7416             MOV.L   #_SH2_HD_HLDSTOP2,R1
18010 00003486 2101              7417             MOV.W   R0,@R1
18011                            7418             SUB_END
18012                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18013 00003488 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   218
PROGRAM NAME =

18014                            7419             M_RTS
18015 0000348A 000B                   M           RTS                             ;RTSの後ろの
18016 0000348C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18017                            7420     
18018                            7421     
18019                                     ***** BEGIN-POOL *****
18020 0000348E 0000                       ALIGNMENT CODE
18021 00003490 00000000                   DATA FOR SOURCE-LINE 7414
18022 00003494 00000000                   DATA FOR SOURCE-LINE 7416
18023                                     ***** END-POOL *****
18024 00003498                   7422     _RDY_HOLDSTP_FLGOUT:
18025                            7423             SUB_START
18026 00003498 4F22                   M           STS.L   PR,@-R15                ;[必要]
18027                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18028                            7424     
18029 0000349A D103              7425             MOV.L   #_POS_HOLD_FLG,R1       ;
18030 0000349C 6011              7426             MOV.W   @R1,R0                  ;
18031                            7427     
18032                            7428             .AIF    0 EQ    0       ;
18033 0000349E D103              7429 C           MOV.L   #_SH4_HD_HLDSTOP2,R1
18034                            7430             .AELSE
18035                            7431             MOV.L   #_SH2_HD_HLDSTOP2,R1
18036                            7432             .AENDI
18037 000034A0 2101              7433             MOV.W   R0,@R1
18038                            7434     
18039                            7435             SUB_END
18040                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18041 000034A2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18042                            7436             M_RTS
18043 000034A4 000B                   M           RTS                             ;RTSの後ろの
18044 000034A6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18045                            7437     
18046                                     ***** BEGIN-POOL *****
18047 000034A8 00000000                   DATA FOR SOURCE-LINE 7425
18048 000034AC 00000000                   DATA FOR SOURCE-LINE 7429
18049                                     ***** END-POOL *****
18050 000034B0                   7438     _HOLD_STOP_BA_JG:
18051                            7439             SUB_START
18052 000034B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
18053                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18054                            7440     
18055                            7441             .AIF    0 EQ    0       ;
18056 000034B2 D102              7442 C           MOV.L   #_SH2_HD_HLDSTOP2,R1
18057                            7443             .AELSE
18058                            7444             MOV.L   #_SH4_HD_HLDSTOP2,R1
18059                            7445             .AENDI
18060 000034B4 6011              7446             MOV.W   @R1,R0
18061                            7447     
18062                            7448             SUB_END
18063                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18064 000034B6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18065                            7449             M_RTS
18066 000034B8 000B                   M           RTS                             ;RTSの後ろの
18067 000034BA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18068                            7450     
18069                            7451     
18070                            7452     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   219
PROGRAM NAME =

18071                            7453     ;       ***                                     ***
18072                            7454     ;       ***                                     ***
18073                            7455     ;       ***                                     ***
18074                            7456     ;       ***     寸動任意角度起動                ***
18075                            7457     ;       ***                                     ***
18076                            7458     ;       ***                                     ***
18077                            7459     ;       ***                                     ***
18078                            7460     ;       *******************************************
18079                            7461     
18080                            7462     ;       *******************************************
18081                            7463     ;       ***                                     ***
18082                            7464     ;       ***     EMG時ワーククリア               ***
18083                            7465     ;       ***                                     ***
18084                            7466     ;       *******************************************
18085                            7467     ;       起動時もCALLされる
18086                            7468             .EXPORT _INC_RST_WORK_CLR
18087                                     ***** BEGIN-POOL *****
18088 000034BC 00000000                   DATA FOR SOURCE-LINE 7442
18089                                     ***** END-POOL *****
18090 000034C0                   7469     _INC_RST_WORK_CLR
18091                            7470             SUB_START                               ;
18092 000034C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
18093                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18094 000034C2 200A              7471             XOR     R0,R0                           ;
18095 000034C4 D103              7472             MOV.L   #_INC_RESET_STEP,R1             ;//0,1:1ｽﾃｯﾌﾟから起動 2~11
18096 000034C6 2101              7473             MOV.W   R0,@R1                          ;//
18097                            7474     
18098 000034C8 D103              7475             MOV.L   #_INC_RESET_USE_F,R1            ;//STEPを参照して!
18099 000034CA 2101              7476             MOV.W   R0,@R1                          ;//起動時ONならRESET_STEPを参照する
18100                            7477     
18101                            7478             SUB_END                                 ;
18102                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18103 000034CC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18104                            7479             M_RTS                                   ;
18105 000034CE 000B                   M           RTS                             ;RTSの後ろの
18106 000034D0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18107                            7480     
18108                            7481     ;       *******************************************
18109                            7482     ;       ***                                     ***
18110                            7483     ;       ***     リセット時の開始行程判断        ***
18111                            7484     ;       ***                                     ***
18112                            7485     ;       *******************************************
18113                            7486             .IMPORT _POS_STEP1_SEARCH               ;
18114                            7487     
18115                                     ***** BEGIN-POOL *****
18116 000034D2 0000                       ALIGNMENT CODE
18117 000034D4 00000000                   DATA FOR SOURCE-LINE 7472
18118 000034D8 00000000                   DATA FOR SOURCE-LINE 7475
18119                                     ***** END-POOL *****
18120 000034DC                   7488     _INC_RSTMODE_CHK
18121                            7489             SUB_START                                                       ;
18122 000034DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
18123                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18124                            7490     
18125                            7491             FAR_JSR #_INC_SPEC_RSTCHK,R0                    ;ｼｽﾊﾟﾗが有効で且つ寸動
18126 000034DE D004                   M           MOV.L   #_INC_SPEC_RSTCHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18127 000034E0 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   220
PROGRAM NAME =

18128 000034E2 0009                   M           NOP                                     ;
18129                            7492     
18130 000034E4 222A              7493             XOR     R2,R2                                   ;
18131 000034E6 2008              7494             TST     R0,R0
18132                            7495             TST_BIT_ON INC_RSTMODECK020                     ;寸動で且つ、リセット有効
18133 000034E8 8B04                   M           BF      INC_RSTMODECK020
18134                            7496             M_BRA   INC_RSTMODECK499                        ;特殊なﾓｰﾄﾞではない
18135 000034EA A084                   M           BRA     INC_RSTMODECK499
18136 000034EC 0009                   M           NOP
18137                            7497     
18138                                     ***** BEGIN-POOL *****
18139 000034EE 0000                       ALIGNMENT CODE
18140 000034F0 00000000                   DATA FOR SOURCE-LINE 7491
18141                                     ***** END-POOL *****
18142 000034F4                   7498     INC_RSTMODECK020
18143                            7499     
18144                            7500     ;       ----------------------------------
18145 000034F4 D104              7501             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
18146 000034F6 6011              7502             MOV.W   @R1,R0                                  ;
18147 000034F8 C804              7503             TST     #(_DMATH_DNDRIV),R0                     ;
18148                            7504             TST_BIT_OF INC_RSTMODECK100                     ;振子でない
18149 000034FA 8909                   M           BT      INC_RSTMODECK100
18150                            7505     
18151 000034FC D403              7506             MOV.L   #_DNM_RESET_AREA,R4                     ;//BIT7(左)/BIT4(右側)
18152 000034FE 6041              7507             MOV.W   @R4,R0
18153 00003500 C890              7508             TST     #(BIT7+BIT4),R0                         ;
18154                            7509             TST_BIT_ON INC_RSTMODECK490                     ;待機点OK->通常側ｿﾌﾄで処理
18155 00003502 8B77                   M           BF      INC_RSTMODECK490
18156                            7510             M_BRA   INC_RSTMODECK200                        ;
18157 00003504 A008                   M           BRA     INC_RSTMODECK200
18158 00003506 0009                   M           NOP
18159                            7511     
18160                            7512     
18161                                     ***** BEGIN-POOL *****
18162 00003508 00000000                   DATA FOR SOURCE-LINE 7501
18163 0000350C 00000000                   DATA FOR SOURCE-LINE 7506
18164                                     ***** END-POOL *****
18165 00003510                   7513     INC_RSTMODECK100
18166 00003510 D410              7514             MOV.L   #_M_LINK_AREASIG,R4                     ;//BIT0/BIT4:待機点範囲
18167 00003512 6041              7515             MOV.W   @R4,R0                                  ;
18168 00003514 C810              7516             TST     #BIT4,R0                                ;左側
18169                            7517             TST_BIT_ON INC_RSTMODECK490                     ;待機点OK->通常側ｿﾌﾄで処理
18170 00003516 8B6D                   M           BF      INC_RSTMODECK490
18171                            7518     
18172                            7519     ;       --------- 待機点にいない いままではここはＮＧ区間-----------
18173 00003518                   7520     INC_RSTMODECK200
18174                            7521     
18175                            7522             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0          ;
18176 00003518 D00F                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18177 0000351A 400B                   M           JSR     @R0                     ;
18178 0000351C 0009                   M           NOP                                     ;
18179                            7523             FAR_JSR #_NOW_INC_DIG_MAK,R0            ;
18180 0000351E D00F                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18181 00003520 400B                   M           JSR     @R0                     ;
18182 00003522 0009                   M           NOP                                     ;
18183                            7524     
18184                            7525     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   221
PROGRAM NAME =

18185 00003524 D10E              7526             MOV.L   #_LINK_NOWROT_OFSPLS_P,R1               ;[[[目標]]]
18186 00003526 6712              7527             MOV.L   @R1,R7                                  ;
18187                            7528     
18188                            7529             FAR_JSR #_POS_STEP1_SEARCH,R0                   ;INPUT R7
18189 00003528 D00E                   M           MOV.L   #_POS_STEP1_SEARCH,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18190 0000352A 400B                   M           JSR     @R0                     ;
18191 0000352C 0009                   M           NOP                                     ;
18192                            7530                                                             ;OUTPUT R0(R6):ｽﾃｯﾌﾟ R5方向
18193                            7531                                                             ;R2(Sn),R3(Sn_1),R7(入力=目標位置)
18194 0000352E 2008              7532             TST     R0,R0                                   ;
18195                            7533             TST_BIT_OF INC_RSTMODECK490                     ;OKにはできない
18196 00003530 8960                   M           BT      INC_RSTMODECK490
18197 00003532 D10D              7534             MOV.L   #_INC_RESET_STEP,R1                     ;
18198 00003534 2101              7535             MOV.W   R0,@R1                                  ;開始行程
18199                            7536     
18200                            7537     ;       -- R5=方向 BIT1=0(正)/1(逆)---
18201 00003536 D10D              7538             MOV.L   #(_PAR_INCMODE_EPLS-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
18202 00003538 6011              7539             MOV.W   @R1,R0                                                  ;
18203 0000353A 2008              7540             TST     R0,R0                                                   ;
18204                            7541             TST_BIT_OF INC_RSTMODECK280                                     ;
18205 0000353C 8926                   M           BT      INC_RSTMODECK280
18206                            7542     
18207 0000353E E402              7543             MOV.B   #BIT1,R4                                ;
18208 00003540 2548              7544             TST     R4,R5                                   ;
18209                            7545             TST_BIT_OF INC_RSTMODECK240                     ;方向
18210 00003542 8915                   M           BT      INC_RSTMODECK240
18211 00003544 600B              7546             NEG     R0,R0                                   ;
18212 00003546 307C              7547             ADD     R7,R0                                   ;
18213                            7548     
18214                            7549             MAX_MIN_RG_CMP4B DT_REG=R2,MAXRG=R7,MINRG=R0    ;T=1:範囲内　R7 >= R2 => R0(R7-α)
                                          　なら次行程
18215 00003548 3203                   M           CMP/GE  R0,R2           ;MIN =< DT THEN T=1
18216 0000354A 8B00                   M           BF      JMP0100003                      ;DT < MIN T=0
18217 0000354C 3723                   M           CMP/GE  R2,R7           ;
18218 0000354E                        M   JMP0100003                                      ;
18219 0000354E 8914              7550             BT      INC_RSTMODECK260                        ;
18220                            7551             M_BRA   INC_RSTMODECK280                        ;範囲内ではない
18221 00003550 A01C                   M           BRA     INC_RSTMODECK280
18222 00003552 0009                   M           NOP
18223                            7552     
18224                                     ***** BEGIN-POOL *****
18225 00003554 00000000                   DATA FOR SOURCE-LINE 7514
18226 00003558 00000000                   DATA FOR SOURCE-LINE 7522
18227 0000355C 00000000                   DATA FOR SOURCE-LINE 7523
18228 00003560 00000000                   DATA FOR SOURCE-LINE 7526
18229 00003564 00000000                   DATA FOR SOURCE-LINE 7529
18230 00003568 00000000                   DATA FOR SOURCE-LINE 7534
18231 0000356C 00000000                   DATA FOR SOURCE-LINE 7538
18232                                     ***** END-POOL *****
18233 00003570                   7553     INC_RSTMODECK240                                        ;
18234 00003570 307C              7554             ADD     R7,R0                                   ;
18235                            7555             MAX_MIN_RG_CMP4B DT_REG=R2,MAXRG=R0,MINRG=R7    ;T=1:範囲内　R7=<R2<=R0(R7+α)なら
                                          次行程
18236 00003572 3273                   M           CMP/GE  R7,R2           ;MIN =< DT THEN T=1
18237 00003574 8B00                   M           BF      JMP0100004                      ;DT < MIN T=0
18238 00003576 3023                   M           CMP/GE  R2,R0           ;
18239 00003578                        M   JMP0100004                                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   222
PROGRAM NAME =

18240 00003578 8B08              7556             BF      INC_RSTMODECK280                        ;範囲内ではない2016-05-17抜けてい
                                          た
18241                            7557     
18242 0000357A                   7558     INC_RSTMODECK260                                        ;
18243                            7559     
18244 0000357A D50D              7560             MOV.L   #_INC_RESET_STEP,R5                     ;
18245 0000357C 6051              7561             MOV.W   @R5,R0                                  ;
18246 0000357E 7001              7562             ADD     #1,R0
18247 00003580 D40C              7563             MOV.L   #_SETX_POS_STEP_MAX,R4                  ;
18248 00003582 6141              7564             MOV.W   @R4,R1                                  ;
18249 00003584 7101              7565             ADD     #1,R1                                   ;
18250 00003586 3103              7566             CMP/GE  R0,R1                                   ;
18251 00003588 8B00              7567             BF      INC_RSTMODECK280                        ;ｵｰﾊﾞしてしまう
18252 0000358A 2501              7568             MOV.W   R0,@R5                                  ;
18253                            7569     
18254                            7570     
18255 0000358C                   7571     INC_RSTMODECK280
18256 0000358C D10A              7572             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
18257 0000358E 6011              7573             MOV.W   @R1,R0                                  ;
18258 00003590 C804              7574             TST     #(_DMATH_DNDRIV),R0                     ;
18259                            7575             TST_BIT_OF INC_RSTMODECK300                     ;ふりこではない
18260 00003592 8921                   M           BT      INC_RSTMODECK300
18261                            7576     
18262                            7577     ;       ------前回がﾓｰｼｮﾝ運転ならその運転の方向を引き継ぐ[2014-11-10]-----
18263 00003594 D109              7578             MOV.L   #_MOVE_MODE_MATH_LATCH,R1       ;//0:(ふりこ以外 または 段取・原点モード)1
                                          :(ふりこでﾓｰｼｮﾝしていた)
18264 00003596 6011              7579             MOV.W   @R1,R0                          ;
18265 00003598 C801              7580             TST     #BIT0,R0                        ;
18266                            7581             TST_BIT_OF INC_RSTMODECK290             ;前はﾓｰｼｮﾝではないorふりこではない
18267 0000359A 8915                   M           BT      INC_RSTMODECK290
18268                            7582     
18269 0000359C D108              7583             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1      ;//ふりこの場合の前回までの動作方向
18270 0000359E 6011              7584             MOV.W   @R1,R0                          ;
18271 000035A0 C801              7585             TST     #BIT0,R0                        ;
18272                            7586             TST_BIT_OF INC_RSTMODECK300             ;正
18273 000035A2 8919                   M           BT      INC_RSTMODECK300
18274                            7587     
18275                            7588             FAR_JSR #_DNM_DATA_REV_SET,R0           ;逆
18276 000035A4 D007                   M           MOV.L   #_DNM_DATA_REV_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18277 000035A6 400B                   M           JSR     @R0                     ;
18278 000035A8 0009                   M           NOP                                     ;
18279                            7589             M_BRA   INC_RSTMODECK300                ;
18280 000035AA A015                   M           BRA     INC_RSTMODECK300
18281 000035AC 0009                   M           NOP
18282                            7590     
18283                            7591     
18284                            7592     
18285                                     ***** BEGIN-POOL *****
18286 000035AE 0000                       ALIGNMENT CODE
18287 000035B0 00000000                   DATA FOR SOURCE-LINE 7560
18288 000035B4 00000000                   DATA FOR SOURCE-LINE 7563
18289 000035B8 00000000                   DATA FOR SOURCE-LINE 7572
18290 000035BC 00000000                   DATA FOR SOURCE-LINE 7578
18291 000035C0 00000000                   DATA FOR SOURCE-LINE 7583
18292 000035C4 00000000                   DATA FOR SOURCE-LINE 7588
18293                                     ***** END-POOL *****
18294 000035C8                   7593     INC_RSTMODECK290
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   223
PROGRAM NAME =

18295                            7594     
18296 000035C8 930C              7595             MOV.W   #_UPDN_DIRJG_DIG,R3                     ;               .EQU    1800    ;
18297 000035CA D107              7596             MOV.L   #_INC_ENC360,R1                         ;
18298 000035CC 6211              7597             MOV.W   @R1,R2                                  ;
18299 000035CE 3237              7598             CMP/GT  R3,R2                                   ;
18300 000035D0 8B02              7599             BF      INC_RSTMODECK300                        ;
18301                            7600     
18302                            7601     ;       --------0~180-------------
18303                            7602             FAR_JSR #_DNM_DATA_REV_SET,R0                   ;
18304 000035D2 D006                   M           MOV.L   #_DNM_DATA_REV_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18305 000035D4 400B                   M           JSR     @R0                     ;
18306 000035D6 0009                   M           NOP                                     ;
18307                            7603     
18308 000035D8                   7604     INC_RSTMODECK300
18309                            7605     
18310 000035D8 E001              7606             MOV.B   #BIT0,R0                        ;
18311 000035DA D105              7607             MOV.L   #_INC_RESET_USE_F,R1            ;//STEPを参照して!
18312 000035DC 2101              7608             MOV.W   R0,@R1                          ;//起動時ONならRESET_STEPを参照する
18313                            7609     
18314                            7610     ;       -----------------------------------------
18315                            7611     ;;;INC_RSTMODECK480
18316 000035DE E201              7612             MOV.B   #BIT0,R2                        ;
18317                            7613             M_BRA   INC_RSTMODECK500                ;OKして!
18318 000035E0 A00A                   M           BRA     INC_RSTMODECK500
18319 000035E2 0009                   M           NOP
18320                            7614     
18321                            7615     
18322                                     ***** BEGIN-POOL *****
18323 000035E4 0708                       DATA FOR SOURCE-LINE 7595
18324 000035E6 0000                       ALIGNMENT CODE
18325 000035E8 00000000                   DATA FOR SOURCE-LINE 7596
18326 000035EC 00000000                   DATA FOR SOURCE-LINE 7602
18327 000035F0 00000000                   DATA FOR SOURCE-LINE 7607
18328                                     ***** END-POOL *****
18329 000035F4                   7616     INC_RSTMODECK490
18330 000035F4 0009              7617             NOP
18331 000035F6                   7618     INC_RSTMODECK499
18332 000035F6 200A              7619             XOR     R0,R0                           ;通常ｿﾌﾄを流して
18333 000035F8                   7620     INC_RSTMODECK500
18334                            7621     
18335                            7622             SUB_END                                                         ;
18336                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18337 000035F8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18338                            7623             M_RTS                                                           ;
18339 000035FA 000B                   M           RTS                             ;RTSの後ろの
18340 000035FC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18341                            7624     
18342                            7625     
18343                            7626     
18344                            7627             .EXPORT _INC_SPEC_RSTCHK
18345 000035FE                   7628     _INC_SPEC_RSTCHK
18346                            7629             SUB_START                                                       ;
18347 000035FE 4F22                   M           STS.L   PR,@-R15                ;[必要]
18348                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18349                            7630     
18350 00003600 D105              7631             MOV.L   #(_PAR_INCMODE_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
18351 00003602 6011              7632             MOV.W   @R1,R0                                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   224
PROGRAM NAME =

18352 00003604 8801              7633             CMP/EQ  #1,R0                                                   ;
18353 00003606 8B0B              7634             BF      INC_SPEC_RSTCK100                                       ;
18354                            7635     
18355 00003608 D104              7636             MOV.L   #_INP_MODE,R1                                           ;
18356 0000360A 6011              7637             MOV.W   @R1,R0                                                  ;
18357 0000360C C802              7638             TST     #_W1INC,R0                                              ;寸動?
18358                            7639             TST_BIT_OF INC_SPEC_RSTCK100                                    ;
18359 0000360E 8907                   M           BT      INC_SPEC_RSTCK100
18360                            7640     
18361 00003610 E001              7641             MOV.B   #BIT0,R0
18362                            7642             M_BRA   INC_SPEC_RSTCK200
18363 00003612 A006                   M           BRA     INC_SPEC_RSTCK200
18364 00003614 0009                   M           NOP
18365                            7643     
18366                                     ***** BEGIN-POOL *****
18367 00003616 0000                       ALIGNMENT CODE
18368 00003618 00000000                   DATA FOR SOURCE-LINE 7631
18369 0000361C 00000000                   DATA FOR SOURCE-LINE 7636
18370                                     ***** END-POOL *****
18371 00003620                   7644     INC_SPEC_RSTCK100:
18372 00003620 200A              7645             XOR     R0,R0
18373 00003622                   7646     INC_SPEC_RSTCK200:
18374                            7647     
18375                            7648     
18376                            7649             SUB_END                                                         ;
18377                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18378 00003622 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18379                            7650             M_RTS                                                           ;
18380 00003624 000B                   M           RTS                             ;RTSの後ろの
18381 00003626 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18382                            7651     
18383                            7652     
18384                            7653     ;       *******************************************
18385                            7654     ;       ***                                     ***
18386                            7655     ;       ***             EPｾﾝｻﾁｪｯｸ               ***
18387                            7656     ;       ***                                     ***
18388                            7657     ;       *******************************************
18389                            7658             .INCLUDE        "ssa_epchk.inc"         ;//
18390                               1 I1  ;       ***********************************
18391                               2 I1  ;       ***                             ***
18392                               3 I1  ;       ***     EPｾﾝｻﾁｪｯｸ               ***
18393                               4 I1  ;       ***                             ***
18394                               5 I1  ;       ***********************************
18395                               6 I1  ;       電源投入時
18396                               7 I1  ;       位置づけはｾﾙﾌﾁｪｯｸだが,独立した機能
18397                               8 I1  ;       ANTI-ONしてから
18398                               9 I1  
18399                              10 I1          .EXPORT         _EPSEN_CLR
18400                              11 I1  
18401                              12 I1          .GLOBAL         _PAR_EPCHK_SEL          ;5 0:EPｾﾝｻﾁｪｯｸしない 1:ﾁｪｯｸする
18402                              13 I1          .GLOBAL         _PAR_EP1STR_DLYTM       ;6 開始遅延時間 ms
18403                              14 I1          .GLOBAL         _PAR_EP2FVINOF_ERTM     ;7 片方ﾘﾚｰOF(0)確認時間兼ﾀｲﾑｱｳﾄ
18404                              15 I1          .GLOBAL         _PAR_EP3BRKON_DLYTM     ;8 ﾌﾞﾚｰｷON出力遅延
18405                              16 I1          .GLOBAL         _PAR_EP4EPINOF_ERTM     ;9 EPｾﾝｻoff確認時間兼ﾀｲﾑｱｳﾄ
18406                              17 I1          .GLOBAL         _PAR_EP5RSTON_DLYTM     ;10 EPｾﾝｻﾘｾｯﾄON遅延時間
18407                              18 I1          .GLOBAL         _PAR_EP6RSTON_JGTM      ;1 ﾘｾｯﾄON時間兼判定時間
18408                              19 I1          .GLOBAL         _PAR_EP6RSTOF_INTTM     ;2 OFFｲﾝﾀ-ﾊﾞﾙ時間
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   225
PROGRAM NAME =

18409                              20 I1          .GLOBAL         _PAR_EP6RST_RETRY       ;3 ﾘｾｯﾄﾘﾄﾗｲ回数
18410                              21 I1          .GLOBAL         _PAR_EP7AB_DLYTM        ;4 CPUA-->CPUBﾃｽﾄ遅延時間
18411                              22 I1          .GLOBAL         _PAR_EP7END_DLYTM       ;5 CPUB-->終了遅延時間
18412                              23 I1  
18413                              24 I1  
18414                              25 I1          .MACRO  STEP_NEXT MEM
18415                              26 I1          MOV.L   #\MEM,R1        ;
18416                              27 I1          MOV.W   @R1,R0          ;
18417                              28 I1          ADD     #1,R0           ;
18418                              29 I1          MOV.W   R0,@R1          ;
18419                              30 I1          .ENDM
18420                              31 I1  
18421 00003628                     32 I1          .ALIGN  4                               ;
18422 00003628                     33 I1  _EP_JMP_TBL
18423                              34 I1  
18424 00003628 00000000            35 I1          .DATA.L         EP_STEP_USE_RY_DATSET_A ;0
18425 0000362C 00000000            36 I1          .DATA.L         EP_STEP_USE_RY_A        ;1 片効有効RY-ON,片効きｾﾝｻ確認
18426 00003630 00000000            37 I1          .DATA.L         EP_STEP_VALVON_DATSET   ;2
18427 00003634 00000000            38 I1          .DATA.L         EP_STEP_VALVON_COM      ;3 ﾊﾞﾙﾌﾞON,EPｾﾝｻ確認
18428 00003638 00000000            39 I1          .DATA.L         EP_STEP_EPSENSIG_A      ;4
18429 0000363C 00000000            40 I1          .DATA.L         EP_STEP_RESET_DATSET1   ;5
18430 00003640 00000000            41 I1          .DATA.L         EP_STEP_RESETON_COM     ;6
18431 00003644 00000000            42 I1          .DATA.L         EP_STEP_ENDSIG_A        ;7
18432 00003648 00000000            43 I1          .DATA.L         EP_STEP_USE_RY_DATSET_B ;8
18433 0000364C 00000000            44 I1          .DATA.L         EP_STEP_USE_RY_B        ;9
18434 00003650 00000000            45 I1          .DATA.L         EP_STEP_VALVON_DATSET   ;10
18435 00003654 00000000            46 I1          .DATA.L         EP_STEP_VALVON_COM      ;11
18436 00003658 00000000            47 I1          .DATA.L         EP_STEP_EPSENSIG_B      ;12
18437 0000365C 00000000            48 I1          .DATA.L         EP_STEP_RESET_DATSET1   ;13
18438 00003660 00000000            49 I1          .DATA.L         EP_STEP_RESETON_COM     ;14
18439 00003664 00000000            50 I1          .DATA.L         EP_STEP_ENDSIG_B        ;15
18440 00003668 00000000            51 I1          .DATA.L         EP_STEP_XX              ;16
18441 0000366C 00000000            52 I1          .DATA.L         EP_STEP_XX              ;17
18442 00003670 00000000            53 I1          .DATA.L         EP_STEP_XX              ;18
18443 00003674 00000000            54 I1          .DATA.L         EP_STEP_XX              ;19
18444 00003678 00000000            55 I1          .DATA.L         EP_STEP_XX              ;20
18445 0000367C 00000000            56 I1          .DATA.L         EP_STEP_XX              ;21
18446 00003680 00000000            57 I1          .DATA.L         EP_STEP_XX              ;22
18447 00003684 00000000            58 I1          .DATA.L         EP_STEP_XX              ;23
18448 00003688 00000000            59 I1          .DATA.L         EP_STEP_XX              ;24
18449 0000368C 00000000            60 I1          .DATA.L         EP_STEP_XX              ;25
18450 00003690 00000000            61 I1          .DATA.L         EP_STEP_XX              ;26
18451 00003694 00000000            62 I1          .DATA.L         EP_STEP_XX              ;27
18452 00003698 00000000            63 I1          .DATA.L         EP_STEP_XX              ;28
18453 0000369C 00000000            64 I1          .DATA.L         EP_STEP_XX              ;29
18454 000036A0 00000000            65 I1          .DATA.L         EP_STEP_XX              ;30
18455 000036A4 00000000            66 I1          .DATA.L         EP_STEP_XX              ;31
18456 000036A8 00000000            67 I1          .DATA.L         EP_STEP_XX              ;32
18457                              68 I1  
18458                              69 I1  
18459                              70 I1  
18460 000036AC                     71 I1          .ALIGN  4                               ;
18461                              72 I1          .EXPORT _EP_SENCER_CHECK
18462 000036AC                     73 I1  _EP_SENCER_CHECK
18463                              74 I1          SUB_START
18464 000036AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
18465                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   226
PROGRAM NAME =

18466                              75 I1  
18467 000036AE D105                76 I1          MOV.L   #_EPCHK_FLG,R1                  ;
18468 000036B0 6011                77 I1          MOV.W   @R1,R0                          ;
18469 000036B2 2008                78 I1          TST     R0,R0                           ;
18470                              79 I1          TST_BIT_ON EP_SENCER_CK050              ;
18471 000036B4 8B36                   M           BF      EP_SENCER_CK050
18472                              80 I1  
18473 000036B6 D104                81 I1          MOV.L   #_EPCHK_COM,R1                  ;
18474 000036B8 6011                82 I1          MOV.W   @R1,R0                          ;
18475 000036BA 2008                83 I1          TST     R0,R0                           ;
18476                              84 I1          TST_BIT_ON EP_SENCER_CK020              ;
18477 000036BC 8B06                   M           BF      EP_SENCER_CK020
18478                              85 I1          M_BRA   EP_SENCER_CKEXT                 ;IDEL
18479 000036BE A1F8                   M           BRA     EP_SENCER_CKEXT
18480 000036C0 0009                   M           NOP
18481                              86 I1  
18482                              87 I1  ;       --------- 開始処理-----------
18483                                 I1  ***** BEGIN-POOL *****
18484 000036C2 0000                   I1  ALIGNMENT CODE
18485 000036C4 00000000               I1  DATA FOR SOURCE-LINE 76
18486 000036C8 00000000               I1  DATA FOR SOURCE-LINE 81
18487                                 I1  ***** END-POOL *****
18488 000036CC                     88 I1  EP_SENCER_CK020:
18489                              89 I1  
18490 000036CC D102                90 I1          MOV.L   #(_PAR_EPCHK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1      ;
18491 000036CE 6011                91 I1          MOV.W   @R1,R0                                                  ;
18492 000036D0 8801                92 I1          CMP/EQ  #1,R0                                                   ;
18493 000036D2 8903                93 I1          BT      EP_SENCER_CK030                                         ;
18494                              94 I1          M_BRA   EP_SENCER_CK800                                         ;正常終了
18495 000036D4 A1C8                   M           BRA     EP_SENCER_CK800
18496 000036D6 0009                   M           NOP
18497                              95 I1  
18498                              96 I1  
18499                                 I1  ***** BEGIN-POOL *****
18500 000036D8 00000000               I1  DATA FOR SOURCE-LINE 90
18501                                 I1  ***** END-POOL *****
18502 000036DC                     97 I1  EP_SENCER_CK030:
18503                              98 I1  
18504                              99 I1          FAR_JSR #_EP_SENCHK_STOPCONF1,R0        ;
18505 000036DC D004                   M           MOV.L   #_EP_SENCHK_STOPCONF1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18506 000036DE 400B                   M           JSR     @R0                     ;
18507 000036E0 0009                   M           NOP                                     ;
18508 000036E2 2008               100 I1          TST     R0,R0                           ;
18509                             101 I1          TST_BIT_OF EP_SENCER_CK040              ;
18510 000036E4 8908                   M           BT      EP_SENCER_CK040
18511                             102 I1  
18512 000036E6 200A               103 I1          XOR     R0,R0
18513 000036E8 D102               104 I1          MOV.L   #_EPCHK_STS,R1                  ;
18514 000036EA 2101               105 I1          MOV.W   R0,@R1                          ;
18515                             106 I1          M_BRA   EP_SENCER_CK900                 ;
18516 000036EC A1CA                   M           BRA     EP_SENCER_CK900
18517 000036EE 0009                   M           NOP
18518                             107 I1  
18519                                 I1  ***** BEGIN-POOL *****
18520 000036F0 00000000               I1  DATA FOR SOURCE-LINE 99
18521 000036F4 00000000               I1  DATA FOR SOURCE-LINE 104
18522                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   227
PROGRAM NAME =

18523 000036F8                    108 I1  EP_SENCER_CK040:
18524 000036F8 E001               109 I1          MOV.B   #BIT0,R0                ;
18525 000036FA D106               110 I1          MOV.L   #_EPCHK_FLG,R1          ;
18526 000036FC 2101               111 I1          MOV.W   R0,@R1                  ;
18527                             112 I1  
18528 000036FE 200A               113 I1          XOR     R0,R0                   ;
18529 00003700 D105               114 I1          MOV.L   #_EPCHK_STEP,R1         ;
18530 00003702 2101               115 I1          MOV.W   R0,@R1                  ;
18531                             116 I1  
18532 00003704 E001               117 I1          MOV.B   #BIT0,R0                ;
18533 00003706 D105               118 I1          MOV.L   #_EPCHK_STS,R1          ;
18534 00003708 2101               119 I1          MOV.W   R0,@R1                  ;
18535                             120 I1  
18536                             121 I1  ;       ---------------------------
18537 0000370A 222A               122 I1          XOR     R2,R2
18538 0000370C D104               123 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                      ;
18539 0000370E 2121               124 I1          MOV.W   R2,@R1                                                  ;
18540                             125 I1  
18541                             126 I1          M_BRA   EP_SENCER_CKEND         ;
18542 00003710 A1CB                   M           BRA     EP_SENCER_CKEND
18543 00003712 0009                   M           NOP
18544                             127 I1  
18545                             128 I1  
18546                                 I1  ***** BEGIN-POOL *****
18547 00003714 00000000               I1  DATA FOR SOURCE-LINE 110
18548 00003718 00000000               I1  DATA FOR SOURCE-LINE 114
18549 0000371C 00000000               I1  DATA FOR SOURCE-LINE 118
18550 00003720 00000000               I1  DATA FOR SOURCE-LINE 123
18551                                 I1  ***** END-POOL *****
18552 00003724                    129 I1  EP_SENCER_CK050:
18553 00003724 C880               130 I1          TST     #BIT7,R0                ;
18554                             131 I1          TST_BIT_OF EP_SENCER_CK100      ;
18555 00003726 8901                   M           BT      EP_SENCER_CK100
18556                             132 I1          M_BRA   EP_SENCER_CKEND ;
18557 00003728 A1BF                   M           BRA     EP_SENCER_CKEND
18558 0000372A 0009                   M           NOP
18559                             133 I1  
18560                             134 I1  ;       ---------- 処理中---------------
18561 0000372C                    135 I1  EP_SENCER_CK100:
18562                             136 I1  
18563                             137 I1          DN_TIME LG=W,MEM_ADR=_EPCHK_DLY_TIM,WKREG1=R1,WKREG2=R4 ;
18564 0000372C D106                   M           MOV.L   #_EPCHK_DLY_TIM,R1              ;SORCE ADRESS SET
18565 0000372E 6411                   M           MOV.W   @R1,R4          ;
18566 00003730 2448                   M           TST     R4,R4                   ;
18567 00003732 8901                   M           BT      JMP_0100005                     ;ZERO THEN JUMP
18568 00003734 4410                   M           DT      R4                              ;
18569 00003736 2141                   M           MOV.W   R4,@R1          ;STORE
18570 00003738                        M   JMP_0100005:
18571                             138 I1  
18572                             139 I1  ;       -------- 中断条件--------------------
18573                             140 I1          FAR_JSR #_EP_SENCHK_STOPCONF2,R0        ;
18574 00003738 D004                   M           MOV.L   #_EP_SENCHK_STOPCONF2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18575 0000373A 400B                   M           JSR     @R0                     ;
18576 0000373C 0009                   M           NOP                                     ;
18577 0000373E 2008               141 I1          TST     R0,R0                           ;
18578                             142 I1          TST_BIT_OF EP_SENCER_CK150              ;
18579 00003740 8906                   M           BT      EP_SENCER_CK150
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   228
PROGRAM NAME =

18580                             143 I1          M_BRA   EP_SENCER_CK900                 ;異常
18581 00003742 A19F                   M           BRA     EP_SENCER_CK900
18582 00003744 0009                   M           NOP
18583                             144 I1  
18584                                 I1  ***** BEGIN-POOL *****
18585 00003746 0000                   I1  ALIGNMENT CODE
18586 00003748 00000000               I1  DATA FOR SOURCE-LINE 137
18587 0000374C 00000000               I1  DATA FOR SOURCE-LINE 140
18588                                 I1  ***** END-POOL *****
18589 00003750                    145 I1  EP_SENCER_CK150:
18590                             146 I1  
18591                             147 I1  ;       -----------遅延時間処理--------
18592 00003750 D102               148 I1          MOV.L   #_EPCHK_DLY_TIM,R1              ;
18593 00003752 6011               149 I1          MOV.W   @R1,R0                          ;
18594 00003754 2008               150 I1          TST     R0,R0                           ;
18595                             151 I1          TST_BIT_OF EP_SENCER_CK200              ;
18596 00003756 8903                   M           BT      EP_SENCER_CK200
18597                             152 I1          M_BRA   EP_SENCER_CKEND         ;
18598 00003758 A1A7                   M           BRA     EP_SENCER_CKEND
18599 0000375A 0009                   M           NOP
18600                             153 I1  
18601                             154 I1  ;       ---------- 遅延時間中は異常ﾀｲﾏｶｳﾝﾄしない-----------
18602                                 I1  ***** BEGIN-POOL *****
18603 0000375C 00000000               I1  DATA FOR SOURCE-LINE 148
18604                                 I1  ***** END-POOL *****
18605 00003760                    155 I1  EP_SENCER_CK200:
18606                             156 I1          DN_TIME LG=W,MEM_ADR=_EPCHK_ERR_TIM,WKREG1=R1,WKREG2=R4 ;
18607 00003760 D107                   M           MOV.L   #_EPCHK_ERR_TIM,R1              ;SORCE ADRESS SET
18608 00003762 6411                   M           MOV.W   @R1,R4          ;
18609 00003764 2448                   M           TST     R4,R4                   ;
18610 00003766 8901                   M           BT      JMP_0100006                     ;ZERO THEN JUMP
18611 00003768 4410                   M           DT      R4                              ;
18612 0000376A 2141                   M           MOV.W   R4,@R1          ;STORE
18613 0000376C                        M   JMP_0100006:
18614                             157 I1  
18615 0000376C D105               158 I1          MOV.L   #_EPCHK_STEP,R1                         ;
18616 0000376E 6011               159 I1          MOV.W   @R1,R0                                  ;
18617 00003770 C91F               160 I1          AND     #H'1F,R0                                ;MAX 16ｽﾃｯﾌﾟ
18618 00003772 4008               161 I1          SHLL2   R0                                      ;
18619 00003774 D104               162 I1          MOV.L   #_EP_JMP_TBL,R1                         ;
18620 00003776 310C               163 I1          ADD     R0,R1                                   ;
18621 00003778 6012               164 I1          MOV.L   @R1,R0                                  ;
18622                             165 I1          REG_JMP WKREG=R0                                ;
18623 0000377A 402B                   M           JMP     @R0
18624 0000377C 0009                   M           NOP
18625                             166 I1  
18626                             167 I1  
18627                             168 I1  ;       ---------------------------------------------------
18628                             169 I1  ;       ---     遅延ﾀｲﾏ,有効ﾘﾚｰ,異常ﾀｲﾏｾｯﾄ[STEP0]       ---
18629                             170 I1  ;       ---------------------------------------------------
18630                                 I1  ***** BEGIN-POOL *****
18631 0000377E 0000                   I1  ALIGNMENT CODE
18632 00003780 00000000               I1  DATA FOR SOURCE-LINE 156
18633 00003784 00000000               I1  DATA FOR SOURCE-LINE 158
18634 00003788 00000000               I1  DATA FOR SOURCE-LINE 162
18635                                 I1  ***** END-POOL *****
18636 0000378C                    171 I1  EP_STEP_USE_RY_DATSET_A
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   229
PROGRAM NAME =

18637                             172 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
18638 0000378C D102               173 I1          MOV.L   #(_PAR_EP1STR_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;開始遅延
18639 0000378E 6211               174 I1          MOV.W   @R1,R2                                                  ;
18640 00003790 D102               175 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                      ;
18641 00003792 2121               176 I1          MOV.W   R2,@R1                                                  ;
18642                             177 I1          M_BRA   EP_STEP_USE_RY_DATSETCOM
18643 00003794 A008                   M           BRA     EP_STEP_USE_RY_DATSETCOM
18644 00003796 0009                   M           NOP
18645                             178 I1  
18646                                 I1  ***** BEGIN-POOL *****
18647 00003798 00000000               I1  DATA FOR SOURCE-LINE 173
18648 0000379C 00000000               I1  DATA FOR SOURCE-LINE 175
18649                                 I1  ***** END-POOL *****
18650 000037A0                    179 I1  EP_STEP_USE_RY_DATSET_B
18651                             180 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
18652 000037A0 D106               181 I1          MOV.L   #(_PAR_EP7AB_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;開始遅延
18653 000037A2 6211               182 I1          MOV.W   @R1,R2                                                  ;
18654 000037A4 D106               183 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                      ;
18655 000037A6 2121               184 I1          MOV.W   R2,@R1                                                  ;
18656                             185 I1  
18657 000037A8                    186 I1  EP_STEP_USE_RY_DATSETCOM
18658                             187 I1  
18659                             188 I1  ;       ---------ﾀｲﾏｾｯﾄ[異常]-----------------
18660 000037A8 D106               189 I1          MOV.L   #(_PAR_EP2FVINOF_ERTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1 ;片方ﾘﾚｰOF(0)確認
                                          時間兼ﾀｲﾑｱｳﾄ
18661 000037AA 6211               190 I1          MOV.W   @R1,R2                                                  ;
18662 000037AC D106               191 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                      ;
18663 000037AE 2121               192 I1          MOV.W   R2,@R1                                                  ;
18664                             193 I1          STEP_NEXT MEM=_EPCHK_STEP                                       ;
18665 000037B0 D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
18666 000037B2 6011                   M           MOV.W   @R1,R0          ;
18667 000037B4 7001                   M           ADD     #1,R0           ;
18668 000037B6 2101                   M           MOV.W   R0,@R1          ;
18669                             194 I1          M_BRA   EP_SENCER_CKEND                                         ;
18670 000037B8 A177                   M           BRA     EP_SENCER_CKEND
18671 000037BA 0009                   M           NOP
18672                             195 I1  
18673                             196 I1  
18674                             197 I1  ;       ---------------------------------------------------
18675                             198 I1  ;       ---     VF-RYの片効ｱﾝｻ待ち，異常CHK[STEP1]      ---
18676                             199 I1  ;       ---------------------------------------------------
18677                             200 I1  ;       ﾀｲﾑｱｯﾌﾟ前に入力を確認し、入力が"L"なら即遷移する,時間内に"L"にならなければ異常
18678                             201 I1  ;       ----------- A:ｽﾃｯﾌﾟ1,B:ｽﾃｯﾌﾟ1----------
18679                                 I1  ***** BEGIN-POOL *****
18680 000037BC 00000000               I1  DATA FOR SOURCE-LINE 181
18681 000037C0 00000000               I1  DATA FOR SOURCE-LINE 183
18682 000037C4 00000000               I1  DATA FOR SOURCE-LINE 189
18683 000037C8 00000000               I1  DATA FOR SOURCE-LINE 191
18684 000037CC 00000000               I1  DATA FOR SOURCE-LINE 193
18685                                 I1  ***** END-POOL *****
18686 000037D0                    202 I1  EP_STEP_USE_RY_A
18687                             203 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT5),WKRG1=R1,WKRG2=R4      ;BIT5=1:A
                                          片効要求
18688 000037D0 D103                   M           MOV.L   #_EPCHK_STS,R1          ;
18689 000037D2 6011                   M           MOV.W   @R1,R0          ;
18690 000037D4 9403                   M           MOV.W   #(BIT5),R4              ;
18691 000037D6 204B                   M           OR      R4,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   230
PROGRAM NAME =

18692 000037D8 2101                   M           MOV.W   R0,@R1          ;
18693                             204 I1          M_BRA   EP_STEP_USE_RY_COM              ;
18694 000037DA A008                   M           BRA     EP_STEP_USE_RY_COM
18695 000037DC 0009                   M           NOP
18696                             205 I1  
18697                             206 I1  
18698                                 I1  ***** BEGIN-POOL *****
18699 000037DE 0020                   I1  DATA FOR SOURCE-LINE 203
18700 000037E0 00000000               I1  DATA FOR SOURCE-LINE 203
18701                                 I1  ***** END-POOL *****
18702 000037E4                    207 I1  EP_STEP_USE_RY_B
18703                             208 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT6),WKRG1=R1,WKRG2=R4      ;BIT6=A片
                                          効要求
18704 000037E4 D108                   M           MOV.L   #_EPCHK_STS,R1          ;
18705 000037E6 6011                   M           MOV.W   @R1,R0          ;
18706 000037E8 940C                   M           MOV.W   #(BIT6),R4              ;
18707 000037EA 204B                   M           OR      R4,R0           ;
18708 000037EC 2101                   M           MOV.W   R0,@R1          ;
18709 000037EE                    209 I1  EP_STEP_USE_RY_COM
18710                             210 I1  
18711                             211 I1          FAR_JSR #_VFRY_IN_CHK,R0                                                ;ANS R0=0(
                                          OFF) R0=BIT14(ON)
18712 000037EE D007                   M           MOV.L   #_VFRY_IN_CHK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18713 000037F0 400B                   M           JSR     @R0                     ;
18714 000037F2 0009                   M           NOP                                     ;
18715                             212 I1  
18716 000037F4 2008               213 I1          TST     R0,R0                                                           ;
18717                             214 I1          TST_BIT_ON EP_STEP_USE_RY_COM_150                                       ;
18718 000037F6 8B0D                   M           BF      EP_STEP_USE_RY_COM_150
18719                             215 I1  
18720                             216 I1  ;       ------- OFF発見 ------
18721                             217 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
18722 000037F8 D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
18723 000037FA 6011                   M           MOV.W   @R1,R0          ;
18724 000037FC 7001                   M           ADD     #1,R0           ;
18725 000037FE 2101                   M           MOV.W   R0,@R1          ;
18726                             218 I1          M_BRA   EP_SENCER_CKEND                                                 ;
18727 00003800 A153                   M           BRA     EP_SENCER_CKEND
18728 00003802 0009                   M           NOP
18729                             219 I1  
18730                                 I1  ***** BEGIN-POOL *****
18731 00003804 0040                   I1  DATA FOR SOURCE-LINE 208
18732 00003806 0000                   I1  ALIGNMENT CODE
18733 00003808 00000000               I1  DATA FOR SOURCE-LINE 208
18734 0000380C 00000000               I1  DATA FOR SOURCE-LINE 211
18735 00003810 00000000               I1  DATA FOR SOURCE-LINE 217
18736                                 I1  ***** END-POOL *****
18737 00003814                    220 I1  EP_STEP_USE_RY_COM_150                                                          ;
18738 00003814 D105               221 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
18739 00003816 6011               222 I1          MOV.W   @R1,R0                                                          ;
18740 00003818 2008               223 I1          TST     R0,R0                                                           ;
18741                             224 I1          TST_BIT_ON EP_STEP_USE_RY_COM_190                                       ;
18742 0000381A 8B0B                   M           BF      EP_STEP_USE_RY_COM_190
18743                             225 I1  
18744                             226 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT2),WKRG1=R1,WKRG2=R4      ;ﾌｨｰﾄﾞﾊﾞｯｸ
                                          失敗
18745 0000381C D104                   M           MOV.L   #_EPCHK_STS,R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   231
PROGRAM NAME =

18746 0000381E 6011                   M           MOV.W   @R1,R0          ;
18747 00003820 9403                   M           MOV.W   #(BIT2),R4              ;
18748 00003822 204B                   M           OR      R4,R0           ;
18749 00003824 2101                   M           MOV.W   R0,@R1          ;
18750                             227 I1          M_BRA   EP_SENCER_CK900                                                 ;
18751 00003826 A12D                   M           BRA     EP_SENCER_CK900
18752 00003828 0009                   M           NOP
18753                             228 I1  
18754                                 I1  ***** BEGIN-POOL *****
18755 0000382A 0004                   I1  DATA FOR SOURCE-LINE 226
18756 0000382C 00000000               I1  DATA FOR SOURCE-LINE 221
18757 00003830 00000000               I1  DATA FOR SOURCE-LINE 226
18758                                 I1  ***** END-POOL *****
18759 00003834                    229 I1  EP_STEP_USE_RY_COM_190                                                          ;
18760                             230 I1          M_BRA   EP_SENCER_CKEND                                                 ;
18761 00003834 A139                   M           BRA     EP_SENCER_CKEND
18762 00003836 0009                   M           NOP
18763                             231 I1  
18764                             232 I1  
18765                             233 I1  
18766                             234 I1  ;       ---------------------------------------------------
18767                             235 I1  ;       ---     遅延ﾀｲﾏ,ﾊﾞﾙﾌﾞON,異常ﾀｲﾏｾｯﾄ[STEP2]       ---
18768                             236 I1  ;       ---------------------------------------------------
18769 00003838                    237 I1  EP_STEP_VALVON_DATSET
18770                             238 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
18771 00003838 D106               239 I1          MOV.L   #(_PAR_EP3BRKON_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1         ;ﾌﾞﾚｰｷON出
                                          力遅延
18772 0000383A 6211               240 I1          MOV.W   @R1,R2                                                          ;
18773 0000383C D106               241 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
18774 0000383E 2121               242 I1          MOV.W   R2,@R1                                                          ;
18775                             243 I1  
18776                             244 I1  ;       ---------ﾀｲﾏｾｯﾄ[異常]-----------------
18777 00003840 D106               245 I1          MOV.L   #(_PAR_EP4EPINOF_ERTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1 ;ﾊﾞﾙﾌﾞON時間兼ﾀｲﾑｱ
                                          ｳﾄ時間
18778 00003842 6211               246 I1          MOV.W   @R1,R2                                                  ;
18779 00003844 D106               247 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                      ;
18780 00003846 2121               248 I1          MOV.W   R2,@R1                                                  ;
18781                             249 I1          STEP_NEXT MEM=_EPCHK_STEP                                       ;
18782 00003848 D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
18783 0000384A 6011                   M           MOV.W   @R1,R0          ;
18784 0000384C 7001                   M           ADD     #1,R0           ;
18785 0000384E 2101                   M           MOV.W   R0,@R1          ;
18786                             250 I1          M_BRA   EP_SENCER_CKEND                                         ;
18787 00003850 A12B                   M           BRA     EP_SENCER_CKEND
18788 00003852 0009                   M           NOP
18789                             251 I1  
18790                             252 I1  
18791                             253 I1  ;       ---------------------------------------------------
18792                             254 I1  ;       ---     ﾊﾞﾙﾌﾞONのｱﾝｻEP待ち，異常CHK[STEP3]      ---
18793                             255 I1  ;       ---------------------------------------------------
18794                             256 I1  ;       ﾀｲﾑｱｯﾌﾟ後に入力を確認し、入力が"L"なら遷移,"H"なら異常
18795                             257 I1  ;       ----------- A:ｽﾃｯﾌﾟ,B:ｽﾃｯﾌﾟ----------
18796                                 I1  ***** BEGIN-POOL *****
18797 00003854 00000000               I1  DATA FOR SOURCE-LINE 239
18798 00003858 00000000               I1  DATA FOR SOURCE-LINE 241
18799 0000385C 00000000               I1  DATA FOR SOURCE-LINE 245
18800 00003860 00000000               I1  DATA FOR SOURCE-LINE 247
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   232
PROGRAM NAME =

18801 00003864 00000000               I1  DATA FOR SOURCE-LINE 249
18802                                 I1  ***** END-POOL *****
18803 00003868                    258 I1  EP_STEP_VALVON_COM
18804 00003868 E001               259 I1          MOV.B   #(BIT0),R0                      ;ﾌﾞﾚｰｷ解除
18805 0000386A D10A               260 I1          MOV.L   #_EPCHK_FORCE_VONCMD,R1         ;
18806 0000386C 2101               261 I1          MOV.W   R0,@R1                          ;
18807                             262 I1  
18808                             263 I1  
18809 0000386E D10A               264 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
18810 00003870 6011               265 I1          MOV.W   @R1,R0                                                          ;
18811 00003872 2008               266 I1          TST     R0,R0                                                           ;
18812                             267 I1          TST_BIT_ON EP_STEP_VALV_COM_190                                 ;
18813 00003874 8B20                   M           BF      EP_STEP_VALV_COM_190
18814                             268 I1  
18815                             269 I1  ;       ﾀｲﾑｱｯﾌﾟ後にﾁｪｯｸ
18816 00003876 200A               270 I1          XOR     R0,R0                           ;
18817 00003878 D106               271 I1          MOV.L   #_EPCHK_FORCE_VONCMD,R1         ;
18818 0000387A 2101               272 I1          MOV.W   R0,@R1                          ;
18819                             273 I1  
18820                             274 I1          FAR_JSR #_EPSEN_IN_CHK,R0                                               ;ANS R0=0(
                                          OFF) R0=BIT15(ON)
18821 0000387C D007                   M           MOV.L   #_EPSEN_IN_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18822 0000387E 400B                   M           JSR     @R0                     ;
18823 00003880 0009                   M           NOP                                     ;
18824                             275 I1  
18825 00003882 2008               276 I1          TST     R0,R0                                                           ;
18826                             277 I1          TST_BIT_ON EP_STEP_VALV_COM_150                                 ;
18827 00003884 8B0E                   M           BF      EP_STEP_VALV_COM_150
18828                             278 I1  
18829                             279 I1  ;       ------- OFF発見 ------
18830                             280 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
18831 00003886 D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
18832 00003888 6011                   M           MOV.W   @R1,R0          ;
18833 0000388A 7001                   M           ADD     #1,R0           ;
18834 0000388C 2101                   M           MOV.W   R0,@R1          ;
18835                             281 I1          M_BRA   EP_SENCER_CKEND                                                 ;
18836 0000388E A10C                   M           BRA     EP_SENCER_CKEND
18837 00003890 0009                   M           NOP
18838                             282 I1  
18839                                 I1  ***** BEGIN-POOL *****
18840 00003892 0000                   I1  ALIGNMENT CODE
18841 00003894 00000000               I1  DATA FOR SOURCE-LINE 260,271
18842 00003898 00000000               I1  DATA FOR SOURCE-LINE 264
18843 0000389C 00000000               I1  DATA FOR SOURCE-LINE 274
18844 000038A0 00000000               I1  DATA FOR SOURCE-LINE 280
18845                                 I1  ***** END-POOL *****
18846 000038A4                    283 I1  EP_STEP_VALV_COM_150                                                            ;
18847                             284 I1  
18848                             285 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT3),WKRG1=R1,WKRG2=R4      ;EPｾﾝｻ失敗
18849 000038A4 D103                   M           MOV.L   #_EPCHK_STS,R1          ;
18850 000038A6 6011                   M           MOV.W   @R1,R0          ;
18851 000038A8 9403                   M           MOV.W   #(BIT3),R4              ;
18852 000038AA 204B                   M           OR      R4,R0           ;
18853 000038AC 2101                   M           MOV.W   R0,@R1          ;
18854                             286 I1          M_BRA   EP_SENCER_CK900                                                 ;
18855 000038AE A0E9                   M           BRA     EP_SENCER_CK900
18856 000038B0 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   233
PROGRAM NAME =

18857                             287 I1  
18858                                 I1  ***** BEGIN-POOL *****
18859 000038B2 0008                   I1  DATA FOR SOURCE-LINE 285
18860 000038B4 00000000               I1  DATA FOR SOURCE-LINE 285
18861                                 I1  ***** END-POOL *****
18862 000038B8                    288 I1  EP_STEP_VALV_COM_190
18863                             289 I1          M_BRA   EP_SENCER_CKEND                                                 ;
18864 000038B8 A0F7                   M           BRA     EP_SENCER_CKEND
18865 000038BA 0009                   M           NOP
18866                             290 I1  
18867                             291 I1  
18868                             292 I1  
18869                             293 I1  ;       ---------------------------------------------------
18870                             294 I1  ;       ---     EP確認完了[STEP4]                       ---
18871                             295 I1  ;       ---------------------------------------------------
18872 000038BC                    296 I1  EP_STEP_EPSENSIG_A:
18873                             297 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT7),WKRG1=R1,WKRG2=R4      ;
18874 000038BC D107                   M           MOV.L   #_EPCHK_STS,R1          ;
18875 000038BE 6011                   M           MOV.W   @R1,R0          ;
18876 000038C0 940A                   M           MOV.W   #(BIT7),R4              ;
18877 000038C2 204B                   M           OR      R4,R0           ;
18878 000038C4 2101                   M           MOV.W   R0,@R1          ;
18879 000038C6 200A               298 I1          XOR     R0,R0                                                           ;
18880 000038C8 D105               299 I1          MOV.L   #_EPCHK_RETRY_CNT,R1                                            ;STEP5の前
                                          に行う
18881 000038CA 2101               300 I1          MOV.W   R0,@R1                                                          ;
18882                             301 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
18883 000038CC D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
18884 000038CE 6011                   M           MOV.W   @R1,R0          ;
18885 000038D0 7001                   M           ADD     #1,R0           ;
18886 000038D2 2101                   M           MOV.W   R0,@R1          ;
18887                             302 I1          M_BRA   EP_SENCER_CKEND                                                 ;
18888 000038D4 A0E9                   M           BRA     EP_SENCER_CKEND
18889 000038D6 0009                   M           NOP
18890                             303 I1  
18891                                 I1  ***** BEGIN-POOL *****
18892 000038D8 0080                   I1  DATA FOR SOURCE-LINE 297
18893 000038DA 0000                   I1  ALIGNMENT CODE
18894 000038DC 00000000               I1  DATA FOR SOURCE-LINE 297
18895 000038E0 00000000               I1  DATA FOR SOURCE-LINE 299
18896 000038E4 00000000               I1  DATA FOR SOURCE-LINE 301
18897                                 I1  ***** END-POOL *****
18898 000038E8                    304 I1  EP_STEP_EPSENSIG_B:
18899                             305 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT8),WKRG1=R1,WKRG2=R4      ;
18900 000038E8 D107                   M           MOV.L   #_EPCHK_STS,R1          ;
18901 000038EA 6011                   M           MOV.W   @R1,R0          ;
18902 000038EC 940A                   M           MOV.W   #(BIT8),R4              ;
18903 000038EE 204B                   M           OR      R4,R0           ;
18904 000038F0 2101                   M           MOV.W   R0,@R1          ;
18905 000038F2 200A               306 I1          XOR     R0,R0                                                           ;STEP5の前
                                          に行う
18906 000038F4 D105               307 I1          MOV.L   #_EPCHK_RETRY_CNT,R1                                            ;
18907 000038F6 2101               308 I1          MOV.W   R0,@R1                                                          ;
18908                             309 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
18909 000038F8 D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
18910 000038FA 6011                   M           MOV.W   @R1,R0          ;
18911 000038FC 7001                   M           ADD     #1,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   234
PROGRAM NAME =

18912 000038FE 2101                   M           MOV.W   R0,@R1          ;
18913                             310 I1          M_BRA   EP_SENCER_CKEND                                                 ;
18914 00003900 A0D3                   M           BRA     EP_SENCER_CKEND
18915 00003902 0009                   M           NOP
18916                             311 I1  
18917                             312 I1  
18918                             313 I1  ;       ---------------------------------------------------
18919                             314 I1  ;       ---     EPﾘｾｯﾄON遅延,ﾀｲﾑｱｳﾄ設定[STEP5]          ---
18920                             315 I1  ;       ---------------------------------------------------
18921                                 I1  ***** BEGIN-POOL *****
18922 00003904 0100                   I1  DATA FOR SOURCE-LINE 305
18923 00003906 0000                   I1  ALIGNMENT CODE
18924 00003908 00000000               I1  DATA FOR SOURCE-LINE 305
18925 0000390C 00000000               I1  DATA FOR SOURCE-LINE 307
18926 00003910 00000000               I1  DATA FOR SOURCE-LINE 309
18927                                 I1  ***** END-POOL *****
18928 00003914                    316 I1  EP_STEP_RESET_DATSET1:
18929 00003914 D104               317 I1          MOV.L   #_EPCHK_RETRY_CNT,R1            ;
18930 00003916 6011               318 I1          MOV.W   @R1,R0                          ;
18931 00003918 2008               319 I1          TST     R0,R0                           ;
18932                             320 I1          TST_BIT_ON EP_STEP_RESET_100            ;ﾘﾄﾗｲ
18933 0000391A 8B0B                   M           BF      EP_STEP_RESET_100
18934                             321 I1  
18935                             322 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
18936 0000391C D103               323 I1          MOV.L   #(_PAR_EP5RSTON_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1         ;ﾘｾｯﾄON遅
                                          延時間
18937 0000391E 6211               324 I1          MOV.W   @R1,R2                                                          ;(ﾘｾｯﾄOFF
                                          時間)
18938 00003920 D103               325 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
18939 00003922 2121               326 I1          MOV.W   R2,@R1                                                          ;
18940                             327 I1          M_BRA   EP_STEP_RESET_DATSET_COM                                        ;
18941 00003924 A00A                   M           BRA     EP_STEP_RESET_DATSET_COM
18942 00003926 0009                   M           NOP
18943                             328 I1  
18944                                 I1  ***** BEGIN-POOL *****
18945 00003928 00000000               I1  DATA FOR SOURCE-LINE 317
18946 0000392C 00000000               I1  DATA FOR SOURCE-LINE 323
18947 00003930 00000000               I1  DATA FOR SOURCE-LINE 325
18948                                 I1  ***** END-POOL *****
18949 00003934                    329 I1  EP_STEP_RESET_100:
18950                             330 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
18951 00003934 D106               331 I1          MOV.L   #(_PAR_EP6RSTOF_INTTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1         ;ﾘｾｯﾄON遅
                                          延時間(ｲﾝﾀｰﾊﾞﾙ時間)
18952 00003936 6211               332 I1          MOV.W   @R1,R2                                                          ;(ﾘｾｯﾄOFF
                                          時間)
18953 00003938 D106               333 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
18954 0000393A 2121               334 I1          MOV.W   R2,@R1                                                          ;
18955                             335 I1  
18956 0000393C                    336 I1  EP_STEP_RESET_DATSET_COM:
18957                             337 I1  
18958                             338 I1  ;       ---------ﾀｲﾏｾｯﾄ[異常]-----------------
18959 0000393C D106               339 I1          MOV.L   #(_PAR_EP6RSTON_JGTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1          ;ﾘｾｯﾄON時
                                          間兼ﾀｲﾑｱｳﾄ時間
18960 0000393E 6211               340 I1          MOV.W   @R1,R2                                                          ;
18961 00003940 D106               341 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
18962 00003942 2121               342 I1          MOV.W   R2,@R1                                                          ;
18963                             343 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   235
PROGRAM NAME =

18964 00003944 D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
18965 00003946 6011                   M           MOV.W   @R1,R0          ;
18966 00003948 7001                   M           ADD     #1,R0           ;
18967 0000394A 2101                   M           MOV.W   R0,@R1          ;
18968                             344 I1          M_BRA   EP_SENCER_CKEND                                                 ;
18969 0000394C A0AD                   M           BRA     EP_SENCER_CKEND
18970 0000394E 0009                   M           NOP
18971                             345 I1  
18972                             346 I1  
18973                             347 I1  
18974                             348 I1  
18975                             349 I1  ;       ---------------------------------------------------
18976                             350 I1  ;       ---     ﾘｾｯﾄONのｱﾝｻEP待ち，異常CHK[STEP6]       ---
18977                             351 I1  ;       ---------------------------------------------------
18978                             352 I1  ;       ﾀｲﾑｱｯﾌﾟ後に入力を確認し、入力が"Ｈ"なら遷移,"Ｌ"なら異常　ﾘﾄﾗｲ
18979                             353 I1  ;       ----------- A:ｽﾃｯﾌﾟ,B:ｽﾃｯﾌﾟ----------
18980                                 I1  ***** BEGIN-POOL *****
18981 00003950 00000000               I1  DATA FOR SOURCE-LINE 331
18982 00003954 00000000               I1  DATA FOR SOURCE-LINE 333
18983 00003958 00000000               I1  DATA FOR SOURCE-LINE 339
18984 0000395C 00000000               I1  DATA FOR SOURCE-LINE 341
18985 00003960 00000000               I1  DATA FOR SOURCE-LINE 343
18986                                 I1  ***** END-POOL *****
18987 00003964                    354 I1  EP_STEP_RESETON_COM
18988                             355 I1  
18989                             356 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT9),WKRG1=R1,WKRG2=R4      ;ﾘｾｯﾄｺﾏﾝﾄﾞ
18990 00003964 D10D                   M           MOV.L   #_EPCHK_STS,R1          ;
18991 00003966 6011                   M           MOV.W   @R1,R0          ;
18992 00003968 9415                   M           MOV.W   #(BIT9),R4              ;
18993 0000396A 204B                   M           OR      R4,R0           ;
18994 0000396C 2101                   M           MOV.W   R0,@R1          ;
18995                             357 I1  
18996 0000396E D10C               358 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
18997 00003970 6011               359 I1          MOV.W   @R1,R0                                                          ;
18998 00003972 2008               360 I1          TST     R0,R0                                                           ;
18999                             361 I1          TST_BIT_ON EP_STEP_RESET_COM_190                                        ;
19000 00003974 8B38                   M           BF      EP_STEP_RESET_COM_190
19001                             362 I1  
19002                             363 I1  ;       ------- ﾀｲﾑｱｯﾌﾟ後にﾁｪｯｸ--------
19003                             364 I1          MEM1_BIT0_F_ADCLR MEM=_EPCHK_STS,LG=W,BIT=~(BIT9),WKRG1=R1,WKRG2=R4     ;ﾘｾｯﾄOFF
19004 00003976 D109                   M           MOV.L   #_EPCHK_STS,R1          ;
19005 00003978 6011                   M           MOV.W   @R1,R0          ;
19006 0000397A 940D                   M           MOV.W   #LWORD ~(BIT9),R4       ;
19007 0000397C 2049                   M           AND     R4,R0           ;
19008 0000397E 2101                   M           MOV.W   R0,@R1          ;
19009                             365 I1  
19010                             366 I1  
19011                             367 I1          FAR_JSR #_EPSEN_IN_CHK,R0                                               ;ANS R0=0(
                                          OFF) R0=BIT15(ON)
19012 00003980 D008                   M           MOV.L   #_EPSEN_IN_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19013 00003982 400B                   M           JSR     @R0                     ;
19014 00003984 0009                   M           NOP                                     ;
19015                             368 I1  
19016 00003986 2008               369 I1          TST     R0,R0                                                           ;
19017                             370 I1          TST_BIT_OF EP_STEP_RESET_COM_150                                        ;
19018 00003988 8910                   M           BT      EP_STEP_RESET_COM_150
19019                             371 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   236
PROGRAM NAME =

19020                             372 I1  ;       ------- ON発見 ------
19021                             373 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19022 0000398A D107                   M           MOV.L   #_EPCHK_STEP,R1 ;
19023 0000398C 6011                   M           MOV.W   @R1,R0          ;
19024 0000398E 7001                   M           ADD     #1,R0           ;
19025 00003990 2101                   M           MOV.W   R0,@R1          ;
19026                             374 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19027 00003992 A08A                   M           BRA     EP_SENCER_CKEND
19028 00003994 0009                   M           NOP
19029                             375 I1  
19030                                 I1  ***** BEGIN-POOL *****
19031 00003996 0200                   I1  DATA FOR SOURCE-LINE 356
19032 00003998 FDFF                   I1  DATA FOR SOURCE-LINE 364
19033 0000399A 0000                   I1  ALIGNMENT CODE
19034 0000399C 00000000               I1  DATA FOR SOURCE-LINE 356,364
19035 000039A0 00000000               I1  DATA FOR SOURCE-LINE 358
19036 000039A4 00000000               I1  DATA FOR SOURCE-LINE 367
19037 000039A8 00000000               I1  DATA FOR SOURCE-LINE 373
19038                                 I1  ***** END-POOL *****
19039 000039AC                    376 I1  EP_STEP_RESET_COM_150                                                           ;
19040 000039AC D106               377 I1          MOV.L   #(_PAR_EP6RST_RETRY-_CB_SYS_PARAM000+_W_PARAM_TOP),R1           ;ﾘｾｯﾄﾘﾄﾗｲ
                                          回数
19041 000039AE 6211               378 I1          MOV.W   @R1,R2                                                          ;0:ﾘﾄﾗｲし
                                          ない
19042 000039B0 D506               379 I1          MOV.L   #_EPCHK_RETRY_CNT,R5                                            ;
19043 000039B2 6051               380 I1          MOV.W   @R5,R0                                                          ;
19044 000039B4 3022               381 I1          CMP/HS  R2,R0                                                           ;0(SV)=<0(
                                          PV)
19045 000039B6 890D               382 I1          BT      EP_STEP_RESET_COM_170                                           ;ﾘﾄﾗｲｵｰﾊﾞ
19046 000039B8 7001               383 I1          ADD     #1,R0                                                           ;
19047 000039BA 2501               384 I1          MOV.W   R0,@R5                                                          ;
19048                             385 I1  
19049 000039BC D104               386 I1          MOV.L   #_EPCHK_STEP,R1                         ;1個前からやり直す
19050 000039BE 6011               387 I1          MOV.W   @R1,R0                                  ;
19051 000039C0 70FF               388 I1          ADD     #-1,R0                                  ;
19052 000039C2 2101               389 I1          MOV.W   R0,@R1                                  ;
19053                             390 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19054 000039C4 A071                   M           BRA     EP_SENCER_CKEND
19055 000039C6 0009                   M           NOP
19056                             391 I1  
19057                             392 I1  
19058                                 I1  ***** BEGIN-POOL *****
19059 000039C8 00000000               I1  DATA FOR SOURCE-LINE 377
19060 000039CC 00000000               I1  DATA FOR SOURCE-LINE 379
19061 000039D0 00000000               I1  DATA FOR SOURCE-LINE 386
19062                                 I1  ***** END-POOL *****
19063 000039D4                    393 I1  EP_STEP_RESET_COM_170                                                           ;終了処理
19064                             394 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R4      ;EPｾﾝｻﾘｾｯﾄ
                                          失敗
19065 000039D4 D103                   M           MOV.L   #_EPCHK_STS,R1          ;
19066 000039D6 6011                   M           MOV.W   @R1,R0          ;
19067 000039D8 9403                   M           MOV.W   #(BIT4),R4              ;
19068 000039DA 204B                   M           OR      R4,R0           ;
19069 000039DC 2101                   M           MOV.W   R0,@R1          ;
19070                             395 I1          M_BRA   EP_SENCER_CK900                                                 ;
19071 000039DE A051                   M           BRA     EP_SENCER_CK900
19072 000039E0 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   237
PROGRAM NAME =

19073                             396 I1  
19074                                 I1  ***** BEGIN-POOL *****
19075 000039E2 0010                   I1  DATA FOR SOURCE-LINE 394
19076 000039E4 00000000               I1  DATA FOR SOURCE-LINE 394
19077                                 I1  ***** END-POOL *****
19078 000039E8                    397 I1  EP_STEP_RESET_COM_190
19079                             398 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19080 000039E8 A05F                   M           BRA     EP_SENCER_CKEND
19081 000039EA 0009                   M           NOP
19082                             399 I1  
19083                             400 I1  
19084                             401 I1  
19085                             402 I1  ;       ---------------------------------------------------
19086                             403 I1  ;       ---     CPUA終了,CPUB開始遅延+ﾀｲﾑｱｳﾄ設定[STEP7] ---
19087                             404 I1  ;       ---------------------------------------------------
19088 000039EC                    405 I1  EP_STEP_ENDSIG_A
19089                             406 I1          MEM1_BIT0_F_ADCLR MEM=_EPCHK_STS,LG=W,BIT=~(BIT9|BIT5),WKRG1=R1,WKRG2=R4        ;ﾘ
                                          ｾｯﾄOFF
19090 000039EC D10B                   M           MOV.L   #_EPCHK_STS,R1          ;
19091 000039EE 6011                   M           MOV.W   @R1,R0          ;
19092 000039F0 9411                   M           MOV.W   #LWORD ~(BIT9|BIT5),R4  ;
19093 000039F2 2049                   M           AND     R4,R0           ;
19094 000039F4 2101                   M           MOV.W   R0,@R1          ;
19095                             407 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT10),WKRG1=R1,WKRG2=R4             ;A
                                          完了
19096 000039F6 D109                   M           MOV.L   #_EPCHK_STS,R1          ;
19097 000039F8 6011                   M           MOV.W   @R1,R0          ;
19098 000039FA 940D                   M           MOV.W   #(BIT10),R4             ;
19099 000039FC 204B                   M           OR      R4,R0           ;
19100 000039FE 2101                   M           MOV.W   R0,@R1          ;
19101                             408 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT1),WKRG1=R1,WKRG2=R4              ;B
                                          開始
19102 00003A00 D106                   M           MOV.L   #_EPCHK_STS,R1          ;
19103 00003A02 6011                   M           MOV.W   @R1,R0          ;
19104 00003A04 9409                   M           MOV.W   #(BIT1),R4              ;
19105 00003A06 204B                   M           OR      R4,R0           ;
19106 00003A08 2101                   M           MOV.W   R0,@R1          ;
19107                             409 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19108 00003A0A D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
19109 00003A0C 6011                   M           MOV.W   @R1,R0          ;
19110 00003A0E 7001                   M           ADD     #1,R0           ;
19111 00003A10 2101                   M           MOV.W   R0,@R1          ;
19112                             410 I1          M_BRA   EP_SENCER_CKEND                                                         ;
19113 00003A12 A04A                   M           BRA     EP_SENCER_CKEND
19114 00003A14 0009                   M           NOP
19115                             411 I1  
19116                                 I1  ***** BEGIN-POOL *****
19117 00003A16 FDDF                   I1  DATA FOR SOURCE-LINE 406
19118 00003A18 0400                   I1  DATA FOR SOURCE-LINE 407
19119 00003A1A 0002                   I1  DATA FOR SOURCE-LINE 408
19120 00003A1C 00000000               I1  DATA FOR SOURCE-LINE 406,407,408
19121 00003A20 00000000               I1  DATA FOR SOURCE-LINE 409
19122                                 I1  ***** END-POOL *****
19123 00003A24                    412 I1  EP_STEP_ENDSIG_B
19124                             413 I1          MEM1_BIT0_F_ADCLR MEM=_EPCHK_STS,LG=W,BIT=~(BIT9|BIT6),WKRG1=R1,WKRG2=R4        ;ﾘ
                                          ｾｯﾄOFF
19125 00003A24 D108                   M           MOV.L   #_EPCHK_STS,R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   238
PROGRAM NAME =

19126 00003A26 6011                   M           MOV.W   @R1,R0          ;
19127 00003A28 940C                   M           MOV.W   #LWORD ~(BIT9|BIT6),R4  ;
19128 00003A2A 2049                   M           AND     R4,R0           ;
19129 00003A2C 2101                   M           MOV.W   R0,@R1          ;
19130                             414 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT11),WKRG1=R1,WKRG2=R4     ;
19131 00003A2E D106                   M           MOV.L   #_EPCHK_STS,R1          ;
19132 00003A30 6011                   M           MOV.W   @R1,R0          ;
19133 00003A32 9408                   M           MOV.W   #(BIT11),R4             ;
19134 00003A34 204B                   M           OR      R4,R0           ;
19135 00003A36 2101                   M           MOV.W   R0,@R1          ;
19136                             415 I1  
19137                             416 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19138 00003A38 D104               417 I1          MOV.L   #(_PAR_EP7END_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1           ;終了遅延
19139 00003A3A 6211               418 I1          MOV.W   @R1,R2                                                          ;
19140 00003A3C D104               419 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
19141 00003A3E 2121               420 I1          MOV.W   R2,@R1                                                          ;
19142                             421 I1          M_BRA   EP_STEP_RESET_DATSET_COM                                        ;
19143 00003A40 AF7C                   M           BRA     EP_STEP_RESET_DATSET_COM
19144 00003A42 0009                   M           NOP
19145                             422 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19146                                 M   ***** BEGIN-POOL *****
19147 00003A44 FDBF                   M   DATA FOR SOURCE-LINE 413
19148 00003A46 0800                   M   DATA FOR SOURCE-LINE 414
19149 00003A48 00000000               M   DATA FOR SOURCE-LINE 413,414
19150 00003A4C 00000000               M   DATA FOR SOURCE-LINE 417
19151 00003A50 00000000               M   DATA FOR SOURCE-LINE 419
19152                                 M   ***** END-POOL *****
19153 00003A54 D102                   M           MOV.L   #_EPCHK_STEP,R1 ;
19154 00003A56 6011                   M           MOV.W   @R1,R0          ;
19155 00003A58 7001                   M           ADD     #1,R0           ;
19156 00003A5A 2101                   M           MOV.W   R0,@R1          ;
19157                             423 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19158 00003A5C A025                   M           BRA     EP_SENCER_CKEND
19159 00003A5E 0009                   M           NOP
19160                             424 I1  
19161                             425 I1  
19162                                 I1  ***** BEGIN-POOL *****
19163 00003A60 00000000               I1  DATA FOR SOURCE-LINE 422
19164                                 I1  ***** END-POOL *****
19165 00003A64                    426 I1  EP_STEP_ENDSIG
19166                             427 I1          M_BRA   EP_SENCER_CK800                                                 ;
19167 00003A64 A000                   M           BRA     EP_SENCER_CK800
19168 00003A66 0009                   M           NOP
19169                             428 I1  
19170                             429 I1  
19171 00003A68                    430 I1  EP_STEP_XX:
19172                             431 I1  
19173                             432 I1  ;       -----------正常終了処理--------
19174 00003A68                    433 I1  EP_SENCER_CK800:
19175                             434 I1  
19176 00003A68 9006               435 I1          MOV.W   #BIT7,R0                        ;
19177 00003A6A D104               436 I1          MOV.L   #_EPCHK_FLG,R1                  ;
19178 00003A6C 2101               437 I1          MOV.W   R0,@R1                          ;
19179                             438 I1  
19180 00003A6E 9004               439 I1          MOV.W   #BIT15,R0
19181 00003A70 D103               440 I1          MOV.L   #_EPCHK_STS,R1                  ;BIT15:正常完了
19182 00003A72 2101               441 I1          MOV.W   R0,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   239
PROGRAM NAME =

19183                             442 I1  
19184                             443 I1          M_BRA   EP_SENCER_CK950                 ;
19185 00003A74 A014                   M           BRA     EP_SENCER_CK950
19186 00003A76 0009                   M           NOP
19187                             444 I1  
19188                             445 I1  
19189                             446 I1  ;       -----------異常終了処理--------
19190                                 I1  ***** BEGIN-POOL *****
19191 00003A78 0080                   I1  DATA FOR SOURCE-LINE 435
19192 00003A7A 8000                   I1  DATA FOR SOURCE-LINE 439
19193 00003A7C 00000000               I1  DATA FOR SOURCE-LINE 436
19194 00003A80 00000000               I1  DATA FOR SOURCE-LINE 440
19195                                 I1  ***** END-POOL *****
19196 00003A84                    447 I1  EP_SENCER_CK900:
19197                             448 I1  
19198 00003A84 9418               449 I1          MOV.W   #H'239E,R4              ;2010-12-21
19199                             450 I1          FAR_JSR #_EMG_STOP,R0                   ;
19200 00003A86 D00E                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19201 00003A88 400B                   M           JSR     @R0                     ;
19202 00003A8A 0009                   M           NOP                                     ;
19203                             451 I1  
19204 00003A8C 200A               452 I1          XOR     R0,R0                                   ;
19205 00003A8E D10D               453 I1          MOV.L   #_EPCHK_FLG,R1                          ;
19206 00003A90 2101               454 I1          MOV.W   R0,@R1                                  ;
19207                             455 I1  
19208 00003A92 D10D               456 I1          MOV.L   #_EPCHK_STS,R1                          ;
19209 00003A94 6011               457 I1          MOV.W   @R1,R0                                  ;
19210 00003A96 9410               458 I1          MOV.W   #(BIT4|BIT3|BIT2),R4                    ;異常要因以外をｸﾘｱ
19211 00003A98 2049               459 I1          AND     R4,R0                                   ;
19212                             460 I1  
19213 00003A9A 940F               461 I1          MOV.W   #BIT14,R4                               ;BIT14異常終了ｾｯﾄ
19214 00003A9C 204B               462 I1          OR      R4,R0                                   ;
19215 00003A9E 2101               463 I1          MOV.W   R0,@R1                                  ;
19216                             464 I1  
19217                             465 I1  ;       -----------終了共通処理--------
19218 00003AA0                    466 I1  EP_SENCER_CK950:
19219 00003AA0 200A               467 I1          XOR     R0,R0                                   ;
19220 00003AA2 D10A               468 I1          MOV.L   #_EPCHK_COM,R1                          ;
19221 00003AA4 2101               469 I1          MOV.W   R0,@R1                                  ;
19222 00003AA6 D10A               470 I1          MOV.L   #_EPCHK_FORCE_VONCMD,R1                 ;強制ﾊﾞﾙﾌﾞON:OFF
19223 00003AA8 2101               471 I1          MOV.W   R0,@R1                                  ;
19224                             472 I1  
19225                             473 I1  
19226 00003AAA                    474 I1  EP_SENCER_CKEND
19227 00003AAA D107               475 I1          MOV.L   #_EPCHK_STS,R1                  ;
19228 00003AAC 6211               476 I1          MOV.W   @R1,R2                          ;
19229 00003AAE D109               477 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB239,R1     ;239
19230 00003AB0 2121               478 I1          MOV.W   R2,@R1                          ;
19231                             479 I1  
19232 00003AB2                    480 I1  EP_SENCER_CKEXT
19233                             481 I1          SUB_END
19234                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19235 00003AB2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19236                             482 I1          M_RTS
19237 00003AB4 000B                   M           RTS                             ;RTSの後ろの
19238 00003AB6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19239                             483 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   240
PROGRAM NAME =

19240                             484 I1  
19241                                 I1  ***** BEGIN-POOL *****
19242 00003AB8 239E                   I1  DATA FOR SOURCE-LINE 449
19243 00003ABA 001C                   I1  DATA FOR SOURCE-LINE 458
19244 00003ABC 4000                   I1  DATA FOR SOURCE-LINE 461
19245 00003ABE 0000                   I1  ALIGNMENT CODE
19246 00003AC0 00000000               I1  DATA FOR SOURCE-LINE 450
19247 00003AC4 00000000               I1  DATA FOR SOURCE-LINE 453
19248 00003AC8 00000000               I1  DATA FOR SOURCE-LINE 456,475
19249 00003ACC 00000000               I1  DATA FOR SOURCE-LINE 468
19250 00003AD0 00000000               I1  DATA FOR SOURCE-LINE 470
19251 00003AD4 00000000               I1  DATA FOR SOURCE-LINE 477
19252                                 I1  ***** END-POOL *****
19253 00003AD8                    485 I1  _EP_SENCHK_STOPCONF1:
19254 00003AD8                    486 I1  _EP_SENCHK_STOPCONF2:
19255                             487 I1          SUB_START
19256 00003AD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
19257                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19258                             488 I1  
19259 00003ADA D104               489 I1          MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
19260 00003ADC 6011               490 I1          MOV.W   @R1,R0                  ;
19261 00003ADE D104               491 I1          MOV.L   #_exq_err_flg,R1        ;//異常ﾗｯﾁ
19262 00003AE0 6211               492 I1          MOV.W   @R1,R2                  ;
19263 00003AE2 202B               493 I1          OR      R2,R0                   ;
19264                             494 I1  
19265                             495 I1          SUB_END
19266                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19267 00003AE4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19268                             496 I1          M_RTS
19269 00003AE6 000B                   M           RTS                             ;RTSの後ろの
19270 00003AE8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19271                             497 I1  
19272                             498 I1  
19273                             499 I1  ;       ANS R0=0(OFF) R0=BIT14(ON)
19274                                 I1  ***** BEGIN-POOL *****
19275 00003AEA 0000                   I1  ALIGNMENT CODE
19276 00003AEC 00000000               I1  DATA FOR SOURCE-LINE 489
19277 00003AF0 00000000               I1  DATA FOR SOURCE-LINE 491
19278                                 I1  ***** END-POOL *****
19279 00003AF4                    500 I1  _VFRY_IN_CHK:
19280                             501 I1          SUB_START
19281 00003AF4 4F22                   M           STS.L   PR,@-R15                ;[必要]
19282                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19283 00003AF6 9405               502 I1          MOV.W   #BIT14,R4                       ;
19284 00003AF8 D103               503 I1          MOV.L   #_CB_SEQ_CB_COM349,R1           ;
19285 00003AFA 6011               504 I1          MOV.W   @R1,R0                          ;
19286 00003AFC 2049               505 I1          AND     R4,R0                           ;0orBIT14
19287                             506 I1  
19288                             507 I1          SUB_END
19289                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19290 00003AFE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19291                             508 I1          M_RTS
19292 00003B00 000B                   M           RTS                             ;RTSの後ろの
19293 00003B02 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19294                             509 I1  
19295                             510 I1  
19296                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   241
PROGRAM NAME =

19297 00003B04 4000                   I1  DATA FOR SOURCE-LINE 502
19298 00003B06 0000                   I1  ALIGNMENT CODE
19299 00003B08 00000000               I1  DATA FOR SOURCE-LINE 503
19300                                 I1  ***** END-POOL *****
19301 00003B0C                    511 I1  _EPSEN_IN_CHK
19302                             512 I1          SUB_START
19303 00003B0C 4F22                   M           STS.L   PR,@-R15                ;[必要]
19304                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19305 00003B0E 9405               513 I1          MOV.W   #BIT15,R4                       ;
19306 00003B10 D103               514 I1          MOV.L   #_CB_SEQ_CB_COM349,R1           ;
19307 00003B12 6011               515 I1          MOV.W   @R1,R0                          ;
19308 00003B14 2049               516 I1          AND     R4,R0                           ;0orBIT15
19309                             517 I1  
19310                             518 I1          SUB_END
19311                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19312 00003B16 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19313                             519 I1          M_RTS
19314 00003B18 000B                   M           RTS                             ;RTSの後ろの
19315 00003B1A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19316                             520 I1  
19317                             521 I1  
19318                                 I1  ***** BEGIN-POOL *****
19319 00003B1C 8000                   I1  DATA FOR SOURCE-LINE 513
19320 00003B1E 0000                   I1  ALIGNMENT CODE
19321 00003B20 00000000               I1  DATA FOR SOURCE-LINE 514
19322                                 I1  ***** END-POOL *****
19323 00003B24                    522 I1  _EPSEN_CLR
19324                             523 I1          SUB_START
19325 00003B24 4F22                   M           STS.L   PR,@-R15                ;[必要]
19326                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19327                             524 I1  
19328 00003B26 9408               525 I1          MOV.W   #BIT15,R4
19329 00003B28 D104               526 I1          MOV.L   #_EPCHK_STS,R1                  ;
19330 00003B2A 6011               527 I1          MOV.W   @R1,R0
19331 00003B2C 2049               528 I1          AND     R4,R0
19332 00003B2E 2101               529 I1          MOV.W   R0,@R1                          ;
19333 00003B30 D103               530 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB239,R1     ;239
19334 00003B32 2101               531 I1          MOV.W   R0,@R1                          ;
19335                             532 I1  
19336                             533 I1          SUB_END
19337                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19338 00003B34 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19339                             534 I1          M_RTS
19340 00003B36 000B                   M           RTS                             ;RTSの後ろの
19341 00003B38 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19342                             535 I1  
19343                            7659     
19344                            7660     
19345                            7661     
19346                                     ***** BEGIN-POOL *****
19347 00003B3A 8000                       DATA FOR SOURCE-LINE 525
19348 00003B3C 00000000                   DATA FOR SOURCE-LINE 526
19349 00003B40 00000000                   DATA FOR SOURCE-LINE 530
19350                                     ***** END-POOL *****
19351 00003B44                   7662             .ALIGN  4
19352                            7663     ;       *******************************************
19353                            7664     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   242
PROGRAM NAME =

19354                            7665     ;       ***                                     ***
19355                            7666     ;       ***                                     ***
19356                            7667     ;       ***     EXQ,遮光による行程違いのRECOVER ***
19357                            7668     ;       ***             2016-04-16              ***
19358                            7669     ;       ***             2016-01-10              ***
19359                            7670     ;       ***                                     ***
19360                            7671     ;       ***                                     ***
19361                            7672     ;       ***                                     ***
19362                            7673     ;       *******************************************
19363                            7674     ;       リセット時に行う
19364                            7675     ;       ハンドシェイク中でEXQを実行した場合、強制中断するが、他のＣＰＵは
19365                            7676     ;       ハンドシェイク成立している可能性があり、次の工程に行っている
19366                            7677     ;       このリカバーはハンドシェイク時のみのリカバーとする
19367                            7678     
19368                            7679             .IMPORT _CPUA_SV_STEP                           ;
19369                            7680             .IMPORT _CPUB_SV_STEP                           ;
19370                            7681     
19371                            7682             .IMPORT _EMG_POS_FLG_PROC
19372                            7683     
19373                            7684     
19374 00003B44                   7685     _EXQ_PROC_STEP_RECOVER:
19375                            7686             SUB_START
19376 00003B44 4F22                   M           STS.L   PR,@-R15                ;[必要]
19377                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19378                            7687     
19379                            7688     
19380 00003B46 D117              7689             MOV.L   #_MODE_SEL,R1                           ;
19381 00003B48 6011              7690             MOV.W   @R1,R0                                  ;
19382                            7691     
19383 00003B4A 942A              7692             MOV.W   #_W1INC+_W1SGL+_W1CNT+_W1OPT,R4         ;最終形態
19384 00003B4C 2048              7693             TST     R4,R0                                   ;
19385                            7694             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1            ;
19386 00003B4E 896B                   M           BT      EXQ_PROC_STEPRECOVER_END1
19387                            7695     
19388 00003B50 D115              7696             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
19389 00003B52 6011              7697             MOV.W   @R1,R0                                  ;
19390                            7698     ;;;;    TST     #_DMATH_CNTROT,R0                       ;
19391                            7699     ;;;;    TST     #(_DMATH_DNDRIV),R0                     ;回転or往復
19392 00003B54 C805              7700             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
19393                            7701             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1    ;
19394 00003B56 8967                   M           BT      EXQ_PROC_STEPRECOVER_END1
19395                            7702     
19396 00003B58 D114              7703             MOV.L   #_EXQ_LT_GET_FLG,R1                     ;[]
19397 00003B5A 6011              7704             MOV.W   @R1,R0                                  ;
19398 00003B5C 2008              7705             TST     R0,R0                                   ;
19399                            7706             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1            ;
19400 00003B5E 8963                   M           BT      EXQ_PROC_STEPRECOVER_END1
19401                            7707     
19402                            7708     
19403                            7709     ;-----------------処理確認ﾃﾞﾊﾞｯｸ機能------------------------------
19404 00003B60 D113              7710             MOV.L   #_EXQ_LT_PROC_CNT1,R1
19405 00003B62 6011              7711             MOV.W   @R1,R0
19406 00003B64 7001              7712             ADD     #1,R0
19407 00003B66 2101              7713             MOV.W   R0,@R1
19408                            7714     
19409 00003B68 E401              7715             MOV.B   #BIT0,R4
19410 00003B6A D112              7716             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   243
PROGRAM NAME =

19411 00003B6C 6011              7717             MOV.W   @R1,R0
19412 00003B6E 204A              7718             XOR     R4,R0
19413 00003B70 2101              7719             MOV.W   R0,@R1
19414                            7720     
19415                            7721     
19416                            7722     ;---------------------------------------------------------
19417                            7723     ;切替条件
19418                            7724     ;       EXQ_LT_GET_FLGがON
19419                            7725     ;       (1)R1:自分が0(emg)でない
19420                            7726     ;       (1)R2:相手も0(emg)でない
19421                            7727     ;         (2-1)自分が最終行程の場合
19422                            7728     ;               (3-1)待機点範囲の場合
19423                            7729     ;                       相手CPUが0または1の場合　
19424                            7730     ;                       自分はEMG処理相当を行う(行程1からはじめる)
19425                            7731     ;               (3-2)待機点範囲でない場合:演算しない
19426                            7732     ;         (2-2)自分が最終行程でない場合
19427                            7733     ;               自分<相手であれば行程を入れ替える
19428                            7734     ;       EXQ_LT_HAND_STEP2_FLG=_CMPSTEP_STEP_END
19429                            7735     
19430                            7736             FAR_JSR #_RECOVER_WAIT_AREA_CHK,R0      ;
19431 00003B72 D011                   M           MOV.L   #_RECOVER_WAIT_AREA_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19432 00003B74 400B                   M           JSR     @R0                     ;
19433 00003B76 0009                   M           NOP                                     ;
19434 00003B78 6303              7737             MOV     R0,R3                           ;R3!=0:待機点
19435                            7738     
19436 00003B7A D510              7739             MOV.L   #_SV_POS_CTL_STEP,R5            ;
19437 00003B7C 6151              7740             MOV.W   @R5,R1                          ;自分
19438                            7741             .AIF    0 EQ    0
19439 00003B7E D610              7742 C           MOV.L   #_CPUB_SV_STEP,R6               ;CPUB->CPUA
19440                            7743             .AELSE
19441                            7744             MOV.L   #_CPUA_SV_STEP,R6               ;
19442                            7745             .AENDI
19443 00003B80 6261              7746             MOV.W   @R6,R2                          ;相手CPUB 2BYTE
19444 00003B82 2118              7747             TST     R1,R1                           ;CPUA(自分)
19445                            7748             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1    ;[次の工程は１行程から行う]
19446 00003B84 8950                   M           BT      EXQ_PROC_STEPRECOVER_END1
19447                            7749     
19448 00003B86 2338              7750             TST     R3,R3                           ;待機点？
19449                            7751             TST_BIT_OF EXQ_PROC_STEPRECOVER_200     ;NO!
19450 00003B88 8950                   M           BT      EXQ_PROC_STEPRECOVER_200
19451                            7752     
19452 00003B8A D40E              7753             MOV.L   #_CPOS_STEP_MAX,R4              ;
19453 00003B8C 6041              7754             MOV.W   @R4,R0                          ;
19454 00003B8E 7001              7755             ADD     #1,R0                           ;
19455 00003B90 3010              7756             CMP/EQ  R1,R0                           ;最終ｽﾃｯﾌﾟか?
19456 00003B92 8B49              7757             BF      EXQ_PROC_STEPRECOVER_END1       ;NO!(待機点だが最終ステップではない)
19457                            7758     
19458                            7759     ;       --------- 自分が最終ｽﾃｯﾌﾟ-------------
19459 00003B94 E001              7760             MOV.B   #1,R0                           ;
19460 00003B96 2228              7761             TST     R2,R2                           ;
19461                            7762             TST_BIT_OF EXQ_PROC_STEPRECOVER_100     ;(R2=0:次の工程は0から YES:EMG)
19462 00003B98 8916                   M           BT      EXQ_PROC_STEPRECOVER_100
19463                            7763     
19464 00003B9A 3200              7764             CMP/EQ  R0,R2                           ;
19465 00003B9C 8914              7765             BT      EXQ_PROC_STEPRECOVER_100        ;相手CPU=1です
19466                            7766             M_BRA   EXQ_PROC_STEPRECOVER_END1       ;
19467 00003B9E A043                   M           BRA     EXQ_PROC_STEPRECOVER_END1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   244
PROGRAM NAME =

19468 00003BA0 0009                   M           NOP
19469                            7767     
19470                            7768     ;
19471                            7769     ;最終行程で待機点内で他のCPUで行程=1がいる[次サイクル]
19472                            7770     ;
19473                            7771     ;待機点での方向変更処理が必要
19474                            7772     ;       「EMGと同じ処理」
19475                                     ***** BEGIN-POOL *****
19476 00003BA2 001E                       DATA FOR SOURCE-LINE 7692
19477 00003BA4 00000000                   DATA FOR SOURCE-LINE 7689
19478 00003BA8 00000000                   DATA FOR SOURCE-LINE 7696
19479 00003BAC 00000000                   DATA FOR SOURCE-LINE 7703
19480 00003BB0 00000000                   DATA FOR SOURCE-LINE 7710
19481 00003BB4 00000000                   DATA FOR SOURCE-LINE 7716
19482 00003BB8 00000000                   DATA FOR SOURCE-LINE 7736
19483 00003BBC 00000000                   DATA FOR SOURCE-LINE 7739
19484 00003BC0 00000000                   DATA FOR SOURCE-LINE 7742
19485 00003BC4 00000000                   DATA FOR SOURCE-LINE 7753
19486                                     ***** END-POOL *****
19487 00003BC8                   7773     EXQ_PROC_STEPRECOVER_100:
19488                            7774     
19489 00003BC8 D105              7775             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
19490 00003BCA 6011              7776             MOV.W   @R1,R0                          ;
19491 00003BCC C804              7777             TST     #_DMATH_DNDRIV,R0               ;
19492                            7778             TST_BIT_ON EXQ_PROC_STEPRECOVER_150     ;
19493 00003BCE 8B0D                   M           BF      EXQ_PROC_STEPRECOVER_150
19494                            7779     
19495                            7780             FAR_JSR #_EMG_POS_FLG_PROC,R0           ;振り子以外なら非常停止と同じ処理でいい
19496 00003BD0 D004                   M           MOV.L   #_EMG_POS_FLG_PROC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19497 00003BD2 400B                   M           JSR     @R0                     ;
19498 00003BD4 0009                   M           NOP                                     ;
19499                            7781             FAR_JSR #_EMG_CTL_FLG_PROC,R0           ;
19500 00003BD6 D004                   M           MOV.L   #_EMG_CTL_FLG_PROC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19501 00003BD8 400B                   M           JSR     @R0                     ;
19502 00003BDA 0009                   M           NOP                                     ;
19503                            7782             M_BRA   EXQ_PROC_STEPRECOVER_180        ;
19504 00003BDC A00C                   M           BRA     EXQ_PROC_STEPRECOVER_180
19505 00003BDE 0009                   M           NOP
19506                            7783     
19507                                     ***** BEGIN-POOL *****
19508 00003BE0 00000000                   DATA FOR SOURCE-LINE 7775
19509 00003BE4 00000000                   DATA FOR SOURCE-LINE 7780
19510 00003BE8 00000000                   DATA FOR SOURCE-LINE 7781
19511                                     ***** END-POOL *****
19512 00003BEC                   7784     EXQ_PROC_STEPRECOVER_150:
19513                            7785             FAR_JSR #_DNM_CYCLE_END,R0              ;
19514 00003BEC D009                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19515 00003BEE 400B                   M           JSR     @R0                     ;
19516 00003BF0 0009                   M           NOP                                     ;
19517                            7786             FAR_JSR #_CYC_END_POS_FLG_CLR,R0        ;
19518 00003BF2 D009                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19519 00003BF4 400B                   M           JSR     @R0                     ;
19520 00003BF6 0009                   M           NOP                                     ;
19521 00003BF8                   7787     EXQ_PROC_STEPRECOVER_180:
19522                            7788             FAR_JSR #_LOT_SIG_FLG_CLR,R0            ;通常の連続
19523 00003BF8 D008                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19524 00003BFA 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   245
PROGRAM NAME =

19525 00003BFC 0009                   M           NOP                                     ;
19526                            7789     
19527                            7790     ;       ---------- ﾃﾞﾊﾞｯｸ-------------
19528 00003BFE D108              7791             MOV.L   #_EXQ_LT_PROC_CNT2,R1           ;ﾃﾞﾊﾞｯｸ用
19529 00003C00 6011              7792             MOV.W   @R1,R0                          ;
19530 00003C02 7001              7793             ADD     #1,R0                           ;
19531 00003C04 2101              7794             MOV.W   R0,@R1                          ;
19532                            7795     
19533 00003C06 E402              7796             MOV.B   #BIT1,R4
19534 00003C08 D106              7797             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
19535 00003C0A 6011              7798             MOV.W   @R1,R0
19536 00003C0C 204A              7799             XOR     R4,R0
19537 00003C0E 2101              7800             MOV.W   R0,@R1
19538                            7801     ;       ------ﾃﾞﾊﾞｯｸ--------
19539                            7802             M_BRA   EXQ_PROC_STEPRECOVER_END        ;
19540 00003C10 A030                   M           BRA     EXQ_PROC_STEPRECOVER_END
19541 00003C12 0009                   M           NOP
19542                            7803     
19543                            7804     
19544                            7805     ;       ==============================================
19545                                     ***** BEGIN-POOL *****
19546 00003C14 00000000                   DATA FOR SOURCE-LINE 7785
19547 00003C18 00000000                   DATA FOR SOURCE-LINE 7786
19548 00003C1C 00000000                   DATA FOR SOURCE-LINE 7788
19549 00003C20 00000000                   DATA FOR SOURCE-LINE 7791
19550 00003C24 00000000                   DATA FOR SOURCE-LINE 7797
19551                                     ***** END-POOL *****
19552 00003C28                   7806     EXQ_PROC_STEPRECOVER_END1       ;
19553                            7807             M_BRA   EXQ_PROC_STEPRECOVER_END        ;
19554 00003C28 A024                   M           BRA     EXQ_PROC_STEPRECOVER_END
19555 00003C2A 0009                   M           NOP
19556                            7808     
19557                            7809     
19558                            7810     ;       ---------------------途中行程-----------------------
19559 00003C2C                   7811     EXQ_PROC_STEPRECOVER_200:                       ;NO!
19560                            7812     
19561 00003C2C D109              7813             MOV.L   #_EXQ_LT_CMPSTEP_STEP_END,R1    ;[HANDｼｪｲｸ中]
19562 00003C2E 6011              7814             MOV.W   @R1,R0                          ;
19563 00003C30 2008              7815             TST     R0,R0                           ;
19564                            7816             TST_BIT_OF EXQ_PROC_STEPRECOVER_END     ;
19565 00003C32 891F                   M           BT      EXQ_PROC_STEPRECOVER_END
19566                            7817     
19567 00003C34 6151              7818             MOV.W   @R5,R1                          ;CPUA(自分)
19568 00003C36 6261              7819             MOV.W   @R6,R2                          ;CPUB 2BYTE
19569                            7820     
19570                            7821     
19571 00003C38 3216              7822             CMP/HI  R1,R2                           ;R1(CPUA)<(R2 CPUB)
19572 00003C3A 8911              7823             BT      EXQ_PROC_STEPRECOVER_250        ;YES
19573                            7824     
19574                            7825     
19575 00003C3C D106              7826             MOV.L   #_EXQ_LT_PROC_CNT4,R1           ;ﾃﾞﾊﾞｯｸ用
19576 00003C3E 6011              7827             MOV.W   @R1,R0                          ;
19577 00003C40 7001              7828             ADD     #1,R0                           ;
19578 00003C42 2101              7829             MOV.W   R0,@R1                          ;
19579                            7830     
19580 00003C44 E408              7831             MOV.B   #BIT3,R4
19581 00003C46 D105              7832             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   246
PROGRAM NAME =

19582 00003C48 6011              7833             MOV.W   @R1,R0
19583 00003C4A 204A              7834             XOR     R4,R0
19584 00003C4C 2101              7835             MOV.W   R0,@R1
19585                            7836             M_BRA   EXQ_PROC_STEPRECOVER_END        ;
19586 00003C4E A011                   M           BRA     EXQ_PROC_STEPRECOVER_END
19587 00003C50 0009                   M           NOP
19588                            7837     
19589                            7838     
19590                            7839     ;       ------------- 行程変更実地
19591                                     ***** BEGIN-POOL *****
19592 00003C52 0000                       ALIGNMENT CODE
19593 00003C54 00000000                   DATA FOR SOURCE-LINE 7813
19594 00003C58 00000000                   DATA FOR SOURCE-LINE 7826
19595 00003C5C 00000000                   DATA FOR SOURCE-LINE 7832
19596                                     ***** END-POOL *****
19597 00003C60                   7840     EXQ_PROC_STEPRECOVER_250:                       ;NO!
19598 00003C60 2521              7841             MOV.W   R2,@R5                          ;設定変更実施　R5=_SV_POS_CTL_STEP
19599                            7842     
19600                            7843     ;       ------ 必要があれば目標位置演算-------------
19601                            7844     
19602 00003C62 D106              7845             MOV.L   #_EXQ_LT_PROC_CNT3,R1           ;ﾃﾞﾊﾞｯｸ用
19603 00003C64 6011              7846             MOV.W   @R1,R0                          ;
19604 00003C66 7001              7847             ADD     #1,R0                           ;
19605 00003C68 2101              7848             MOV.W   R0,@R1                          ;
19606                            7849     
19607 00003C6A E404              7850             MOV.B   #BIT2,R4
19608 00003C6C D104              7851             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
19609 00003C6E 6011              7852             MOV.W   @R1,R0
19610 00003C70 204A              7853             XOR     R4,R0
19611 00003C72 2101              7854             MOV.W   R0,@R1
19612                            7855     
19613                            7856     
19614                            7857     
19615 00003C74                   7858     EXQ_PROC_STEPRECOVER_END:
19616                            7859     
19617                            7860             SUB_END
19618                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19619 00003C74 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19620                            7861             M_RTS
19621 00003C76 000B                   M           RTS                             ;RTSの後ろの
19622 00003C78 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19623                            7862     
19624                            7863     
19625                            7864     
19626                            7865     
19627                            7866             .IMPORT _DNM_CYCLE_END          ;
19628                            7867             .IMPORT _CYC_END_POS_FLG_CLR
19629                            7868     
19630                            7869     ;       *******************************************
19631                            7870     ;       ***     待機点かどうかのチェック        ***
19632                            7871     ;       *******************************************
19633                            7872     ;       ANS R0
19634                            7873     ;       MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_RST_SPEC_AREASIG,LG=W,BIT=(BIT0),WKREG=R1      ;
19635                            7874     
19636                                     ***** BEGIN-POOL *****
19637 00003C7A 0000                       ALIGNMENT CODE
19638 00003C7C 00000000                   DATA FOR SOURCE-LINE 7845
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   247
PROGRAM NAME =

19639 00003C80 00000000                   DATA FOR SOURCE-LINE 7851
19640                                     ***** END-POOL *****
19641 00003C84                   7875     _RECOVER_WAIT_AREA_CHK:
19642                            7876             SUB_START
19643 00003C84 4F22                   M           STS.L   PR,@-R15                ;[必要]
19644                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19645                            7877             PUSH_REG1 R1
19646 00003C86 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19647                                 M                                           ;REG=>[SP]
19648                                 M                                           ;"-4" FF,FF,FF,FC
19649                            7878             PUSH_REG1 R2
19650 00003C88 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19651                                 M                                           ;REG=>[SP]
19652                                 M                                           ;"-4" FF,FF,FF,FC
19653                            7879             PUSH_REG1 R3
19654 00003C8A 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
19655                                 M                                           ;REG=>[SP]
19656                                 M                                           ;"-4" FF,FF,FF,FC
19657                            7880             PUSH_REG1 R4
19658 00003C8C 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
19659                                 M                                           ;REG=>[SP]
19660                                 M                                           ;"-4" FF,FF,FF,FC
19661 00003C8E 233A              7881             XOR     R3,R3                           ;ANS R3=0
19662                            7882     
19663 00003C90 D104              7883             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
19664 00003C92 6011              7884             MOV.W   @R1,R0                          ;
19665 00003C94 C804              7885             TST     #_DMATH_DNDRIV,R0               ;
19666                            7886             TST_BIT_OF RECOVER_WAIT_AREACHK_100     ;
19667 00003C96 8909                   M           BT      RECOVER_WAIT_AREACHK_100
19668                            7887     
19669                            7888              .AIF   1 EQ 1  ;
19670                            7889 C   ;       -------- 2016-10-31 ADD 二重回路対策
19671                            7890              .AENDI
19672                            7891     
19673                            7892     ;;;信号変更 2016-10-31
19674 00003C98 D103              7893             MOV.L   #_DNM_RST_SPEC_AREASIG,R1
19675 00003C9A 6011              7894             MOV.W   @R1,R0                          ;
19676 00003C9C C801              7895             TST     #BIT0,R0
19677                            7896             TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;待機点だ
19678 00003C9E 8B0D                   M           BF      RECOVER_WAIT_AREACHK_200
19679                            7897     
19680                            7898     ;;;信号変更     MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R1
19681                            7899     ;;;信号変更     MOV.W   @R1,R0                          ;
19682                            7900     ;;;信号変更     MOV.W   #BIT7,R4                        ;
19683                            7901     ;;;信号変更     TST     R4,R0                           ;
19684                            7902     ;;;信号変更     TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;待機点だ
19685                            7903     
19686                            7904     ;;;;記述ミス    MOV.L   #_M_LINK_AREASIG,R4             ;
19687                            7905     ;;;;記述ミス    MOV.W   @R4,R0                          ;
19688                            7906     ;;;;記述ミス    TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;
19689                            7907             M_BRA   RECOVER_WAIT_AREACHK_END
19690 00003CA0 A00D                   M           BRA     RECOVER_WAIT_AREACHK_END
19691 00003CA2 0009                   M           NOP
19692                            7908     
19693                                     ***** BEGIN-POOL *****
19694 00003CA4 00000000                   DATA FOR SOURCE-LINE 7883
19695 00003CA8 00000000                   DATA FOR SOURCE-LINE 7893
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   248
PROGRAM NAME =

19696                                     ***** END-POOL *****
19697 00003CAC                   7909     RECOVER_WAIT_AREACHK_100
19698 00003CAC D402              7910             MOV.L   #_M_LINK_AREASIG,R4             ;//BIT0/BIT4:待機点範囲(ふりこでは使えない
                                          )
19699 00003CAE 6041              7911             MOV.W   @R4,R0                          ;
19700 00003CB0 C810              7912             TST     #BIT4,R0                        ;
19701                            7913             TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;
19702 00003CB2 8B03                   M           BF      RECOVER_WAIT_AREACHK_200
19703                            7914             M_BRA   RECOVER_WAIT_AREACHK_END
19704 00003CB4 A003                   M           BRA     RECOVER_WAIT_AREACHK_END
19705 00003CB6 0009                   M           NOP
19706                            7915     
19707                            7916     
19708                                     ***** BEGIN-POOL *****
19709 00003CB8 00000000                   DATA FOR SOURCE-LINE 7910
19710                                     ***** END-POOL *****
19711 00003CBC                   7917     RECOVER_WAIT_AREACHK_200
19712 00003CBC E301              7918             MOV.B   #BIT0,R3
19713 00003CBE                   7919     RECOVER_WAIT_AREACHK_END
19714 00003CBE 6033              7920             MOV     R3,R0                           ;ANS R0=0 R0=BIT0(待機点範囲)
19715                            7921             POP_REG1 R4
19716                                 M                                   ; RE"+4" 00,00,00,04
19717 00003CC0 64F6                   M           MOV.L   @R15+,R4        ;
19718                            7922             POP_REG1 R3
19719                                 M                                   ; RE"+4" 00,00,00,04
19720 00003CC2 63F6                   M           MOV.L   @R15+,R3        ;
19721                            7923             POP_REG1 R2
19722                                 M                                   ; RE"+4" 00,00,00,04
19723 00003CC4 62F6                   M           MOV.L   @R15+,R2        ;
19724                            7924             POP_REG1 R1
19725                                 M                                   ; RE"+4" 00,00,00,04
19726 00003CC6 61F6                   M           MOV.L   @R15+,R1        ;
19727                            7925     
19728                            7926             SUB_END
19729                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19730 00003CC8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19731                            7927             M_RTS
19732 00003CCA 000B                   M           RTS                             ;RTSの後ろの
19733 00003CCC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19734                            7928     
19735                            7929     
19736                            7930     
19737                            7931     ;       *******************************************
19738                            7932     ;       ***                                     ***
19739                            7933     ;       ***                                     ***
19740                            7934     ;       ***     2016-10-31(2016-06-21)          ***
19741                            7935     ;       ***                                     ***
19742                            7936     ;       *******************************************
19743                            7937              .AIF   1 EQ 1  ;
19744                            7938 C   ;       -------- 2016-10-31 ADD 二重回路対策
19745                            7939              .AENDI
19746                            7940     
19747 00003CCE                   7941     _DNM_OBJ_AREA_SIG2:             ;振り子の場合の目標の待機点信号
19748                            7942             SUB_START
19749 00003CCE 4F22                   M           STS.L   PR,@-R15                ;[必要]
19750                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19751                            7943     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   249
PROGRAM NAME =

19752 00003CD0 D10C              7944             MOV.L   #_MODE_SEL,R1                           ;
19753 00003CD2 6011              7945             MOV.W   @R1,R0                                  ;
19754 00003CD4 C81E              7946             TST     #_W1SGL+_W1CNT+_W1OPT+_W1INC,R0         ;安全、連続、オプション,INC
19755                            7947             TST_BIT_OF DNMOBJ_ARASIG2_150                   ;
19756 00003CD6 893D                   M           BT      DNMOBJ_ARASIG2_150
19757                            7948     
19758 00003CD8 D10B              7949             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
19759 00003CDA 6011              7950             MOV.W   @R1,R0                                  ;
19760 00003CDC C804              7951             TST     #_DMATH_DNDRIV,R0                       ;
19761                            7952             TST_BIT_OF DNMOBJ_ARASIG2_150                   ;ふりこじゃない
19762 00003CDE 8939                   M           BT      DNMOBJ_ARASIG2_150
19763                            7953     
19764 00003CE0 D10A              7954             MOV.L   #_BRKTST_SW_IN,R1                       ;
19765 00003CE2 6011              7955             MOV.W   @R1,R0                                  ;
19766 00003CE4 C801              7956             TST     #BIT0,R0                                ;
19767                            7957             TST_BIT_ON DNMOBJ_ARASIG2_150                   ;
19768 00003CE6 8B35                   M           BF      DNMOBJ_ARASIG2_150
19769                            7958     
19770 00003CE8 D409              7959             MOV.L   #_DNM_SETX_LINK_UP_POS_DN,R4            ;ﾘﾝｸ(範囲比較)
19771 00003CEA 6141              7960             MOV.W   @R4,R1                                  ;待機点-α
19772 00003CEC D409              7961             MOV.L   #_DNM_SETX_LINK_UP_POS_UP,R4            ;
19773 00003CEE 6341              7962             MOV.W   @R4,R3                                  ;待機点+α
19774 00003CF0 D409              7963             MOV.L   #_INC_ENC360,R4                         ;PG
19775 00003CF2 6241              7964             MOV.W   @R4,R2                                  ;R1~R3の範囲か？
19776                            7965             FAR_JSR #_DIG_AREA_CHK1,R0                      ;
19777 00003CF4 D009                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19778 00003CF6 400B                   M           JSR     @R0                     ;
19779 00003CF8 0009                   M           NOP                                     ;
19780 00003CFA 4511              7966             CMP/PZ  R5                                      ;
19781 00003CFC 8B10              7967             BF      DNMOBJ_ARASIG2_100                      ;
19782                            7968             M_BRA   DNMOBJ_ARASIG2_120_SET
19783 00003CFE A019                   M           BRA     DNMOBJ_ARASIG2_120_SET
19784 00003D00 0009                   M           NOP
19785                            7969     
19786                            7970     
19787                                     ***** BEGIN-POOL *****
19788 00003D02 0000                       ALIGNMENT CODE
19789 00003D04 00000000                   DATA FOR SOURCE-LINE 7944
19790 00003D08 00000000                   DATA FOR SOURCE-LINE 7949
19791 00003D0C 00000000                   DATA FOR SOURCE-LINE 7954
19792 00003D10 00000000                   DATA FOR SOURCE-LINE 7959
19793 00003D14 00000000                   DATA FOR SOURCE-LINE 7961
19794 00003D18 00000000                   DATA FOR SOURCE-LINE 7963
19795 00003D1C 00000000                   DATA FOR SOURCE-LINE 7965
19796                                     ***** END-POOL *****
19797 00003D20                   7971     DNMOBJ_ARASIG2_100:
19798 00003D20 D407              7972             MOV.L   #_SETX_LINK_UP_POS_DN,R4                ;ﾘﾝｸ(範囲比較)
19799 00003D22 6141              7973             MOV.W   @R4,R1                                  ;待機点-α
19800 00003D24 D407              7974             MOV.L   #_SETX_LINK_UP_POS_UP,R4                ;
19801 00003D26 6341              7975             MOV.W   @R4,R3                                  ;待機点+α
19802 00003D28 D407              7976             MOV.L   #_INC_ENC360,R4                         ;PG
19803 00003D2A 6241              7977             MOV.W   @R4,R2                                  ;R1~R3の範囲か？
19804                            7978             FAR_JSR #_DIG_AREA_CHK1,R0                      ;
19805 00003D2C D007                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19806 00003D2E 400B                   M           JSR     @R0                     ;
19807 00003D30 0009                   M           NOP                                     ;
19808 00003D32 8B0F              7979             BF      DNMOBJ_ARASIG2_150                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   250
PROGRAM NAME =

19809 00003D34                   7980     DNMOBJ_ARASIG2_120_SET:
19810                            7981     
19811                            7982             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_RST_SPEC_AREASIG,LG=W,BIT=(BIT0),WKREG=R1      ;
19812 00003D34 D106                   M           MOV.L   #_DNM_RST_SPEC_AREASIG,R1               ;
19813 00003D36 6011                   M           MOV.W   @R1,R0          ;
19814 00003D38 CB01                   M           OR      #(BIT0),R0              ;
19815 00003D3A 2101                   M           MOV.W   R0,@R1          ;
19816                            7983             M_BRA   DNMOBJ_ARASIG2_200
19817 00003D3C A00E                   M           BRA     DNMOBJ_ARASIG2_200
19818 00003D3E 0009                   M           NOP
19819                            7984     
19820                                     ***** BEGIN-POOL *****
19821 00003D40 00000000                   DATA FOR SOURCE-LINE 7972
19822 00003D44 00000000                   DATA FOR SOURCE-LINE 7974
19823 00003D48 00000000                   DATA FOR SOURCE-LINE 7976
19824 00003D4C 00000000                   DATA FOR SOURCE-LINE 7978
19825 00003D50 00000000                   DATA FOR SOURCE-LINE 7982
19826                                     ***** END-POOL *****
19827 00003D54                   7985     DNMOBJ_ARASIG2_150:
19828                            7986     
19829                            7987             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_DNM_RST_SPEC_AREASIG,LG=W,BIT=(~BIT0),WKREG=R1    ;
19830 00003D54 D103                   M           MOV.L   #_DNM_RST_SPEC_AREASIG,R1               ;
19831 00003D56 6011                   M           MOV.W   @R1,R0          ;
19832 00003D58 C9FE                   M           AND     #LOW (~BIT0),R0         ;
19833 00003D5A 2101                   M           MOV.W   R0,@R1          ;
19834                            7988     
19835 00003D5C                   7989     DNMOBJ_ARASIG2_200:
19836                            7990     
19837                            7991             SUB_END
19838                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19839 00003D5C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19840                            7992             M_RTS
19841 00003D5E 000B                   M           RTS                             ;RTSの後ろの
19842 00003D60 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19843                            7993     
19844                            7994     
19845                            7995     ;       *******************************************
19846                            7996     ;       ***                                     ***
19847                            7997     ;       ***     EXQ発生時　ﾊﾝﾄﾞｼｪｲｸ中かﾁｪｯｸ     ***
19848                            7998     ;       ***     2016-01-10[]                    ***
19849                            7999     ;       ***     2016-04-15                      ***
19850                            8000     ;       *******************************************
19851                            8001             .EXPORT _API_EXQ_STEP_STS_GET
19852                                     ***** BEGIN-POOL *****
19853 00003D62 0000                       ALIGNMENT CODE
19854 00003D64 00000000                   DATA FOR SOURCE-LINE 7987
19855                                     ***** END-POOL *****
19856 00003D68                   8002     _API_EXQ_STEP_STS_GET
19857                            8003             SUB_START
19858 00003D68 4F22                   M           STS.L   PR,@-R15                ;[必要]
19859                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19860                            8004     
19861 00003D6A D106              8005             MOV.L   #_EXQ_LT_GET_FLG,R1             ;
19862 00003D6C 6011              8006             MOV.W   @R1,R0                          ;
19863 00003D6E 2008              8007             TST     R0,R0                           ;
19864                            8008             TST_BIT_ON API_EXQ_STEP_STSGET_EXT      ;
19865 00003D70 8B05                   M           BF      API_EXQ_STEP_STSGET_EXT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   251
PROGRAM NAME =

19866 00003D72 E001              8009             MOV.B   #BIT0,R0                        ;
19867 00003D74 2101              8010             MOV.W   R0,@R1                          ;
19868                            8011     
19869 00003D76 D104              8012             MOV.L   #_CMPSTEP_STEP_END,R1   ;(HAND)
19870 00003D78 6011              8013             MOV.W   @R1,R0                          ;
19871 00003D7A D104              8014             MOV.L   #_EXQ_LT_CMPSTEP_STEP_END,R1    ;
19872 00003D7C 2101              8015             MOV.W   R0,@R1                          ;
19873                            8016     
19874                            8017     
19875 00003D7E                   8018     API_EXQ_STEP_STSGET_EXT
19876                            8019     
19877                            8020             SUB_END
19878                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19879 00003D7E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19880                            8021             M_RTS
19881 00003D80 000B                   M           RTS                             ;RTSの後ろの
19882 00003D82 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19883                            8022     
19884                            8023     
19885                            8024     ;       *******************************************
19886                            8025     ;       ***                                     ***
19887                            8026     ;       ***     クリア                          ***
19888                            8027     ;       ***     2016-01-10                      ***
19889                            8028     ;       *******************************************
19890                            8029             .EXPORT _API_EXQ_STEP_FLGCLR
19891                                     ***** BEGIN-POOL *****
19892 00003D84 00000000                   DATA FOR SOURCE-LINE 8005
19893 00003D88 00000000                   DATA FOR SOURCE-LINE 8012
19894 00003D8C 00000000                   DATA FOR SOURCE-LINE 8014
19895                                     ***** END-POOL *****
19896 00003D90                   8030     _API_EXQ_STEP_FLGCLR
19897                            8031             SUB_START
19898 00003D90 4F22                   M           STS.L   PR,@-R15                ;[必要]
19899                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19900 00003D92 200A              8032             XOR     R0,R0
19901 00003D94 D103              8033             MOV.L   #_EXQ_LT_CMPSTEP_STEP_END,R1    ;
19902 00003D96 2101              8034             MOV.W   R0,@R1                          ;
19903 00003D98 D103              8035             MOV.L   #_EXQ_LT_GET_FLG,R1             ;
19904 00003D9A 2101              8036             MOV.W   R0,@R1                          ;
19905                            8037     
19906                            8038             SUB_END
19907                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19908 00003D9C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19909                            8039             M_RTS
19910 00003D9E 000B                   M           RTS                             ;RTSの後ろの
19911 00003DA0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19912                            8040     
19913                            8041     
19914                            8042     
19915                            8043     ;       *******************************************
19916                            8044     ;       ***                                     ***
19917                            8045     ;       ***     リセット処理                    ***
19918                            8046     ;       ***     2016-10-31(2016-05-11)          ***
19919                            8047     ;       ***                                     ***
19920                            8048     ;       *******************************************
19921                            8049              .AIF   1 EQ 1  ;
19922                            8050 C   ;       -------- 2016-10-31 ADD 二重回路対策
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   252
PROGRAM NAME =

19923                            8051              .AENDI
19924                                     ***** BEGIN-POOL *****
19925 00003DA2 0000                       ALIGNMENT CODE
19926 00003DA4 00000000                   DATA FOR SOURCE-LINE 8033
19927 00003DA8 00000000                   DATA FOR SOURCE-LINE 8035
19928                                     ***** END-POOL *****
19929 00003DAC                   8052     _POSCTRL_CANSEL_RESET:
19930                            8053             SUB_START
19931 00003DAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
19932                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19933 00003DAE D10E              8054             MOV.L   #_POSCANSEL_CMD,R1              ;
19934 00003DB0 6011              8055             MOV.W   @R1,R0                          ;
19935 00003DB2 2008              8056             TST     R0,R0                           ;
19936                            8057             TST_BIT_OF POSCTRL_CANSEL_RST_EXT       ;
19937 00003DB4 8913                   M           BT      POSCTRL_CANSEL_RST_EXT
19938                            8058     
19939 00003DB6 D10D              8059             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340.11 位置決めキャンセル
19940 00003DB8 6011              8060             MOV.W   @R1,R0                          ;
19941 00003DBA 9413              8061             MOV.W   #BIT11,R4                       ;
19942 00003DBC 2048              8062             TST     R4,R0                           ;指令OFF
19943                            8063             TST_BIT_ON POSCTRL_CANSEL_RST_EXT       ;
19944 00003DBE 8B0E                   M           BF      POSCTRL_CANSEL_RST_EXT
19945                            8064     
19946 00003DC0 D10B              8065             MOV.L   #_di1_cb_ctl1_dt,R1             ;ﾚﾍﾞﾙに変更(ｵｰﾊﾞﾛｰﾄﾞなどのｼｰｹﾝｽ上の異常をｼ
                                          ｰｹﾝｽがﾘｾｯﾄでｸﾘｱするため)
19947 00003DC2 6011              8066             MOV.W   @R1,R0                          ;(ｴｯｼﾞの場合,まだｼｰｹﾝｽからのEMG指令はOFFし
                                          ない)
19948 00003DC4 940F              8067             MOV.W   #_W1RST,R4                      ;ﾘｾｯﾄ釦
19949 00003DC6 2048              8068             TST     R4,R0                           ;ONｴｯｼﾞ
19950                            8069             TST_BIT_OF POSCTRL_CANSEL_RST_EXT       ;
19951 00003DC8 8909                   M           BT      POSCTRL_CANSEL_RST_EXT
19952                            8070     
19953 00003DCA 200A              8071             XOR     R0,R0                           ;
19954 00003DCC D106              8072             MOV.L   #_POSCANSEL_CMD,R1              ;
19955 00003DCE 2101              8073             MOV.W   R0,@R1                          ;
19956                            8074     
19957 00003DD0 D108              8075             MOV.L   #_reset_flg,R1                  ;
19958 00003DD2 6011              8076             MOV.W   @R1,R0                          ;
19959 00003DD4 2008              8077             TST     R0,R0                           ;
19960                            8078             TST_BIT_ON POSCTRL_CANSEL_RST_EXT       ;EXQ,EMG
19961 00003DD6 8B02                   M           BF      POSCTRL_CANSEL_RST_EXT
19962                            8079     
19963                            8080             FAR_JSR #_POSCAN_PROC_STEP_RECOVER,R0   ;
19964 00003DD8 D007                   M           MOV.L   #_POSCAN_PROC_STEP_RECOVER,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19965 00003DDA 400B                   M           JSR     @R0                     ;
19966 00003DDC 0009                   M           NOP                                     ;
19967                            8081     
19968                            8082     
19969 00003DDE                   8083     POSCTRL_CANSEL_RST_EXT:
19970                            8084     
19971                            8085             SUB_END
19972                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19973 00003DDE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19974                            8086             M_RTS
19975 00003DE0 000B                   M           RTS                             ;RTSの後ろの
19976 00003DE2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19977                            8087     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   253
PROGRAM NAME =

19978                            8088     
19979                            8089     
19980                            8090     ;       *******************************************
19981                            8091     ;       ***                                     ***
19982                            8092     ;       ***                                     ***
19983                            8093     ;       ***                                     ***
19984                            8094     ;       ***     EXQ,遮光による行程違いのRECOVER ***
19985                            8095     ;       ***     2016-10-31                      ***
19986                            8096     ;       ***                                     ***
19987                            8097     ;       ***                                     ***
19988                            8098     ;       *******************************************
19989                            8099     ;       リセット時に行う
19990                            8100     ;       ハンドシェイク中でEXQを実行した場合、強制中断するが、他のＣＰＵは
19991                            8101     ;       ハンドシェイク成立している可能性があり、次の工程に行っている
19992                            8102     ;       このリカバーはハンドシェイク時のみのリカバーとする
19993                            8103              .AIF   1 EQ 1  ;
19994                            8104 C   ;       -------- 2016-10-31 ADD 二重回路対策
19995                            8105              .AENDI
19996                            8106     
19997                            8107     
19998                                     ***** BEGIN-POOL *****
19999 00003DE4 0800                       DATA FOR SOURCE-LINE 8061
20000 00003DE6 8000                       DATA FOR SOURCE-LINE 8067
20001 00003DE8 00000000                   DATA FOR SOURCE-LINE 8054,8072
20002 00003DEC 00000000                   DATA FOR SOURCE-LINE 8059
20003 00003DF0 00000000                   DATA FOR SOURCE-LINE 8065
20004 00003DF4 00000000                   DATA FOR SOURCE-LINE 8075
20005 00003DF8 00000000                   DATA FOR SOURCE-LINE 8080
20006                                     ***** END-POOL *****
20007 00003DFC                   8108     _POSCAN_PROC_STEP_RECOVER:
20008                            8109             SUB_START
20009 00003DFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
20010                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20011                            8110     
20012                            8111     
20013 00003DFE D115              8112             MOV.L   #_MODE_SEL,R1                           ;
20014 00003E00 6011              8113             MOV.W   @R1,R0                                  ;
20015                            8114     
20016 00003E02 9426              8115             MOV.W   #_W1INC+_W1SGL+_W1CNT+_W1OPT,R4         ;最終形態
20017 00003E04 2048              8116             TST     R4,R0                                   ;
20018                            8117             TST_BIT_OF POSCAN_PROCSTEPRECOVER_END1
20019 00003E06 8953                   M           BT      POSCAN_PROCSTEPRECOVER_END1
20020                            8118     
20021 00003E08 D113              8119             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
20022 00003E0A 6011              8120             MOV.W   @R1,R0                                  ;
20023 00003E0C C805              8121             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
20024                            8122             TST_BIT_OF POSCAN_PROCSTEPRECOVER_END1  ;
20025 00003E0E 894F                   M           BT      POSCAN_PROCSTEPRECOVER_END1
20026                            8123     
20027                            8124     
20028                            8125     ;-----------------処理確認ﾃﾞﾊﾞｯｸ機能------------------------------
20029 00003E10 D112              8126             MOV.L   #_EXQ_LT_PROC_CNT1,R1
20030 00003E12 6011              8127             MOV.W   @R1,R0
20031 00003E14 7001              8128             ADD     #1,R0
20032 00003E16 2101              8129             MOV.W   R0,@R1
20033                            8130     
20034 00003E18 E401              8131             MOV.B   #BIT0,R4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   254
PROGRAM NAME =

20035 00003E1A D111              8132             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20036 00003E1C 6011              8133             MOV.W   @R1,R0
20037 00003E1E 204A              8134             XOR     R4,R0
20038 00003E20 2101              8135             MOV.W   R0,@R1
20039                            8136     
20040                            8137     
20041                            8138     ;---------------------------------------------------------
20042                            8139     ;切替条件
20043                            8140     ;       (1)R1:自分が0(emg)でない
20044                            8141     ;       (1)R2:相手も0(emg)でない
20045                            8142     ;         (2-1)自分が最終行程の場合
20046                            8143     ;               (3-1)待機点範囲の場合
20047                            8144     ;                       相手CPUが0または1の場合　
20048                            8145     ;                       自分はEMG処理相当を行う(行程1からはじめる)
20049                            8146     ;               (3-2)待機点範囲でない場合:演算しない
20050                            8147     ;         (2-2)自分が最終行程でない場合
20051                            8148     ;               自分<相手であれば行程を入れ替える
20052                            8149     
20053                            8150             FAR_JSR #_RECOVER_WAIT_AREA_CHK,R0      ;
20054 00003E22 D010                   M           MOV.L   #_RECOVER_WAIT_AREA_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20055 00003E24 400B                   M           JSR     @R0                     ;
20056 00003E26 0009                   M           NOP                                     ;
20057 00003E28 6303              8151             MOV     R0,R3                           ;R3!=0:待機点
20058                            8152     
20059 00003E2A D50F              8153             MOV.L   #_SV_POS_CTL_STEP,R5            ;
20060 00003E2C 6151              8154             MOV.W   @R5,R1                          ;自分
20061                            8155             .AIF    0 EQ    0
20062 00003E2E D60F              8156 C           MOV.L   #_CPUB_SV_STEP,R6               ;CPUB->CPUA
20063                            8157             .AELSE
20064                            8158             MOV.L   #_CPUA_SV_STEP,R6               ;
20065                            8159             .AENDI
20066 00003E30 6261              8160             MOV.W   @R6,R2                          ;相手CPUB 2BYTE
20067 00003E32 2118              8161             TST     R1,R1                           ;CPUA(自分)
20068                            8162             TST_BIT_OF POSCAN_PROCSTEPRECOVER_END1  ;[次の工程は１行程から行う]
20069 00003E34 893C                   M           BT      POSCAN_PROCSTEPRECOVER_END1
20070                            8163     
20071 00003E36 2338              8164             TST     R3,R3                           ;待機点？
20072                            8165             TST_BIT_OF POSCAN_PROCSTEPRECOVER_200   ;NO!
20073 00003E38 893C                   M           BT      POSCAN_PROCSTEPRECOVER_200
20074                            8166     
20075 00003E3A D40D              8167             MOV.L   #_CPOS_STEP_MAX,R4              ;
20076 00003E3C 6041              8168             MOV.W   @R4,R0                          ;
20077 00003E3E 7001              8169             ADD     #1,R0                           ;
20078 00003E40 3010              8170             CMP/EQ  R1,R0                           ;最終ｽﾃｯﾌﾟか?
20079 00003E42 8B35              8171             BF      POSCAN_PROCSTEPRECOVER_END1     ;NO!(待機点だが最終ステップではない)
20080                            8172     
20081                            8173     ;       --------- 自分が最終ｽﾃｯﾌﾟ-------------
20082 00003E44 E001              8174             MOV.B   #1,R0                           ;
20083 00003E46 2228              8175             TST     R2,R2                           ;
20084                            8176             TST_BIT_OF POSCAN_PROCSTEPRECOVER_100   ;(R2=0:次の工程は0から YES:EMG)
20085 00003E48 8914                   M           BT      POSCAN_PROCSTEPRECOVER_100
20086                            8177     
20087 00003E4A 3200              8178             CMP/EQ  R0,R2                           ;
20088 00003E4C 8912              8179             BT      POSCAN_PROCSTEPRECOVER_100      ;相手CPU=1です
20089                            8180             M_BRA   POSCAN_PROCSTEPRECOVER_END1     ;
20090 00003E4E A02F                   M           BRA     POSCAN_PROCSTEPRECOVER_END1
20091 00003E50 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   255
PROGRAM NAME =

20092                            8181     
20093                            8182     ;
20094                            8183     ;最終行程で待機点内で他のCPUで行程=1がいる[次サイクル]
20095                            8184     ;待機点での方向変更処理が必要
20096                            8185     ;       「EMGと同じ処理」
20097                                     ***** BEGIN-POOL *****
20098 00003E52 001E                       DATA FOR SOURCE-LINE 8115
20099 00003E54 00000000                   DATA FOR SOURCE-LINE 8112
20100 00003E58 00000000                   DATA FOR SOURCE-LINE 8119
20101 00003E5C 00000000                   DATA FOR SOURCE-LINE 8126
20102 00003E60 00000000                   DATA FOR SOURCE-LINE 8132
20103 00003E64 00000000                   DATA FOR SOURCE-LINE 8150
20104 00003E68 00000000                   DATA FOR SOURCE-LINE 8153
20105 00003E6C 00000000                   DATA FOR SOURCE-LINE 8156
20106 00003E70 00000000                   DATA FOR SOURCE-LINE 8167
20107                                     ***** END-POOL *****
20108 00003E74                   8186     POSCAN_PROCSTEPRECOVER_100:
20109                            8187             FAR_JSR #_DNM_CYCLE_END,R0              ;
20110 00003E74 D009                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20111 00003E76 400B                   M           JSR     @R0                     ;
20112 00003E78 0009                   M           NOP                                     ;
20113                            8188             FAR_JSR #_CYC_END_POS_FLG_CLR,R0        ;
20114 00003E7A D009                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20115 00003E7C 400B                   M           JSR     @R0                     ;
20116 00003E7E 0009                   M           NOP                                     ;
20117                            8189             FAR_JSR #_LOT_SIG_FLG_CLR,R0            ;通常の連続
20118 00003E80 D008                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20119 00003E82 400B                   M           JSR     @R0                     ;
20120 00003E84 0009                   M           NOP                                     ;
20121                            8190     
20122                            8191     ;       ---------- ﾃﾞﾊﾞｯｸ-------------
20123 00003E86 D108              8192             MOV.L   #_EXQ_LT_PROC_CNT2,R1           ;ﾃﾞﾊﾞｯｸ用
20124 00003E88 6011              8193             MOV.W   @R1,R0                          ;
20125 00003E8A 7001              8194             ADD     #1,R0                           ;
20126 00003E8C 2101              8195             MOV.W   R0,@R1                          ;
20127                            8196     
20128 00003E8E E402              8197             MOV.B   #BIT1,R4
20129 00003E90 D106              8198             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20130 00003E92 6011              8199             MOV.W   @R1,R0
20131 00003E94 204A              8200             XOR     R4,R0
20132 00003E96 2101              8201             MOV.W   R0,@R1
20133                            8202     ;       ------ﾃﾞﾊﾞｯｸ--------
20134                            8203             M_BRA   POSCAN_PROCSTEPRECOVER_END      ;
20135 00003E98 A033                   M           BRA     POSCAN_PROCSTEPRECOVER_END
20136 00003E9A 0009                   M           NOP
20137                            8204     
20138                            8205     
20139                            8206     ;       ==============================================
20140                                     ***** BEGIN-POOL *****
20141 00003E9C 00000000                   DATA FOR SOURCE-LINE 8187
20142 00003EA0 00000000                   DATA FOR SOURCE-LINE 8188
20143 00003EA4 00000000                   DATA FOR SOURCE-LINE 8189
20144 00003EA8 00000000                   DATA FOR SOURCE-LINE 8192
20145 00003EAC 00000000                   DATA FOR SOURCE-LINE 8198
20146                                     ***** END-POOL *****
20147 00003EB0                   8207     POSCAN_PROCSTEPRECOVER_END1     ;
20148                            8208             M_BRA   POSCAN_PROCSTEPRECOVER_END      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   256
PROGRAM NAME =

20149 00003EB0 A027                   M           BRA     POSCAN_PROCSTEPRECOVER_END
20150 00003EB2 0009                   M           NOP
20151                            8209     
20152                            8210     
20153                            8211     ;       ---------------------途中行程-----------------------
20154 00003EB4                   8212     POSCAN_PROCSTEPRECOVER_200:                     ;NO!
20155 00003EB4 6151              8213             MOV.W   @R5,R1                          ;CPUA(自分)
20156 00003EB6 6261              8214             MOV.W   @R6,R2                          ;CPUB 2BYTE
20157                            8215     
20158 00003EB8 3216              8216             CMP/HI  R1,R2                           ;R1(CPUA)<(R2 CPUB)
20159 00003EBA 890F              8217             BT      POSCAN_PROCSTEPRECOVER_250      ;YES
20160                            8218     
20161                            8219     
20162 00003EBC D105              8220             MOV.L   #_EXQ_LT_PROC_CNT4,R1           ;ﾃﾞﾊﾞｯｸ用
20163 00003EBE 6011              8221             MOV.W   @R1,R0                          ;
20164 00003EC0 7001              8222             ADD     #1,R0                           ;
20165 00003EC2 2101              8223             MOV.W   R0,@R1                          ;
20166                            8224     
20167 00003EC4 E408              8225             MOV.B   #BIT3,R4
20168 00003EC6 D104              8226             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20169 00003EC8 6011              8227             MOV.W   @R1,R0
20170 00003ECA 204A              8228             XOR     R4,R0
20171 00003ECC 2101              8229             MOV.W   R0,@R1
20172                            8230             M_BRA   POSCAN_PROCSTEPRECOVER_END      ;
20173 00003ECE A018                   M           BRA     POSCAN_PROCSTEPRECOVER_END
20174 00003ED0 0009                   M           NOP
20175                            8231     
20176                            8232     
20177                            8233     ;       ------------- 行程変更実地
20178                                     ***** BEGIN-POOL *****
20179 00003ED2 0000                       ALIGNMENT CODE
20180 00003ED4 00000000                   DATA FOR SOURCE-LINE 8220
20181 00003ED8 00000000                   DATA FOR SOURCE-LINE 8226
20182                                     ***** END-POOL *****
20183 00003EDC                   8234     POSCAN_PROCSTEPRECOVER_250:                     ;NO!
20184                            8235     ;       -------2016-07-16---------------
20185                            8236             PUSH_REG1 R2
20186 00003EDC 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
20187                                 M                                           ;REG=>[SP]
20188                                 M                                           ;"-4" FF,FF,FF,FC
20189                            8237             PUSH_REG1 R5
20190 00003EDE 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
20191                                 M                                           ;REG=>[SP]
20192                                 M                                           ;"-4" FF,FF,FF,FC
20193                            8238             FAR_JSR #_ROT_CNTMODE_CHK,R0
20194 00003EE0 D009                   M           MOV.L   #_ROT_CNTMODE_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20195 00003EE2 400B                   M           JSR     @R0                     ;
20196 00003EE4 0009                   M           NOP                                     ;
20197                            8239             POP_REG1 R5
20198                                 M                                   ; RE"+4" 00,00,00,04
20199 00003EE6 65F6                   M           MOV.L   @R15+,R5        ;
20200                            8240             POP_REG1 R2
20201                                 M                                   ; RE"+4" 00,00,00,04
20202 00003EE8 62F6                   M           MOV.L   @R15+,R2        ;
20203                            8241     ;       -------------------------------
20204                            8242     
20205 00003EEA 2008              8243             TST     R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   257
PROGRAM NAME =

20206                            8244             TST_BIT_ON POSCAN_PROCSTEPRECOVER_END   ;
20207 00003EEC 8B09                   M           BF      POSCAN_PROCSTEPRECOVER_END
20208                            8245     
20209 00003EEE 2521              8246             MOV.W   R2,@R5                          ;設定変更実施　R5=_SV_POS_CTL_STEP
20210                            8247     
20211                            8248     ;       ------ 必要があれば目標位置演算-------------
20212 00003EF0 D106              8249             MOV.L   #_EXQ_LT_PROC_CNT3,R1           ;ﾃﾞﾊﾞｯｸ用
20213 00003EF2 6011              8250             MOV.W   @R1,R0                          ;
20214 00003EF4 7001              8251             ADD     #1,R0                           ;
20215 00003EF6 2101              8252             MOV.W   R0,@R1                          ;
20216                            8253     
20217 00003EF8 E404              8254             MOV.B   #BIT2,R4
20218 00003EFA D105              8255             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20219 00003EFC 6011              8256             MOV.W   @R1,R0
20220 00003EFE 204A              8257             XOR     R4,R0
20221 00003F00 2101              8258             MOV.W   R0,@R1
20222                            8259     
20223                            8260     
20224 00003F02                   8261     POSCAN_PROCSTEPRECOVER_END:
20225                            8262     
20226                            8263             SUB_END
20227                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20228 00003F02 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20229                            8264             M_RTS
20230 00003F04 000B                   M           RTS                             ;RTSの後ろの
20231 00003F06 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20232                            8265     
20233                                     ***** BEGIN-POOL *****
20234 00003F08 00000000                   DATA FOR SOURCE-LINE 8238
20235 00003F0C 00000000                   DATA FOR SOURCE-LINE 8249
20236 00003F10 00000000                   DATA FOR SOURCE-LINE 8255
20237                                     ***** END-POOL *****
20238 00003F14                   8266     _ROT_CNTMODE_CHK:
20239                            8267             SUB_START
20240 00003F14 4F22                   M           STS.L   PR,@-R15                ;[必要]
20241                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20242                            8268     
20243 00003F16 9416              8269             MOV.W   #1,R4   ;
20244 00003F18 3140              8270             CMP/EQ  R4,R1   ;自分はSTEP1
20245 00003F1A 8B1F              8271             BF      ROT_CNTMODCHK_100               ;変更可能(自分が1でない)
20246                            8272     
20247 00003F1C D40B              8273             MOV.L   #_CPOS_STEP_MAX,R4              ;
20248 00003F1E 6041              8274             MOV.W   @R4,R0                          ;
20249 00003F20 7001              8275             ADD     #1,R0                           ;
20250 00003F22 3020              8276             CMP/EQ  R2,R0                           ;相手が最終行程
20251 00003F24 8B1A              8277             BF      ROT_CNTMODCHK_100               ;変更可能(相手が最終ｽﾃｯﾌﾟではない)
20252                            8278     
20253 00003F26 D10A              8279             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
20254 00003F28 6011              8280             MOV.W   @R1,R0                          ;
20255 00003F2A C801              8281             TST     #(_DMATH_CNTROT),R0             ;回転
20256                            8282             TST_BIT_OF ROT_CNTMODCHK_100            ;NO! 変更可能
20257 00003F2C 8916                   M           BT      ROT_CNTMODCHK_100
20258                            8283     
20259                            8284     ;待機点Vﾓｰﾄﾞ
20260 00003F2E D109              8285             MOV.L   #_SETX_POS_MOD_FLG1,R1          ;
20261 00003F30 6011              8286             MOV.W   @R1,R0                          ;
20262 00003F32 C905              8287             AND     #(BIT2+BIT0),R0                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   258
PROGRAM NAME =

20263 00003F34 8805              8288             CMP/EQ  #(BIT2+BIT0),R0                 ;
20264 00003F36 8B11              8289             BF      ROT_CNTMODCHK_100               ;回転,連続で待機点停止無し? NO
20265                            8290     
20266                            8291     
20267 00003F38 D107              8292             MOV.L   #_LINK_CLANK_PV,R1              ;
20268 00003F3A 6011              8293             MOV.W   @R1,R0                          ;
20269 00003F3C 9404              8294             MOV.W   #D'600,R4                       ;60.0
20270 00003F3E 3042              8295             CMP/HS  R4,R0                           ;
20271 00003F40 890C              8296             BT      ROT_CNTMODCHK_100               ;60<ｸﾗﾝｸ角度が大きい
20272                            8297             M_BRA   ROT_CNTMODCHK_200               ;0~60度だ.
20273 00003F42 A00E                   M           BRA     ROT_CNTMODCHK_200
20274 00003F44 0009                   M           NOP
20275                            8298     
20276                                     ***** BEGIN-POOL *****
20277 00003F46 0001                       DATA FOR SOURCE-LINE 8269
20278 00003F48 0258                       DATA FOR SOURCE-LINE 8294
20279 00003F4A 0000                       ALIGNMENT CODE
20280 00003F4C 00000000                   DATA FOR SOURCE-LINE 8273
20281 00003F50 00000000                   DATA FOR SOURCE-LINE 8279
20282 00003F54 00000000                   DATA FOR SOURCE-LINE 8285
20283 00003F58 00000000                   DATA FOR SOURCE-LINE 8292
20284                                     ***** END-POOL *****
20285 00003F5C                   8299     ROT_CNTMODCHK_100:
20286 00003F5C 200A              8300             XOR     R0,R0                   ;変更する
20287                            8301             M_BRA   ROT_CNTMODCHK_END       ;
20288 00003F5E A001                   M           BRA     ROT_CNTMODCHK_END
20289 00003F60 0009                   M           NOP
20290                            8302     
20291 00003F62                   8303     ROT_CNTMODCHK_200:
20292 00003F62 E001              8304             MOV.B   #1,R0                   ;変更しない
20293 00003F64                   8305     ROT_CNTMODCHK_END:
20294                            8306             SUB_END
20295                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20296 00003F64 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20297                            8307             M_RTS
20298 00003F66 000B                   M           RTS                             ;RTSの後ろの
20299 00003F68 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20300                            8308     
20301                            8309     
20302                            8310     
20303                            8311             .END
  *****TOTAL ERRORS       0
  *****TOTAL WARNINGS     0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   259

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ANTI_CHK_0100                    P             000006C2   7600*
ANTI_CHK_0130                    P             000006F4   7630  7639*
ANTI_CHK_0150                    P             00000720   7598  7660*
ANTI_CHK_0500                    P             00000740   7577  7688*
ANTI_CHK_EXIT                    P             00000754   7587  7644  7668  7675  7693  7703*
API_EXQ_STEP_STSGET_EXT          P             00003D7E  19865 19875*
BIT0                                      EQU  00000001     15* 2027  2331  2346  6216  6240  6272  6593  6653  6670  6702  6716 
                                                          6818  7019  7248  7299  7329  7337  7346  7451  7611  7633  7672  7691 
                                                          7758  7781  7852  7907  8010  8101  8227  8457  8612  9151  9282  9324 
                                                          9594  9764  9940  9947 10104 10134 10190 10243 10259 10407 10478 10536 
                                                         10595 10609 10697 10704 11774 11832 12114 12197 12362 12390 12408 12630 
                                                         12631 12655 12656 12687 12804 13140 13209 13270 13418 13850 13940 14009 
                                                         14032 14098 14113 14246 14460 14779 14790 15252 15265 15488 15505 15531 
                                                         15567 16033 16040 16123 16168 16384 16409 16589 16610 16654 16660 16789 
                                                         16803 16818 16983 17004 17012 17091 17181 17186 17257 17283 17301 17468 
                                                         17543 17615 18265 18271 18310 18316 18361 18524 18532 18804 19409 19676 
                                                         19712 19766 19814 19832 19866 20034 20262 20263 
BIT1                                      EQU  00000002     16* 2028  2332  2347  6310  6398  6670  6702  6716  7019  7459  7770 
                                                          7796  8807  8903  9053  9151  9480  9872 10337 10491 10551 10638 10788 
                                                         10795 10839 10887 10922 10987 12111 12169 12197 12362 12390 12408 13288 
                                                         13299 13435 13447 14246 15252 15669 15742 15768 16615 16654 16847 16951 
                                                         17172 17551 17567 18207 19104 19533 20128 
BIT10                                     EQU  00000400     25* 2357  7038  7072  7136 10223 12506 13909 16813 16815 16862 16958 
                                                         19098 
BIT11                                     EQU  00000800     26* 2358  7038  7083  8830  9365 10376 10963 13052 14716 14737 16813 
                                                         16834 16862 16964 19133 19941 
BIT12                                     EQU  00001000     27* 2363  7038  7088  8830  9365 13052 15204 15937 17124 17395 17403 
                                                         17601 17627 17764 17965 
BIT13                                     EQU  00002000     28* 2364  7038  7067 13943 15937 17663 
BIT14                                     EQU  00004000     29* 2365  7038  9137 15856 15937 16647 19213 19283 
BIT15                                     EQU  00008000     30* 2366 13909 13922 14426 14521 15856 15937 16738 16901 19180 19305 
                                                         19328 
BIT16                                     EQU  00010000     31*
BIT17                                     EQU  00020000     32*
BIT18                                     EQU  00040000     33*
BIT19                                     EQU  00080000     34*
BIT2                                      EQU  00000004     17* 2029  2333  2348  2368  6302  6498  6670  7019  7472  9288  9509 
                                                          9839  9974 10158 10311 10401 10532 10723 10812 10875 12493 13315 13327 
                                                         13463 13475 14246 14581 15666 15779 15795 15817 16837 17547 17610 18747 
                                                         19210 19607 20217 20262 20263 
BIT20                                     EQU  00100000     35*
BIT21                                     EQU  00200000     36*
BIT22                                     EQU  00400000     37*
BIT23                                     EQU  00800000     38*
BIT24                                     EQU  01000000     39*
BIT25                                     EQU  02000000     40*
BIT26                                     EQU  04000000     41*
BIT27                                     EQU  08000000     42*
BIT28                                     EQU  10000000     43*
BIT29                                     EQU  20000000     44*
BIT3                                      EQU  00000008     18* 2030  2334  2349  2369  6670  7019  7172  7484  8163  8542  9401 
                                                          9417 10913 11186 14246 15655 15846 16324 18851 19210 19580 20167 
BIT30                                     EQU  40000000     45*
BIT31                                     EQU  80000000     46*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   260

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BIT4                                      EQU  00000010     19* 2335  2350  2370  6670  6868  6922  6943  7019  7497  9375 10909 
                                                         10916 11788 11793 12215 12630 12631 12655 12656 12804 14043 14246 14654 
                                                         15421 15863 16533 16970 18153 18168 19067 19210 19700 
BIT5                                      EQU  00000020     20* 2336  2351  2371  6670  7019  7510 11793 11971 12215 13922 14246 
                                                         14253 15052 15058 15115 15121 15573 15817 15871 16371 16377 18690 19092 
BIT6                                      EQU  00000040     21* 2337  2352  2372  6670  7019  7521 14009 14100 14246 14654 15573 
                                                         15574 15839 15896 16970 17191 17578 17702 17965 18706 19127 
BIT7                                      EQU  00000080     22* 2338  2353  2373  6872  7596  7628 11164 12979 15518 15624 16975 
                                                         17572 17620 17702 17965 18153 18553 18876 19176 
BIT8                                      EQU  00000100     23* 2339  2354  7154  7176  9739  9798 13059 16975 17117 17627 17731 
                                                         17965 18902 
BIT9                                      EQU  00000200     24* 2340  2355  7154  9739 11172 13078 18992 19006 19092 19127 
BRKTST_CHKDTMK_100               P             00002D8A  16473 16475*
BRKTST_CTL_050                   P             000028B8  15514 15521*
BRKTST_CTL_090                   P             000028D2  15507 15520 15529 15545*
BRKTST_CTL_100                   P             000028F8  15490 15563*
BRKTST_CTL_150                   P             00002950  15575 15622*
BRKTST_CTL_190                   P             00002960  15607 15638*
BRKTST_CTL_200                   P             00002974  15569 15651*
BRKTST_CTL_220                   P             00002984  15657 15665*
BRKTST_CTL_250                   P             000029A0  15684 15694*
BRKTST_CTL_260                   P             000029C0  15704 15720*
BRKTST_CTL_290                   P             000029E2  15686 15702 15712 15727 15729 15744*
BRKTST_CTL_300                   P             000029F8  15671 15757*
BRKTST_CTL_350                   P             00002A2C  15770 15792*
BRKTST_CTL_360                   P             00002A3E  15797 15807*
BRKTST_CTL_390                   P             00002A4E  15782 15805 15819*
BRKTST_CTL_400                   P             00002A64  15668 15835*
BRKTST_CTL_450                   P             00002A86  15859 15867*
BRKTST_CTL_490                   P             00002A8E  15841 15865 15874*
BRKTST_CTL_500                   P             00002AA0  15659 15887*
BRKTST_CTL_900                   P             00002AC0  15547 15640 15746 15821 15876 15899 15911*
BRKTST_CTL_950                   P             00002AE8  15933 15940*
BRKTST_INPUTMK_100               P             00002B64  16018 16024 16035 16057*
BRKTST_INPUTMK_200               P             00002B6E  16047 16064*
BRKTST_MOD_CF_END                P             00002B14  15987 15990*
BRKTST_RDYCHK_END                P             00002C58  16243 16260*
BRKTST_RDYCHK_OFF                P             00002C50  16164 16170 16222 16253*
BRKTST_RDYCHK_ON                 P             00002C34  16224 16232*
BRKTST_RDYCHK_START_WAIT         P             00002C56  16197 16258*
BRKTST_RDYCK_0198                P             00002BF6  16190 16195*
BRKTST_RDYCK_0200                P             00002C20  16153 16215*
BRKTST_RDY_SFTY_MASK2CHK055      P             00002B98  16105 16119*
BRKTST_RDY_SFTY_MASK2CHK060      P             00002BB4  16125 16140*
BRKTST_RDY_SFTY_MASK2CHK100      P             00002BBA  16112 16132 16145*
BRKTST_SPDCHK_100                P             00002DDA  16528 16536*
BRKTST_STOPSIG_MK300             P             00002E30  16591 16606 16618*
BRKTST_STR_POW_100               P             00002D16  16406 16419*
BRK_RDY_ON_CF_998                P             00002E64  16665*
BRK_RDY_ON_CF_999                P             00002E78  16650 16656 16662 16677*
BRK_RDY_ON_CF_EXT                P             00002E7A  16668 16679*
BTTN_DRVSEP_CHK_CLR              P             00000E44   9290  9300*
BTTN_DRVSEP_CHK_END              P             00000E4A   9284  9304*
BTTN_START_CK100                 P             00000E5E   9326  9336*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   261

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BTTN_START_CK150                 P             00000E88   9343  9359*
BTTN_START_CK180                 P             00000E9A   9368  9378*
BTTN_START_CK190                 P             00000EAC   9377  9391*
BTTN_START_CK192                 P             00000ECC   9396  9412*
BTTN_START_CK195                 P             00000ED6   9405  9420*
BTTN_START_CK200                 P             00000EF0   9427  9438*
BTTN_START_CK220                 P             00000EF2   9346  9381  9440*
BTTN_START_CK300                 P             00000EF6   9429  9445*
BTTN_START_CK320                 P             00000F34   9476  9482  9504*
BTTN_START_CK350                 P             00000F60   9511  9539*
BTTN_START_CK550                 P             00000F70   9492  9520  9529  9553*
BTTN_START_CK570                 P             00000F76   9292  9490  9546  9558*
BTTN_START_CK599                 P             00000F7C   9450  9527  9544  9563*
BTTN_START_CKEXT                 P             00000F7E   9556  9561  9565*
CMPAB_NEAR_END_PC_100            P             00001F20  13269 13286*
CMPAB_NEAR_END_PC_200            P             00001F48  13290 13313*
CMPAB_NEAR_END_PC_ED             P             00001F6A  13332 13340*
CMPAB_NEAR_END_PC_NG             P             00001F68  13277 13297 13306 13325 13338*
CMPAB_NEAR_END_PC_OK             P             00001F5E  13317 13329*
CNT_SPM_DSPCK050                 P             00001EE8  13202 13207 13213*
CONT_LOT_CHK050                  P             00001CBC  12708 12711*
CONT_MD_CHK050                   P             00001E38  13062 13076*
CONT_MD_CHK100                   P             00001E42  13047 13055 13066 13081 13084*
CTRL_UP_HOLD_CK_200              P             00001A2C  11931 11946*
CTRL_UP_HOLD_CK_300              P             00001A34  11949 11955*
CTRL_UP_HOLD_CK_400              P             00001A40  11933 11951 11958 11967*
CTRL_UP_HOLD_CK_700              P             00001A54  11962 11975 11982*
CTRL_UP_HOLD_CK_END              P             00001A5C  11908 11964 11973 11977 11995*
CTRL_UP_HOLD_CK_ST00             P             00001968  11756 11771*
CTRL_UP_HOLD_CK_ST20             P             00001978  11776 11784*
CTRL_UP_HOLD_CK_ST40             P             00001988  11790 11795*
CTRL_UP_HOLD_CK_ST50             P             000019A4  11817 11828*
CTRL_UP_HOLD_CK_STAA             P             0000195A  11750 11757*
CTRL_UP_HOLD_CK_ST_EXT           P             000019AC  11759 11778 11802 11826 11842*
CTRL_UP_LOT_CK_200               P             00001D80  12857 12871*
CTRL_UP_LOT_CK_300               P             00001D88  12874 12880*
CTRL_UP_LOT_CK_400               P             00001D94  12876 12883 12893*
CTRL_UP_LOT_CK_700               P             00001D9C  12887 12896 12900*
CTRL_UP_LOT_CK_END               P             00001DA4  12833 12859 12889 12898 12910*
CW_CCW_ESTEPTMCHK_010            P             000018F8  11654 11662*
CW_CCW_ESTEPTMCHK_100            P             00001922  11689 11691 11695 11698*
CW_CCW_ESTEPTMCHK_200            P             0000192E  11702 11704 11709*
CW_CCW_ESTEPTMCHK_LOP            P             0000190C  11681*11713 
CW_CCW_ESTEPTMCHK_LOPEND         P             00001940  11656 11684 11720*
CW_CCW_ESTEPTMCHK_START          P             000018E8  11645 11649*
CW_CCW_ESTEP_LOP000              P             00001890  11570*11640 
CW_CCW_ESTEP_LOP050              P             0000189E  11577 11580*
CW_CCW_ESTEP_LOP150              P             000018C0  11587 11605*
CW_CCW_ESTEP_LOP300              P             000018CC  11584 11619*
CW_CCW_ESTEP_LOP320              P             000018D2  11622 11625*
CW_CCW_ESTEP_LOP340              P             000018D8  11629 11633*
CW_CCW_ESTEP_LOP400              P             000018DA  11592 11596 11609 11613 11635*
CW_CCW_ESTEP_LOPEND              P             000018E4  11573 11643*
DEBUG_CMPERR_STSMK10             P             00000642   7450  7452*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   262

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DEBUG_CMPERR_STSMK100            P             00000674   7509  7511*
DEBUG_CMPERR_STSMK150            P             0000067E   7520  7522*
DEBUG_CMPERR_STSMK20             P             0000064C   7458  7460*
DEBUG_CMPERR_STSMK40             P             00000656   7471  7473*
DEBUG_CMPERR_STSMK60             P             00000660   7483  7485*
DEBUG_CMPERR_STSMK80             P             0000066A   7496  7498*
DNMOBJ_ARASIG2_100               P             00003D20  19781 19797*
DNMOBJ_ARASIG2_120_SET           P             00003D34  19783 19809*
DNMOBJ_ARASIG2_150               P             00003D54  19756 19762 19768 19808 19827*
DNMOBJ_ARASIG2_200               P             00003D5C  19817 19835*
DRV_START_ININW1_050             P             00001EAC  13134 13156*
DRV_START_ININW1_100             P             00001EB2  13144 13160*
DRV_START_KEP_WAIT_100           P             00002628  14781 14788 14804*
DRV_START_KEP_WAIT_END           P             0000264E  14822 14827 14838*
DRV_START_KEP_WAIT_NON           P             00002638  14775 14819*
DRV_START_KEP_WAIT_START         P             00002646  14812 14833*
DRV_START_KEP_WAIT_USE           P             0000263E  14794 14809 14824*
EP_SENCER_CK020                  P             000036CC  18477 18488*
EP_SENCER_CK030                  P             000036DC  18493 18502*
EP_SENCER_CK040                  P             000036F8  18510 18523*
EP_SENCER_CK050                  P             00003724  18471 18552*
EP_SENCER_CK100                  P             0000372C  18555 18561*
EP_SENCER_CK150                  P             00003750  18579 18589*
EP_SENCER_CK200                  P             00003760  18596 18605*
EP_SENCER_CK800                  P             00003A68  18495 19167 19174*
EP_SENCER_CK900                  P             00003A84  18516 18581 18751 18855 19071 19196*
EP_SENCER_CK950                  P             00003AA0  19185 19218*
EP_SENCER_CKEND                  P             00003AAA  18542 18557 18598 18670 18727 18761 18787 18836 18864 18888 18914 18969 
                                                         19027 19054 19080 19113 19158 19226*
EP_SENCER_CKEXT                  P             00003AB2  18479 19232*
EP_STEP_ENDSIG                   P             00003A64  19165*
EP_STEP_ENDSIG_A                 P             000039EC  18431 19088*
EP_STEP_ENDSIG_B                 P             00003A24  18439 19123*
EP_STEP_EPSENSIG_A               P             000038BC  18428 18872*
EP_STEP_EPSENSIG_B               P             000038E8  18436 18898*
EP_STEP_RESETON_COM              P             00003964  18430 18438 18987*
EP_STEP_RESET_100                P             00003934  18933 18949*
EP_STEP_RESET_COM_150            P             000039AC  19018 19039*
EP_STEP_RESET_COM_170            P             000039D4  19045 19063*
EP_STEP_RESET_COM_190            P             000039E8  19000 19078*
EP_STEP_RESET_DATSET1            P             00003914  18429 18437 18928*
EP_STEP_RESET_DATSET_COM         P             0000393C  18941 18956*19143 
EP_STEP_USE_RY_A                 P             000037D0  18425 18686*
EP_STEP_USE_RY_B                 P             000037E4  18433 18702*
EP_STEP_USE_RY_COM               P             000037EE  18694 18709*
EP_STEP_USE_RY_COM_150           P             00003814  18718 18737*
EP_STEP_USE_RY_COM_190           P             00003834  18742 18759*
EP_STEP_USE_RY_DATSETCOM         P             000037A8  18643 18657*
EP_STEP_USE_RY_DATSET_A          P             0000378C  18424 18636*
EP_STEP_USE_RY_DATSET_B          P             000037A0  18432 18650*
EP_STEP_VALVON_COM               P             00003868  18427 18435 18803*
EP_STEP_VALVON_DATSET            P             00003838  18426 18434 18769*
EP_STEP_VALV_COM_150             P             000038A4  18827 18846*
EP_STEP_VALV_COM_190             P             000038B8  18813 18862*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   263

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

EP_STEP_XX                       P             00003A68  18440 18441 18442 18443 18444 18445 18446 18447 18448 18449 18450 18451 
                                                         18452 18453 18454 18455 18456 19171*
EXQ_PROC_STEPRECOVER_100         P             00003BC8  19462 19465 19487*
EXQ_PROC_STEPRECOVER_150         P             00003BEC  19493 19512*
EXQ_PROC_STEPRECOVER_180         P             00003BF8  19504 19521*
EXQ_PROC_STEPRECOVER_200         P             00003C2C  19450 19559*
EXQ_PROC_STEPRECOVER_250         P             00003C60  19572 19597*
EXQ_PROC_STEPRECOVER_END         P             00003C74  19540 19554 19565 19586 19615*
EXQ_PROC_STEPRECOVER_END1        P             00003C28  19386 19394 19400 19446 19456 19467 19552*
EXT_DRVBTTN_INFO_MK100           P             00002EF0  16791 16801 16805*
EXT_DRVBTTN_INFO_MK200           P             00002F20  16817 16833*
EXT_DRVBTTN_INFO_MK300           P             00002F2E  16836 16845*
EXT_DRVBTTN_INFO_MK400           P             00002F30  16820 16839 16849*
EXT_DRVBTTN_INFO_MK410           P             00002F42  16859 16865*
EXT_DRVBTTN_INFO_MK420           P             00002F5C  16864 16881*
EXT_DRVBTTN_INFO_MK450           P             00002F70  16886 16896*
EXT_DRVBTTN_INFO_MK500           P             00002F82  16871 16890 16910*
EXT_DRVBTTN_MOD100               P             00002EAC  16744 16746*
EXT_DRVBTTN_MODJG_CF300          P             00002FE8  16953 16961 16973 16978 16985 17003*
EXT_DRVBTTN_MODJG_CF500          P             00002FEA  16944 16967 16987 17005*
EXT_DRVBTTN_MODJG_CF700          P             00002FFE  17014 17023*
EXT_DRVBTTN_MOD_END              P             00002EB8  16725 16756*
HOLD1_DNSTARTPOSCK100            P             00003224  17487 17493 17507*
HOLD1_DNSTARTPOSCK200            P             0000322A  17499 17512*
H_BYTE                                    EQU  00000000     82*
INC_RSTMODECK020                 P             000034F4  18133 18142*
INC_RSTMODECK100                 P             00003510  18149 18165*
INC_RSTMODECK200                 P             00003518  18157 18173*
INC_RSTMODECK240                 P             00003570  18210 18233*
INC_RSTMODECK260                 P             0000357A  18219 18242*
INC_RSTMODECK280                 P             0000358C  18205 18221 18240 18251 18255*
INC_RSTMODECK290                 P             000035C8  18267 18294*
INC_RSTMODECK300                 P             000035D8  18260 18273 18280 18300 18308*
INC_RSTMODECK490                 P             000035F4  18155 18170 18196 18329*
INC_RSTMODECK499                 P             000035F6  18135 18331*
INC_RSTMODECK500                 P             000035F8  18318 18333*
INC_SPEC_RSTCK100                P             00003620  18353 18359 18371*
INC_SPEC_RSTCK200                P             00003622  18363 18373*
JMP0100001                       P             000026A0  15017 15036*
JMP0100002                       P             000026F0  15083 15100*
JMP0100003                       P             0000354E  18216 18218*
JMP0100004                       P             00003578  18237 18239*
JMP0200001                       P             000026AC  15021 15023 15026 15039 15041 15043*
JMP0200002                       P             000026FC  15087 15089 15092 15103 15105 15107*
JMP10000000                      P             00001F94  13417 13433*
JMP20000000                      P             00001FBC  13437 13461*
JMP_0100005                      P             00003738  18567 18570*
JMP_0100006                      P             0000376C  18610 18613*
JMP_ED00000                      P             00001FDE  13480 13488*
JMP_NG00000                      P             00001FDC  13425 13445 13454 13473 13486*
JMP_OK00000                      P             00001FD2  13465 13477*
LOT_CNTCNT_050                   P             00001C7C  12632 12642*
LOT_CNTCNT_080                   P             00001C90  12657 12666*
LOT_CNTCNT_200                   P             00001CBE  12626 12634 12659 12674 12683 12715*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   264

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

L_BYTE                                    EQU  00000001     81*
MASK2_SFYSTP400                  P             000027C8  15254 15284*
MASK2_SFYSTP500                  P             000027CE  15248 15267 15289*
MASK2_SFYSTP600                  P             000027D0  15271 15291*
MASK2_SFYSTPEXT                  P             000027D4  15295*
MODE_CCC_STOPCHK                 P             000012EC  10379 10390*
MODE_CCC_STPCMP_120              P             00001308  10403 10409*
MODE_CCS_STPCMP_100              P             00001352  10440 10448 10456 10463*
MODE_CCS_STPCMP_105              P             000013AC  10474 10516*
MODE_CCS_STPCMP_120              P             000013BA  10534 10540*
MODE_CCS_STPCMP_140              P             0000141C  10547 10592*
MODE_CCS_STPCMP_145              P             00001424  10553 10560 10573 10600*
MODE_CCS_STPCMP_150              P             00001432  10630*
MODE_CCS_STPCMP_200              P             00001474  10575 10597 10668*
MODE_CCS_STPCMP_250              P             0000148A  10693 10701*
MODE_CCS_STPCMP_270              P             00001492  10707*
MODE_CCS_STPCMP_280              P             00001492  10720*
MODE_CCS_STPCMP_300              P             000014A0  10498 10611 10653 10699 10725 10733*
MODE_CHG_050                     P             00000446   7023  7025*
MODE_CHG_080                     P             00000470   7042  7060*
MODE_CHG_080_SGL                 P             000004B4   7070  7125*
MODE_CHG_080_SNG                 P             000004BE   7075  7135*
MODE_CHG_100                     P             000004CC   7033  7147*
MODE_CHG_150                     P             000004E4   7150  7165*
MODE_CHG_200                     P             00000504   7168  7188*
MODE_CHG_800                     P             00000506   7029  7047  7107  7118  7129  7140  7158  7175  7179  7190*
MODE_CHG_EXT                     P             0000050A   7193*
MODE_CHG_OPT050                  P             000004A0   7086  7091  7103*
MODE_CHG_OPT090                  P             000004AA   7081  7093  7114*
MODE_CNTCNF1_STPCHK_210          P             000011A0  10081 10091*
MODE_CNTCNF1_STPCHK_220          P             000011A8  10085 10098*
MODE_CNTCNF1_STPCHK_250          P             000011B0  10097 10107*
MODE_CNTCOM1_STPCMP_100          P             00001164  10021 10029 10037 10045*
MODE_CNTCOM2_STPCHK_280          P             000011E8  10144 10154*
MODE_CNTCOM2_STPCHK_300          P             000011F6  10136 10146 10160 10167*
MODE_CNT_STPCHK_050              P             00001064   9801  9813*
MODE_CNT_STPCHK_080              P             0000106E   9805  9831*
MODE_CNT_STPCHK_120              P             00001048   9750  9795*
MODE_CNT_STPCHK_150              P             00001082   9771  9861*
MODE_CNT_STPCHK_199              P             000010B4   9742  9834  9892*
MODE_CNT_STPCHK_200              P             000010BA   9760  9897*
MODE_CNT_STPCHK_210              P             000010D4   9904  9916*
MODE_CNT_STPCHK_220              P             000010E4   9908  9936*
MODE_CNT_STPCHK_250              P             000010EC   9922  9933  9943*
MODE_CNT_STPCHK_280              P             0000111C   9957  9970*
MODE_CNT_STPCHK_300              P             0000112A   9841  9852  9880  9949  9959  9976  9987*
MODE_CNT_STPCMP_100              P             00000FEC   9683  9691  9699  9706*
MODE_CSS_STOPCHK_START           P             00001328  10381 10433*
MODE_CSS_STOPCK1000              P             000014A0  10418 10735*
MODE_CTL_100                     P             00000540   7250  7259*
MODE_CTL_ET900                   P             000005BA   7307  7313  7348  7373*
MODE_CTL_EXIT                    P             000005CE   7252  7292  7301  7331  7339  7381  7393*
MODE_DUP_STPCHK100               P             0000157C  10871 10905*
MODE_DUP_STPCHK200               P             00001598  10877 10895 10911 10915 10929*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   265

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

MODE_INC_STPCHK_000              P             00001500  10765 10782 10809*
MODE_INC_STPCHK_050              P             00001512  10763 10790 10799 10829*
MODE_INC_STPCHK_100              P             00001524  10797 10814 10825 10846*
MODE_SGL_STPCHK_050              P             00001244  10226 10240*
MODE_SGL_STPCHK_080              P             00001284  10255 10287*
MODE_SGL_STPCHK_100              P             00001294  10245 10300*
MODE_SGL_STPCHK_150              P             000012A6  10276 10326*
MODE_SGL_STPCHK_200              P             000012B8  10232 10293 10313 10323 10346*
NBIT0                                     EQU  000000FE     49*
NBIT1                                     EQU  000000FD     50*
NBIT10                                    EQU  0000FBFF     60*
NBIT11                                    EQU  0000F7FF     61*
NBIT12                                    EQU  0000EFFF     62*
NBIT13                                    EQU  0000DFFF     63*
NBIT14                                    EQU  0000BFFF     64*
NBIT15                                    EQU  00007FFF     65*
NBIT2                                     EQU  000000FB     51*
NBIT3                                     EQU  000000F7     52*
NBIT4                                     EQU  000000EF     53*
NBIT5                                     EQU  000000DF     54*
NBIT6                                     EQU  000000BF     55*
NBIT7                                     EQU  0000007F     56*
NBIT8                                     EQU  0000FEFF     58*
NBIT9                                     EQU  0000FDFF     59*
NEWMASK_SELSTOPCHK400            P             00001B52  12294 12316*
NEWMASK_SELSTOPCHK500            P             00001B70  12301 12307 12313 12333*
NEWMASK_SELSTOPCHKEND            P             00001B76  12322 12338*
NZ_TIM_CK1_100                   P             00002442  14340 14346 14349*
NZ_TIM_CK1_200                   P             00002456  14355 14361 14364*
OPT_SGL_SFTY_MASKCHK_080         P             00001C20  12509 12530*
OPT_SGL_SFTY_MASKCHK_100         P             00001C30  12502 12548*
OPT_SGL_SFTY_MASKCHK_400         P             00001C4C  12518 12538 12566 12572 12582*
OPT_SGL_SFTY_MASKCHK_500         P             00001C52  12488 12495 12516 12540 12574 12589*
OPT_SGL_SFTY_MASKCHK_END         P             00001C54  12585 12591*
ORGIN_180CK_100                  P             000026D4  15047 15078*
ORGIN_180CK_200                  P             00002724  15110 15135*
ORGIN_180CK_300                  P             00002724  15068 15125 15145*
ORGIN_MODE_SEL_ST090             P             00002500  14524 14526*
ORGIN_MODE_SEL_STEND             P             00002504  14516 14529*
ORGIN_MODE_SEL_WT090             P             0000248E  14429 14431*
ORGIN_MODE_SEL_WT100             P             000024AC  14421 14449*
ORGIN_MODE_SEL_WTEND             P             000024BC  14394 14436 14454 14464*
ORGIN_MODE_START_WT10            P             000008B8   7973  7983*
ORGIN_MODE_ST_WT100              P             00002564  14575 14601*
ORGIN_MODE_ST_WTEND              P             00002582  14617 14622 14627*
ORGIN_MODE_ST_WT_NOT             P             00002580  14563 14569 14625*
ORGIN_MODE_ST_WT_START           P             00002574  14589 14606 14614*
ORGIN_MODE_ST_WT_WAIT            P             0000257A  14583 14619*
P                                P        SCT  00000000   5814*
POSCAN_PROCSTEPRECOVER_100       P             00003E74  20085 20088 20108*
POSCAN_PROCSTEPRECOVER_200       P             00003EB4  20073 20154*
POSCAN_PROCSTEPRECOVER_250       P             00003EDC  20159 20183*
POSCAN_PROCSTEPRECOVER_END       P             00003F02  20135 20149 20173 20207 20224*
POSCAN_PROCSTEPRECOVER_END1      P             00003EB0  20019 20025 20069 20079 20090 20147*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   266

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POSCTRL_CANSEL_RST_EXT           P             00003DDE  19937 19944 19951 19961 19969*
POSHLD1_SIGCHK_100               P             0000336C  17740 17752*
POSHLD1_SIGCHK_200               P             00003372  17734 17744 17757*
POSHLD1_SIGCHK_300               P             00003398  17773 17785*
POSHLD1_SIGCHK_400               P             0000339E  17767 17777 17790*
POSHLD1_STEP1_STOP100            P             00003038  17093 17106*
POSHLD1_STEP1_STOP150            P             00003084  17113 17142 17157*
POSHLD1_STEP1_STOPEXT            P             000030E6  17213 17219 17224*
POSHLD1_STEP1_STOPNO             P             000030D8  17120 17127 17133 17144 17210*
POSHLD1_STEP1_STOPSTOP           P             000030E4  17222*
POSHLD1_STEP1_STOPWAIT           P             000030DE  17095 17196 17216*
POSHLD1_STEP2_START100           P             0000327C  17553 17584*
POSHLD1_STEP2_START200           P             00003288  17596*
POSHLD1_STEP2_START500           P             000032F4  17591 17658*
POSHLD1_STEP2_STARTEXT           P             00003306  17545 17549 17604 17637 17673*
POSHLD1_STOPBTTNCMDCK_050        P             000030FE  17247 17253*
POSHLD1_STOPBTTNCMDCK_100        P             00003106  17252 17259*
POSHLD1_STOPCONF_100             P             00003130  17286 17295*
POSHLD1_STOPCONF_200LOP          P             0000313C  17306*17455 
POSHLD1_STOPCONF_300             P             000031D8  17334 17439*
POSHLD1_STOPCONF_350             P             000031DC  17383 17444*
POSHLD1_STOPCONF_400             P             000031E0  17316 17380 17390 17410 17441 17448*
POSHLD1_STOPCONF_499             P             000031EC  17453 17458*
POSHLD1_STOPCONF_500             P             000031EE  17312 17460*
POSHLD1_STOPCONF_STOPEND         P             000031F6  17464 17470*
POSHLD1_STOPCONF_STOPNO          P             000031EE  17327 17461*
POSHLD1_STOPCONF_STOPSTOP        P             000031F4  17398 17467*
POS_CANSEL_STPCHK_END            P             000015FA  10997 11011*
POS_CANSEL_STPCHK_MOV            P             000015F8  10967 11009*
RDY_CHK_0030                     P             00000874   7915  7926*
RDY_CHK_0050                     P             00000878   7909  7931*
RDY_CHK_0060                     P             00000894   7943  7953*
RDY_CHK_0070                     P             000008BC   7971  7988*
RDY_CHK_0120                     P             00000950   8130  8140*
RDY_CHK_0150                     P             00000998   8254  8263*
RDY_CHK_0198                     P             000009BA   8282  8287*
RDY_CHK_0199                     P             000009FC   8213  8229  8261  8314*
RDY_CHK_0200                     P             00000A14   8132  8336*
RDY_CHK_0200_START               P             00000AE4   8491  8525*
RDY_CHK_0200_START_WAIT          P             00000AB4   7945  8478*
RDY_CHK_0200_START_WT2           P             00000AE0   8499  8510  8520*
RDY_CHK_0220                     P             00000A84   7856  7975  8395  8422  8443*
RDY_CHK_0280                     P             00000A68   8384  8407*
RDY_CHK_0290                     P             00000B9C   8434  8678*
RDY_CHK_0290A                    P             00000A7C   8368  8386  8432*
RDY_CHK_0299                     P             00000BB0   8439  8512  8685  8695*
RDY_CHK_0299A                    P             00000A80   8352  8370  8437*
RDY_CHK_0399                     P             00000BC8   7985  8424  8467  8522  8652  8687  8715*
RDY_CHK_0500                     P             00000BDC   7928  8732*
RDY_CHK_0505                     P             00000C04   8757  8767*
RDY_CHK_0510                     P             00000C18   8779  8787*
RDY_CHK_0520                     P             00000C28   8794  8802*
RDY_CHK_0525                     P             00000C38   8809  8816*
RDY_CHK_0530                     P             00000C5C   8833  8849*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   267

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

RDY_CHK_0600                     P             00000C6C   8828  8861*
RDY_CHK_0650                     P             00000C80   8865  8878*
RDY_CHK_0700                     P             00000CBC   8882  8941*
RDY_CHK_0750                     P             00000CD8   8945  8961*
RDY_CHK_0950                     P             00000CEC   8965  8977*
RDY_CHK_1000                     P             00000CF2   7877  8759  8781  8796  8811  8840  8855  8871  8931  8955  8971  8987*
RDY_CHK_1200                     P             00000D24   7884  7917  9018*
RDY_CHK_CYCL_END                 P             00000D44   9031  9041*
RDY_CHK_END_COM                  P             00000D62   9033  9049  9055  9072*
RDY_CHK_EXIT                     P             00000D86   7889  8289  8325  8717  8998  9008  9025  9102*
RDY_HOLDCHK_0100                 P             00000798   7747  7769*
RDY_HOLDCHK_0200                 P             000007D0   7772  7810*
RDY_HOLDCHK_1000                 P             00000834   7761  7783  7870*
RDY_HOLDCHK_1200                 P             00000844   7875  7882*
RDY_HOLDCHK_1999                 P             00000848   7791  7799  7825  7833  7846  7887*
RDY_HOLDCHK_END                  P             0000084C   7753  7892*
RDY_ON_CF_998                    P             00000DF6   9167  9195*
RDY_ON_CF_999                    P             00000E1C   9140  9153  9180  9213*
RDY_ON_CF_EXT                    P             00000E1E   9198  9215*
RDY_SFTY_MASK2CHK050             P             000008E4   8033  8061*
RDY_SFTY_MASK2CHK055             P             00000918   8076  8097*
RDY_SFTY_MASK2CHK060             P             00000934   8103  8117*
RDY_SFTY_MASK2CHK100             P             0000093A   8083  8110  8122*
RECOVER_WAIT_AREACHK_100         P             00003CAC  19667 19697*
RECOVER_WAIT_AREACHK_200         P             00003CBC  19678 19702 19711*
RECOVER_WAIT_AREACHK_END         P             00003CBE  19690 19704 19713*
RESET_CHK_100                    P             0000003E   6212  6230*
RESET_CHK_200                    P             00000058   6237  6254*
RESET_CHK_250                    P             00000074   6268  6275*
RESET_CHK_300                    P             000000AC   6259  6297*
RESET_CHK_305                    P             000000B4   6304  6309*
RESET_CHK_325                    P             00000102   6344  6371*
RESET_CHK_330                    P             00000134   6370  6389*
RESET_CHK_350                    P             000001A0   6428  6465*
RESET_CHK_399                    P             000001A6   6448  6472*
RESET_CHK_400                    P             000001B8   6312  6486*
RESET_CHK_500                    P             000001F8   6306  6527*
RESET_CHK_EXT                    P             00000250   6277  6373  6478  6492  6513  6532  6601*
RNA_ERR_RSTCKEXT                 P             00002768  15196 15202 15207 15215*
RNA_SCIF_ERRCLR1_050             P             0000259C  14656 14669*
RNA_SCIF_ERRCLR1_100             P             000025B4  14662 14686*
RNA_SCIF_ERRCLR1_200             P             000025BA  14679 14693*
ROT_CNTMODCHK_100                P             00003F5C  20245 20251 20257 20264 20271 20285*
ROT_CNTMODCHK_200                P             00003F62  20273 20291*
ROT_CNTMODCHK_END                P             00003F64  20288 20293*
RST_CONFCK_005                   P             000002C4   6665  6675*
RST_CONFCK_010                   P             000002D4   6655  6661  6674  6685*
RST_CONFCK_015_OK                P             00000322   6730  6753*
RST_CONFCK_020                   P             00000348   6736  6773*
RST_CONFCK_050                   P             0000035C   6803*
RST_CONFCK_055                   P             000003A4   6837  6855*
RST_CONFCK_060                   P             000003D0   6874  6890*
RST_CONFCK_080                   P             000003F0   6864  6919*
RST_CONFCK_BRK100                P             0000040C   6820  6940*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   268

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

RST_CONFCK_END                   P             00000430   6965  6969*
RST_CONFCK_NG                    P             00000428   6677  6880  6911  6931  6952  6962*
RST_CONFCK_NG70                  P             000003E0   6697  6704  6718  6747  6784  6905*
RST_CONFCK_OK                    P             0000042E   6755  6808  6839  6870  6896  6924  6945  6967*
RST_MOD_POSEND_100               P             0000179E  11369*
RST_MOD_POSEND_200               P             000017A6  11375*
SELF_FORCE_POW_100               P             00000FA0   9591  9604*
SET_NZ_TIMDT_010                 P             00002400  14297 14299*
SET_NZ_TIMDT_020                 P             0000240E  14307 14309*
SFTY_MASK_ED_100                 P             00001BBC  12392 12405*
SFTY_MASK_ED_200                 P             00001BCA  12398 12414*
SFTY_MUTING_MODER_100            P             00002844  15355 15363 15384*
SFTY_MUTING_MODER_200            P             00002860  15394 15400 15410*
SFTY_MUTING_MODER_EXT            P             0000287A  15345 15371 15402 15416 15430*
SGL_UP_HOLD_MASK050              P             00000CA4   8905  8929*
STEP_SIG_DSP050                  P             00002218  13903 13907 13921*
STEP_SIG_DSP100                  P             00002220  13897 13930*
STEP_SIG_DSP200                  P             00002228  13883 13911 13924 13935*
STEP_SIG_DSP300                  P             00002234  13942 13945*
STOPPING_TIM_CK050               P             00002304  14102 14112*
STOPPING_TIM_CK080               P             0000230C  14115 14119*
STOPPING_TIM_CK100               P             0000233E  14154 14156*
STOPPING_TIM_CK120               P             0000234C  14159 14168*
STOPPING_TIM_CK200               P             00002374  14174 14190*
STOPPING_TIM_CK250               P             00002384  14200 14202*
STOPPING_TIM_CK400               P             0000239C  14167 14219*
STOPPING_TIM_CK600               P             000023B4  14209 14241*
STOPPING_TIM_CK900               P             000023C6  14104 14117 14178 14230 14257*
STOPPING_TIM_STOPINI_100         P             000022B0  14011 14060*
SV_UP_HLDCHK_0050                P             000017E0  11410 11420*
SV_UP_HLDCHK_0100                P             000017F0  11425 11433*
SV_UP_HLDCHK_0190                P             00001810  11427 11452*
SV_UP_HLDCHK_0200                P             00001818  11455 11461*
SV_UP_HLDCHK_0290                P             0000181C  11457 11474*
SV_UP_HLDCHK_0295                P             00001820  11463 11478*
SV_UP_HLDCHK_0300                P             00001848  11477 11502*
SV_UP_HLDCHK_0900                P             0000185A  11413 11443 11491 11513*
UP_HOLD_ARA_MASK480              P             00001AE8  12154 12164*
UP_HOLD_ARA_MASK500              P             00001AF0  12113 12116 12136 12161 12173*
UP_HOLD_MASKSPDCHK_COM           P             00001A9C  12048 12062*
UP_HOLD_MASKSPDCHK_END           P             00001ABA  12082 12092*
UP_HOLD_MASKSPDCHK_FWD           P             00001A82  12026 12043*
UP_HOLD_MASKSPDCHK_NG            P             00001AB8  12034 12046 12060 12071 12090*
UP_HOLD_MASKSPDCHK_REV           P             00001A98  12030 12041 12057*
UP_HOLD_MASKSPDCHK_STR           P             00001AA8  12079*
XBIT0                                     EQU  00000000     68*
XBIT1                                     EQU  00000001     69*
XBIT2                                     EQU  00000002     70*
XBIT3                                     EQU  00000003     71*
XBIT4                                     EQU  00000004     72*
XBIT5                                     EQU  00000005     73*
XBIT6                                     EQU  00000006     74*
XBIT7                                     EQU  00000007     75*
_ABS_ENC_PLS_SPD                          IMPT 00000000   3423 16523 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   269

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ABS_OUT_PLS_SPD                          IMPT 00000000   3433 
_ACCERR_ACC_HENSA                         IMPT 00000000   4440 
_ACCERR_ACC_OBJ                           IMPT 00000000   4439 
_ACCERR_ACC_PV                            IMPT 00000000   4438 
_ACCERR_DLY_PV_TIM                        IMPT 00000000   4449 
_ACCERR_ERR_CNT                           IMPT 00000000   4441 
_ACCESS_ERR1                              IMPT 00000000   3519 
_ACC_MONITOR_DAT1                         IMPT 00000000   4252 
_ACC_MONITOR_DAT2                         IMPT 00000000   4253 
_ACC_MONITOR_DAT3                         IMPT 00000000   4254 
_ACC_MONITOR_DAT4                         IMPT 00000000   4255 
_ACC_MONITOR_DAT5                         IMPT 00000000   4256 
_ACC_MONITOR_DAT6                         IMPT 00000000   4257 
_ACC_MONITOR_DAT7                         IMPT 00000000   4258 
_ACC_MONITOR_DAT8                         IMPT 00000000   4259 
_ACC_REST_ABS_PLS                         IMPT 00000000   4209 
_ACC_REST_FLG                             IMPT 00000000   4210 
_ANTI_CHEAK                      P             000006A8   7317  7568*
_ANTI_OF                                  IMPT 00000000   5836  7696 
_ANTI_ON                                  IMPT 00000000   5835  7606 
_API_BREAK_VALV_FLG_OF                    IMPT 00000000   6039  9093 11125 
_API_BREAK_VALV_FLG_ON                    IMPT 00000000   6038  8615 16387 
_API_ENDHAND_SIGCHK                       IMPT 00000000   6154 10318 10820 
_API_EXQ_STEP_FLGCLR             P        EXPT 00003D90   6474 19890 19896*
_API_EXQ_STEP_STS_GET            P        EXPT 00003D68  19851 19856*
_API_X_PRO_SEND_START2                    IMPT 00000000  14642 
_AUTO_OF                                  IMPT 00000000   5838  9084  9767 10262 10481 10602 11024 
_AUTO_ON                                  IMPT 00000000   5837  9894 10073 10228 10289 10685 
_BANK1_CALC_ROT_NUM_ZR                    IMPT 00000000   3666 
_BANK1_LK_END_OBJ_ABSPLS                  IMPT 00000000   3659 
_BANK2_LINK_OBJROT_NUMPLS_ZR              IMPT 00000000   3664 
_BANK2_LINK_OBJROT_NUM_ZR                 IMPT 00000000   3663 
_BANK2_LK_END_OBJ_ABSPLS                  IMPT 00000000   3660 
_BASE_TIM010MS                            IMPT 00000000   2481 
_BASE_TIM100MS                            IMPT 00000000   2482 
_BBN_MESURE_DLY_POINT                     IMPT 00000000   4425 
_BBN_MESURE_DLY_SSPD                      IMPT 00000000   4424 
_BBN_MESURE_POINT                         IMPT 00000000   4419 
_BBN_MESURE_PPOS_BUF                      IMPT 00000000   4409 
_BBN_MESURE_PSPD                          IMPT 00000000   4411 
_BBN_MESURE_PSPD_BUF                      IMPT 00000000   4410 
_BBN_MESURE_SPOS_BUF                      IMPT 00000000   4405 
_BBN_MESURE_SSPD                          IMPT 00000000   4407 
_BBN_MESURE_SSPD_BUF                      IMPT 00000000   4406 
_BBN_MESURE_SSPD_DLYBUF                   IMPT 00000000   4423 
_BBN_MEUSRE_PV_ACC                        IMPT 00000000   4417 
_BBN_MEUSRE_PV_ACC_SRC                    IMPT 00000000   4414 
_BBN_MEUSRE_SV_ACC                        IMPT 00000000   4416 
_BBN_MEUSRE_SV_ACC_SRC                    IMPT 00000000   4413 
_BBN_SET_TIME                             IMPT 00000000   4420 
_BKTMCL_ACCDAT                            IMPT 00000000   4611 
_BKTMCL_ACCDAT_UNIT                       IMPT 00000000   4612 
_BKTMCL_ACCPOINT                          IMPT 00000000   4614 
_BKTMCL_BBNFLT_TIMPV                      IMPT 00000000   4628 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   270

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BKTMCL_BRKSTP_SPD                        IMPT 00000000   4636 
_BKTMCL_BRKSTR_SPD                        IMPT 00000000   4635 
_BKTMCL_BRKSTX_SPD                        IMPT 00000000   4641 
_BKTMCL_BRKSTX_TIMPV                      IMPT 00000000   4642 
_BKTMCL_BRKSTX_TIMSV                      IMPT 00000000   4643 
_BKTMCL_BRK_TIMPV                         IMPT 00000000   4638 
_BKTMCL_BRX_AREA_IN                       IMPT 00000000   4646 
_BKTMCL_BRX_AREA_INLT                     IMPT 00000000   4647 
_BKTMCL_ENC_DIR                           IMPT 00000000   4619 
_BKTMCL_OLD_PLSPOS                        IMPT 00000000   4618 
_BKTMCL_POINTMAX                          IMPT 00000000   4615 
_BKTMCL_SETX_TMDEF                        IMPT 00000000   4630 
_BKTMCL_SPDBUF                            IMPT 00000000   4610 
_BKTMCL_STOP_SPD                          IMPT 00000000   4634 
_BKTMCL_STOP_TIMPV                        IMPT 00000000   4627 
_BKTMCL_TMDEF_PV                          IMPT 00000000   4629 
_BKTMCL_TMSTEP_FLG                        IMPT 00000000   4623 
_BKTMCL_TMSTEP_STS                        IMPT 00000000   4624 
_BKTMCL_TOTAL_TIMPV                       IMPT 00000000   4626 
_BRK1_CAL_DN_ACC                          IMPT 00000000   3412 
_BRK1_CHKDLY_TM                           IMPT 00000000   3400 
_BRK1_GEN_PV_ACCTM                        IMPT 00000000   3408 
_BRK1_GEN_PV_DLYTM                        IMPT 00000000   3407 
_BRK1_GEN_SV_ACCTM                        IMPT 00000000   3406 
_BRK1_GEN_SV_DLYTM                        IMPT 00000000   3405 
_BRK1_GEN_SV_FRQ1                         IMPT 00000000   3403 
_BRK1_GEN_SV_FRQ2                         IMPT 00000000   3404 
_BRK1_SV_DN_ACC                           IMPT 00000000   3411 
_BRK2_CHKDLY_TM                           IMPT 00000000   3401 
_BRK2_SV_DN_ACC                           IMPT 00000000   3413 
_BRKTMCAL_API1_STR                        IMPT 00000000   6131 13982 
_BRKTMCAL_API3_ENDCNF1                    IMPT 00000000   6133 14205 
_BRKTMCAL_API4_ENDCNF2                    IMPT 00000000   6134 14233 
_BRKTMCAL_STG1_STOPINI                    IMPT 00000000   6132 11202 
_BRKTST_AREA_SIG                          IMPT 00000000   4150  6941 
_BRKTST_BAKUP_FLG_PV1                     IMPT 00000000   4160 
_BRKTST_BAKUP_FLG_PV2                     IMPT 00000000   4161 
_BRKTST_BAKUP_FLG_SV1                     IMPT 00000000   4158 
_BRKTST_BAKUP_FLG_SV2                     IMPT 00000000   4159 
_BRKTST_CHKDT_MAK                P             00002D78  15732 16462*
_BRKTST_CHKSPD_PLS                        IMPT 00000000   4140 16490 16525 
_BRKTST_CLNK_UP_POS_DN                    IMPT 00000000   4153 
_BRKTST_CLNK_UP_POS_UP                    IMPT 00000000   4152 
_BRKTST_CTRL                     P             00002890   7263 15474*
_BRKTST_INPUT_CMD                         IMPT 00000000   4143  6816 15503 15565 15766 16038 16059 16613 
_BRKTST_INPUT_MAK                P             00002B24  15481 16009*
_BRKTST_LINK_UP_POS_DN                    IMPT 00000000   4155 
_BRKTST_LINK_UP_POS_UP                    IMPT 00000000   4154 
_BRKTST_MODE_CONF                P             00002B00  15524 15800 15967*
_BRKTST_MOD_FLG                           IMPT 00000000   4138  7335 15486 15532 15571 15588 15625 15652 15740 15777 15815 15844 
                                                         15861 15869 15894 15913 16531 
_BRKTST_MOTOR_START              P             00002C94  15736 16313*
_BRKTST_MOTOR_STOP               P             00002DEC  15773 15890 16558*
_BRKTST_OUTSPD_PLS                        IMPT 00000000   4139 16480 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   271

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BRKTST_POS_START                         IMPT 00000000  16305 16362 
_BRKTST_RDY_CHK                  P             00002B7C  15678 16087*
_BRKTST_RDY_OFF_OUT              P             00002C64  15708 16255 16274*
_BRKTST_SPD_CHK                  P             00002DC4  15760 16519*
_BRKTST_STOPSIG_MAKE             P             00002E00  16043 16583*
_BRKTST_STP_ABSPLS                        IMPT 00000000   4147 16593 
_BRKTST_STR_FLG                           IMPT 00000000   4148 16061 16587 16608 
_BRKTST_SW_IN                             IMPT 00000000   4149  6651 11746 16031 19764 
_BRK_CHK_COM                              IMPT 00000000   3397 
_BRK_CHK_FLG                              IMPT 00000000   3398 
_BRK_ERR_WORK_CLR1                        IMPT 00000000   6010  8463  9865 10329 10486 10633 10832 10880 10980 11209 17166 
_BRK_RDYON_CONF1                 P             00002E48  16159 16217 16641*
_BTTN_FLG                                 IMPT 00000000   2549  8225  9286  9322  9507  9837 10309 10399 10530 10793 10810 10873 
                                                         14579 15793 16166 
_BTTN_ON_TIME                             IMPT 00000000   3689 
_BTTN_START_CHK                  P             00000E24   8363  9274*15697 
_BVLV_CTL_FLG                             IMPT 00000000   4797 
_BVLV_CTL_ON                              IMPT 00000000   4798 
_BVLV_START_IN                            IMPT 00000000   4801 
_CALC_FULCLS_MXPLS                        IMPT 00000000   3170 
_CALC_MEM_1REV_ML_NROT_ML36               IMPT 00000000   2895 
_CALC_MEM_1REV_MUL_NROT                   IMPT 00000000   2894 
_CALC_MISS_FLG1                           IMPT 00000000   3772 
_CALC_PLS_MMIN_H32                        EQU  C0000000   2076*
_CALC_PLS_MMIN_L32                        EQU  00000001   2077*
_CALC_PLS_PMAX_H32                        EQU  3FFFFFFF   2072*
_CALC_PLS_PMAX_L32                        EQU  FFFFFFFF   2073*
_CALC_ROT_MAX                             EQU  60000000   2068*
_CAM_CNT_CHG_FLG                          IMPT 00000000   3269 11075 
_CAM_CTL_STEP                             IMPT 00000000   2625 
_CAM_DT_FLG                               EQU  0000000E   2186*
_CAM_INF_D1                               EQU  00000010   2187*
_CAM_INF_D2                               EQU  00000012   2188*
_CAM_NOW_DIG                              IMPT 00000000   3266 
_CAM_OF_DGT                               EQU  0000000C   2185*
_CAM_OF_DIG                               EQU  00000008   2182* 2183 
_CAM_OF_DIR                               EQU  0000000A   2184*
_CAM_OF_STP                               EQU  00000006   2181*
_CAM_OF_TIM                               EQU  00000008   2183*
_CAM_OLD_DIG                              IMPT 00000000   3267 
_CAM_ON_DIG                               EQU  00000002   2179*
_CAM_ON_DIR                               EQU  00000004   2180*
_CAM_ON_STP                               EQU  00000000   2178*
_CAM_OUTPUT_DT                            IMPT 00000000   3260 
_CAM_OUTPUT_SW                            IMPT 00000000   3258 
_CAM_POS_CTL_STEP                         IMPT 00000000   3268 
_CAM_POS_STEP_END_FLG1                    IMPT 00000000   3025 
_CAM_POS_STEP_END_FLG2                    IMPT 00000000   3026 
_CAM_SELECT_SW                            IMPT 00000000   3259 
_CAM_START_FLG                            IMPT 00000000   3261 
_CAM_START_MODE                           IMPT 00000000   3262 
_CAM_STEP_MAX                             IMPT 00000000   3265 
_CAM_STEP_NO                              IMPT 00000000   3263 
_CAM_STEP_NO_OLD                          IMPT 00000000   3264 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   272

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CAM_STRCUT                               EQU  00000014   2177*
_CBA_STS_BKUP_SAVE                        IMPT 00000000   6127 15539 15595 15632 
_CBSTS_LOAD_FLG                           IMPT 00000000   4560 
_CBSTS_SAVE_CMDWK                         IMPT 00000000   4568 
_CBSTS_SAVE_DAT                           IMPT 00000000   4577 15535 15591 15628 
_CB_BAKUP_CMD1                            EQU  00005678    114*
_CB_BAKUP_CMD2                            EQU  00001234    115*
_CB_BAK_SUM_COD1                          EQU  5AA51234    112*
_CB_BAK_SUM_COD2                          EQU  A55A4321    113*
_CB_CTL_START_INI                P             00001DAC   8570 12926*16350 
_CB_ERR_INFO_MEM                          EQU  00000040    137*
_CB_INT_START_OK                          IMPT 00000000   2478 
_CB_IN_HANYO                              IMPT 00000000   4836 16811 
_CB_SEQ_CB_COM340                         IMPT 00000000   3011  9135 16645 17393 17599 19939 
_CB_SEQ_CB_COM345                         IMPT 00000000   3014 
_CB_SEQ_CB_COM345X                        IMPT 00000000   5382 
_CB_SEQ_CB_COM346                         IMPT 00000000   3015 
_CB_SEQ_CB_COM347                         IMPT 00000000   3016 
_CB_SEQ_CB_COM348                         IMPT 00000000   3017 
_CB_SEQ_CB_COM349                         IMPT 00000000   3018 19284 19306 
_CB_SEQ_CB_COM350                         IMPT 00000000   3020 
_CB_SEQ_CB_COM351                         IMPT 00000000   3021 
_CB_SEQ_CB_COM352                         IMPT 00000000   3022 16787 16949 
_CB_SEQ_CB_COM356                         IMPT 00000000   5281 
_CB_SEQ_CB_SEL341                         IMPT 00000000   3012  9478 10786 14424 14519 15184 
_CB_SEQ_CB_SEL342                         IMPT 00000000   3013 
_CB_SEQ_SW_SEL022                         IMPT 00000000   3006 16956 
_CB_SEQ_SW_SEL024                         IMPT 00000000   3007 
_CB_SEQ_SW_SEL028                         IMPT 00000000   3008  7036  7152  7170  9373  9737  9796 12491 13057 
_CB_SEQ_SW_SEL029                         IMPT 00000000   3009 
_CB_SEQ_SW_SEL058                         IMPT 00000000   4886 
_CB_STS_BUF_1BLK                          EQU  00000040    117*  119 
_CB_STS_BUF_BLKMAX                        EQU  00000008    118*  119 
_CB_STS_BUF_MAX                           EQU  00000200    119*
_CB_SYS_PARAM000                          IMPT 00000000   6081  8073 11651 11814 12066 15245 15342 16102 16722 17040 18201 18350 
                                                         18490 18638 18652 18660 18771 18777 18936 18951 18959 19040 19138 
_CB_TIME                                  EQU  0000000A   1995* 2008  2009  2010  2015 
_CB_TRD_BEFORE                            EQU  00000060    127*
_CB_TRD_BUF_DP_MAX                        EQU  00000080    131*
_CB_TRD_BUF_MAX                           EQU  00000800    128*
_CB_TRD_DP_1CNT                           EQU  00000008    130*
_CB_TRD_DP_CH                             EQU  00000004    123*
_CB_TRD_SMP_CNT                           EQU  00000080    126*
_CCS_BTTN_OFF                             IMPT 00000000   3511 10537 10607 10695 
_CHKPOSANSDIG                             IMPT 00000000   4731 
_CHKPOSWORK1                              IMPT 00000000   4718 
_CHKPOSWORK2                              IMPT 00000000   4719 
_CHKPOSWORKANS                            IMPT 00000000   4724 
_CHKSPDANSPER                             IMPT 00000000   4723 
_CHKSPDPERWORK1                           IMPT 00000000   4726 
_CHKSPDPERWORK2                           IMPT 00000000   4727 
_CHKSPDPOSINFO                            IMPT 00000000   4729 
_CHKSPDPOSOFS                             IMPT 00000000   4730 
_CHKSPDWORK1                              IMPT 00000000   4716 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   273

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CHKSPDWORK2                              IMPT 00000000   4717 
_CHKSPDWORKANS                            IMPT 00000000   4720 
_CHKSPDWORKTMAX                           IMPT 00000000   4722 
_CHKSPDWORKVMAX                           IMPT 00000000   4721 
_CHK_ADD_DATA_LATCH                       IMPT 00000000   4249 
_CHK_CLK_SIG                              IMPT 00000000   4762 
_CHK_LSI_LOAD_OUT_CNT                     IMPT 00000000   3998 
_CHK_LSI_LOAD_POS_CNT                     IMPT 00000000   3997 
_CHK_OBJECT_TIM_TOP                       IMPT 00000000   3214 
_CLRSQ206_BIT11                  P        EXPT 000025C4  14703 14709*
_CLS_INC_MOST_DOWN_PLS                    IMPT 00000000   2761 
_CLS_RNA_MOST_DOWN_POS                    IMPT 00000000   2760 
_CMP2_ACC_NG_CNT                          IMPT 00000000   3578 
_CMP2_ACC_TOTAL_NG_CNT                    IMPT 00000000   3572 
_CMP2_BAS_NG_CNT                          IMPT 00000000   3575 
_CMP2_BAS_TOTAL_NG_CNT                    IMPT 00000000   3569 
_CMP2_LAT_NG_CNT                          IMPT 00000000   3577 
_CMP2_LAT_TOTAL_NG_CNT                    IMPT 00000000   3571 
_CMP2_NOW_NG_CNT                          IMPT 00000000   3579 
_CMP2_NOW_TOTAL_NG_CNT                    IMPT 00000000   3573 
_CMP2_TOP_NG_CNT                          IMPT 00000000   3576 
_CMP2_TOP_TOTAL_NG_CNT                    IMPT 00000000   3570 
_CMPAB_NEAR_END_PROC             P        EXPT 00001EFC  13235 13257*
_CMPAB_STEP_END_PROC             P        EXPT 00001F72  13236 13400*
_CMPCYC_END_CLR                  P        EXPT 0000216C  13246 13787*
_CMPCYC_START_CLR                P        EXPT 00002150  13245 13760*
_CMPEMG_EXQ_FLG_CLR              P        EXPT 000020C4   6413 11191 13248 13675*
_CMPSTEP_CNT_STOP                         IMPT 00000000   2669 13634 13722 
_CMPSTEP_CTRL_BUSY                        IMPT 00000000   2665 13534 13716 
_CMPSTEP_CTRL_REDY                        IMPT 00000000   2664 13511 
_CMPSTEP_NEAR_ZERO                        IMPT 00000000   2668 13265 13608 13720 
_CMPSTEP_POS_START                        IMPT 00000000   2666  7911  7939  8458  9001 13556 
_CMPSTEP_SFTY_AUTO                        IMPT 00000000   2667 13584 13718 
_CMPSTEP_STEP_END                         IMPT 00000000   2670  7516  9848 13413 13658 13724 19869 
_CMPSTP_CNT_STOP_CLR             P        EXPT 00002080  13243 13622*
_CMPSTP_CTRL_BUSY_CLR            P        EXPT 00002004  13239 13526*13796 
_CMPSTP_CTRL_REDY_CLR            P        EXPT 00001FE6   8320  8620  8701 13238 13503*13680 13792 16287 16392 
_CMPSTP_NEAR_ZERO_CLR            P        EXPT 00002064  13242 13600*13830 
_CMPSTP_POS_START_CLR            P        EXPT 00002020   8316  8697 13240 13548*13684 13800 16283 
_CMPSTP_SFTY_AUTO_CLR            P        EXPT 0000203C  13241 13570*13769 
_CMPSTP_STEP_END_CLR             P        EXPT 000020A8  13244 13650*13826 
_CMP_ERR_CHK_STSA                         IMPT 00000000   2878 
_CMP_ERR_CHK_STSB                         IMPT 00000000   2879 
_CMP_ERR_STEP_A                           IMPT 00000000   2884 
_CMP_ERR_STEP_B                           IMPT 00000000   2885 
_CMP_ERR_STSA_INF1                        IMPT 00000000   2880 
_CMP_ERR_STSA_INF2                        IMPT 00000000   2881 
_CMP_ERR_STSA_INF3                        IMPT 00000000   2882 
_CMP_ERR_STSA_INF4                        IMPT 00000000   2883 
_CMP_ERR_TIM1                             IMPT 00000000   2581 
_CMP_HOLD_CTLGENSOK                       IMPT 00000000  17079 17514 
_CMP_LNGTH_AD_ERR_CNT                     IMPT 00000000   3682 
_CMP_POS_LSI_ACCLT1                       IMPT 00000000   3887 
_CMP_RECOVER_FLG                          IMPT 00000000   3992  9762 10257 10476 13004 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   274

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CMP_RESTP_SR_ERR_CNT                     IMPT 00000000   3683 
_CMP_STEP_ERR_TIM1                        IMPT 00000000   2583 
_CNTREST_HOS_RESET                        IMPT 00000000   6026 11234 
_CNT_BANK_CALC_ERR                        IMPT 00000000   3669 13728 
_CNT_CYCL_DISP_ST                P             00001EBC   7901 11215 13174*
_CNT_GRF_I_DATA                           IMPT 00000000   5375 
_CNT_GRF_POINT                            IMPT 00000000   5377 
_CNT_GRF_Y_DATA                           IMPT 00000000   5376 
_CNT_MODE_CNT_SIG_OUT            P             00001CE0  12721 12745*13092 
_CNT_PLSOUT_STOP_CNT                      IMPT 00000000   3936 
_CNT_REST_SPD_HOSEI_DAT                   IMPT 00000000   3675 
_CNT_REST_SPD_HOSEI_FLG                   IMPT 00000000   3676 
_CNT_SPM_DISP_CHK                P             00001ED0   8743 13194*
_CNT_STOP_CMD                             IMPT 00000000   2504  9176  9918 10093 10689 16658 17243 
_CNT_STOP_CMD_BEF1                        IMPT 00000000   4386 
_CNT_STOP_CTRL_FLG                        IMPT 00000000   3656 
_CNT_STOP_DBG_CNT                         IMPT 00000000   5337 
_CNT_STOP_LNGTH                           IMPT 00000000   3662 
_CNT_STOP_WAIT_TIM                        IMPT 00000000   5336  9929 
_CNT_SYNC_CHK_CNT1                        IMPT 00000000   3951 
_CNT_SYNC_CHK_CNT2                        IMPT 00000000   3952 
_CNT_SYNC_ERR_FLG                         IMPT 00000000   3934 
_CNT_SYNC_HOS_CNT1                        IMPT 00000000   3953 
_CNT_SYNC_HOS_DAT1                        IMPT 00000000   3948 
_CNT_SYNC_HOS_DAT2                        IMPT 00000000   3949 
_CNT_SYNC_HOS_FLAG                        IMPT 00000000   3950 
_CNT_SYNC_STS_FLG                         IMPT 00000000   3935 
_CONT_MOD_CNT_PV                          IMPT 00000000   3082  9814 12704 12771 13088 
_CONT_MOD_TIM_PV                          IMPT 00000000   3084  9802 13086 
_CONT_STOP_END_SUBPLS                     IMPT 00000000   3668 
_COP_CB_LD_MONI_SIG                       IMPT 00000000   3329 
_COP_DIG_SIG_FLG                          IMPT 00000000   3328 
_COP_OLD_ENC3600                          IMPT 00000000   3347 
_CPOS_BANK_USELFUL                        IMPT 00000000   3655 
_CPOS_CTL_MATH                            IMPT 00000000   2745  7376 10542 
_CPOS_DND_DIGTOP                          IMPT 00000000   3764 
_CPOS_DND_PLSTOP                          IMPT 00000000   3765 
_CPOS_DND_STOP_DIRECTOLD                  IMPT 00000000   3763 
_CPOS_DND_STOP_SW                         IMPT 00000000   3761 
_CPOS_DND_STOP_SWOLD                      IMPT 00000000   3762 
_CPOS_FULCLS_MATEHD_SW                    IMPT 00000000   4821 
_CPOS_KJYUCLS_OBJ                         IMPT 00000000   4823 
_CPOS_MOD_FLG1                            IMPT 00000000   2744  9972 10156 10721 
_CPOS_SDAT1_CHGAPOS                       IMPT 00000000   2742 
_CPOS_SDAT1_CHGAPOS2                      IMPT 00000000   3657 
_CPOS_SDAT1_CNTSTEP                       IMPT 00000000   2739 
_CPOS_SDAT1_INF1                          IMPT 00000000   2740 
_CPOS_SDAT1_NUM                           IMPT 00000000   2741 
_CPOS_SDAT1_OFSPOS                        IMPT 00000000   2736 
_CPOS_SDAT1_SPD                           IMPT 00000000   2737 
_CPOS_SDAT1_STPAPOS                       IMPT 00000000   2743 
_CPOS_SDAT1_STPAPOS2                      IMPT 00000000   3658 
_CPOS_SDAT1_TIM                           IMPT 00000000   2738 
_CPOS_SDAT1_UP_OFSPOS                     IMPT 00000000   2764 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   275

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPOS_SDAT1_UP_POS                        IMPT 00000000   2765 
_CPOS_STEP_MAX                            IMPT 00000000   2746  9687  9953 10025 10140 10444 13893 19452 20075 20247 
_CPOS_UPAREA_PLS                          IMPT 00000000   2759 
_CPUABD_WDTOK_FLG                         IMPT 00000000   5061 
_CPUA_CONT_MOD_CNT_PV                     IMPT 00000000   6164 12774 
_CPUA_LOT_CHK_FLG                         IMPT 00000000   6160 12754 
_CPUA_LOT_CNT_FLG                         IMPT 00000000   6162 12764 
_CPUA_SV_STEP                             IMPT 00000000  19368 
_CPUBX_MEM1_BUF                           IMPT 00000000   5391 
_CPUBX_MEM1_ENDFLG                        IMPT 00000000   5390 
_CPUBX_MEM1_RCVFLG                        IMPT 00000000   5389 
_CPUBX_MEM1_SNDEVN                        IMPT 00000000   5400 
_CPUBX_MEM1_SNDFLG                        IMPT 00000000   5402 
_CPUBX_MEM1_SNDKND                        IMPT 00000000   5401 
_CPUBX_SEND_MAXCNT                        IMPT 00000000   5397 
_CPUBX_SEND_NOWCNT                        IMPT 00000000   5398 
_CPUBX_SEND_TOPADR                        IMPT 00000000   5396 
_CPUB_CONT_MOD_CNT_PV                     IMPT 00000000   6165  9823 
_CPUB_DBG_MONI_CNT                        IMPT 00000000   6166 
_CPUB_DBG_MONI_STP                        IMPT 00000000   7415 
_CPUB_LOT_CHK_FLG                         IMPT 00000000   6161 12649 
_CPUB_LOT_CNT_FLG                         IMPT 00000000   6163 
_CPUB_PARAM_ERR_NO                        IMPT 00000000   5158 
_CPUB_SV_STEP                             IMPT 00000000  19369 19439 20062 
_CPUC_PARAM_ERR_NO                        IMPT 00000000   5157 
_CPUDX_MEM1_ENDFLG                        IMPT 00000000   5393 
_CPUDX_MEM1_RCVFLG                        IMPT 00000000   5392 
_CPUD_CHK_OLDCNT                          IMPT 00000000   5052 
_CPUD_CHK_TIME                            IMPT 00000000   5053 
_CPUX_PARAM_SEND_FLG                      IMPT 00000000   5147 
_CPUX_PARAM_SEND_NO                       IMPT 00000000   5148 
_CPU_AB_BSY_OF_JG                         IMPT 00000000   5883 
_CPU_AB_BSY_OF_OUT                        IMPT 00000000   5879 13531 13689 
_CPU_AB_BSY_ON_OUT                        IMPT 00000000   5881 
_CPU_AB_CED_OF_JG                         IMPT 00000000   5946 13468 
_CPU_AB_CED_OF_OUT                        IMPT 00000000   5942 13655 13711 
_CPU_AB_CED_ON_OUT                        IMPT 00000000   5944 13421 
_CPU_AB_CST_OF_JG                         IMPT 00000000   5935  9678 10016 10435 
_CPU_AB_CST_OF_OUT1                       IMPT 00000000   5929 13627 13703 
_CPU_AB_CST_OF_OUT2                       IMPT 00000000   5930  9702 10041 10459 13631 13707 
_CPU_AB_CST_ON_OUT1                       IMPT 00000000   5932 10194 
_CPU_AB_CST_ON_OUT2                       IMPT 00000000   5933 
_CPU_AB_DRVHLDSTOP_OF_OUT                 IMPT 00000000   5961 17836 
_CPU_AB_DRVHLDSTOP_ON_OUT                 IMPT 00000000   5960 17175 
_CPU_AB_DRVSTOP_OF_OUT                    IMPT 00000000   5901 13576 13694 
_CPU_AB_DRVSTOP_ON_OUT                    IMPT 00000000   5902  9875 10340 10494 10642 10842 10890 10925 10990 
_CPU_AB_NZR_OF_JG                         IMPT 00000000   5921 13320 
_CPU_AB_NZR_OF_OUT                        IMPT 00000000   5917 13605 13699 
_CPU_AB_NZR_ON_OUT                        IMPT 00000000   5919 13273 
_CPU_AB_RDY_OF_JG                         IMPT 00000000   5872 
_CPU_AB_RDY_OF_OUT                        IMPT 00000000   5868 13508 
_CPU_AB_RDY_ON_OUT                        IMPT 00000000   5870  8273 16181 16238 
_CPU_AB_STR_OF_JG                         IMPT 00000000   5894 
_CPU_AB_STR_OF_OUT                        IMPT 00000000   5890 13553 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   276

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPU_AB_STR_ON_OUT                        IMPT 00000000   5892  8454 
_CPU_BA_BSY_OF_OUT                        IMPT 00000000   5880 
_CPU_BA_BSY_ON_JG                         IMPT 00000000   5882 
_CPU_BA_CED_OF_OUT                        IMPT 00000000   5943 13450 
_CPU_BA_CED_ON_JG                         IMPT 00000000   5945 13440 
_CPU_BA_CST_OF_OUT                        IMPT 00000000   5931 
_CPU_BA_CST_ON_JG                         IMPT 00000000   5934 
_CPU_BA_DRVHLDSTOP_OF_JG                  IMPT 00000000   5963 17857 
_CPU_BA_DRVHLDSTOP_ON_JG                  IMPT 00000000   5962 17108 
_CPU_BA_DRVSTOP_OF_OUT                    IMPT 00000000   5904 13580 
_CPU_BA_DRVSTOP_ON_JG                     IMPT 00000000   5903  9755 10250 10469 
_CPU_BA_NZR_OF_OUT                        IMPT 00000000   5918 13302 
_CPU_BA_NZR_ON_JG                         IMPT 00000000   5920 13292 
_CPU_BA_RDY_OF_OUT                        IMPT 00000000   5869 
_CPU_BA_RDY_ON_JG                         IMPT 00000000   5871  8277  8504  8680 16185 
_CPU_BA_STEP_LOAD                         IMPT 00000000   5953  9695 10033 10452 
_CPU_BA_STR_OF_OUT                        IMPT 00000000   5891  9004 
_CPU_BA_STR_ON_JG                         IMPT 00000000   5893  8486  9020 
_CPU_SV_HAND_IN                           IMPT 00000000   2506 
_CPU_SV_HAND_IN_ON                        IMPT 00000000   2507 
_CPU_SV_HAND_OUT                          IMPT 00000000   2509 
_CPUy_RESTPLS_LTFLG                       IMPT 00000000   3954 
_CTL_ENC360                               IMPT 00000000   2518 
_CTL_ENC360_OLD                           IMPT 00000000   4038 
_CTRL_UP_HOLD_CHK                P             00001948   8885  8947 11735*
_CW_CCW_ENDSTEP_SERACH           P             00001870  11435 11481 11504 11549*
_CYCLE_SPD_CMP_FLG1                       IMPT 00000000   4296 
_CYCLE_SPD_CMP_PV_DAT                     IMPT 00000000   4297 
_CYCLE_TIME_DAT                           IMPT 00000000   2998 
_CYCLE_TIME_FLG                           IMPT 00000000   3000 
_CYCLE_TIME_PV                            IMPT 00000000   2999 
_CYCLE_TIME_REFLASH_CLR                   IMPT 00000000   6001  6440 
_CYCL_DSP_CNT_PV                          IMPT 00000000   3463 13137 13203 
_CYCL_DSP_DISENB                          IMPT 00000000   3462 13141 13158 13179 13210 
_CYCL_START_CNT                           IMPT 00000000   2762 
_CYC_END_POS_FLG_CLR                      IMPT 00000000  19518 19628 20114 
_DAIHAI_CALC_WORK1                        IMPT 00000000   4337 
_DAIHAI_CALC_WORK10                       IMPT 00000000   4346 
_DAIHAI_CALC_WORK11                       IMPT 00000000   4348 
_DAIHAI_CALC_WORK12                       IMPT 00000000   4349 
_DAIHAI_CALC_WORK13X                      IMPT 00000000   4350 
_DAIHAI_CALC_WORK2                        IMPT 00000000   4338 
_DAIHAI_CALC_WORK3                        IMPT 00000000   4339 
_DAIHAI_CALC_WORK4                        IMPT 00000000   4340 
_DAIHAI_CALC_WORK5                        IMPT 00000000   4341 
_DAIHAI_CALC_WORK6                        IMPT 00000000   4342 
_DAIHAI_CALC_WORK7X                       IMPT 00000000   4343 
_DAIHAI_CALC_WORK8                        IMPT 00000000   4344 
_DAIHAI_CALC_WORK9X                       IMPT 00000000   4345 
_DAI_CMP_SMPSTART                         IMPT 00000000   2942 
_DAI_HOSEI1_FLG                           IMPT 00000000   2932 
_DAI_MOSTPOS_SMPLE                        IMPT 00000000   6009  7383 
_DAT_MOSTPOS_SIG_CLR                      IMPT 00000000   5998  6315 
_DBG_ATO_DRV_START_FLG                    IMPT 00000000   5082 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   277

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DBG_ATO_DRV_TIME_PV                      IMPT 00000000   5083 
_DBG_ATO_DRV_TIME_PV2                     IMPT 00000000   5088 
_DBG_ATO_DRV_TIME_SV                      IMPT 00000000   5084 
_DBG_ATO_DRV_TIME_SV2                     IMPT 00000000   5089 
_DBG_CNT_GPOSINT                          IMPT 00000000   3593 
_DBG_CNT_STOP_CNT                         IMPT 00000000   3587 
_DBG_CNT_STOP_FLG                         IMPT 00000000   3586 
_DBG_CNT_STOP_SPC                         IMPT 00000000   3588 
_DBG_DNM_CLR_CNT                          IMPT 00000000   5320 
_DBG_DNM_END_CNT                          IMPT 00000000   5319 
_DBG_DNM_STR_CNT                          IMPT 00000000   5318 
_DBG_REVMOD_CTLPLS                        IMPT 00000000   3227 
_DBG_REVMOD_DNPLS                         IMPT 00000000   3229 
_DBG_REVMOD_OBJPLS                        IMPT 00000000   3226 
_DBG_REVMOD_UPPLS                         IMPT 00000000   3228 
_DBG_STEP12_CHG_DIG                       IMPT 00000000   3596 
_DBG_STEP12_CHG_POS                       IMPT 00000000   3600 
_DBG_STEP12_CHG_RSTP                      IMPT 00000000   3608 
_DBG_STEP12_CHG_SPD                       IMPT 00000000   3604 
_DBG_STEP12_CHG_TIM                       IMPT 00000000   3590 
_DBG_STEP23_CHG_DIG                       IMPT 00000000   3597 
_DBG_STEP23_CHG_POS                       IMPT 00000000   3601 
_DBG_STEP23_CHG_RSTP                      IMPT 00000000   3609 
_DBG_STEP23_CHG_SPD                       IMPT 00000000   3605 
_DBG_STEP23_CHG_TIM                       IMPT 00000000   3591 
_DBG_STEPCD_CHG_DIG                       IMPT 00000000   3598 
_DBG_STEPCD_CHG_GPS                       IMPT 00000000   3612 
_DBG_STEPCD_CHG_POS                       IMPT 00000000   3602 
_DBG_STEPCD_CHG_RSTP                      IMPT 00000000   3610 
_DBG_STEPCD_CHG_SPD                       IMPT 00000000   3606 
_DBG_STEPCD_CHG_TIM                       IMPT 00000000   3592 
_DEBUG_CMPERR_STSMAK             P             00000634   7400  7441*
_DEBUG_ENC360_STS                         IMPT 00000000   4650 
_DEBUG_ENC360_STS2                        IMPT 00000000   4651 
_DEBUG_MOD_CODE                           IMPT 00000000   5080 
_DEBUG_SIGNAL_OFF                         IMPT 00000000  11320 11331 
_DEF_DAI_POS_PV                           IMPT 00000000   2971 
_DG_PS_INF_CHK1                           EQU  00000000   2195*
_DG_PS_INF_CHK2                           EQU  0000003C   2200*
_DG_PS_INF_CONT                           EQU  00000004   2196*
_DG_PS_INF_LATE                           EQU  00000010   2199*
_DG_PS_INF_STLK                           EQU  0000000C   2198*
_DG_PS_INF_UNIT                           EQU  00000008   2197*
_DIG_AREA_CHK0                            IMPT 00000000   5985 
_DIG_AREA_CHK1                            IMPT 00000000   5986 10569 11922 12848 19777 19805 
_DIR_FLG                                  IMPT 00000000   4050 
_DISP_ENC360                              IMPT 00000000   2522 
_DISP_RE_VIEW_FLG                         IMPT 00000000   3001  6591 
_DISP_SV_DG_DAT                           IMPT 00000000   3313 
_DISP_SV_MM_DAT                           IMPT 00000000   3314 
_DIVS_32REG2_32REG1_R4_32REG2_R2          IMPT 00000000   5968 
_DIVS_64R1R2_32R4_32R2                    IMPT 00000000   5969 
_DIVS_64R1R2_32R4_64R1R2                  IMPT 00000000   5982 
_DIVU_64R1R2_32R4_32R2                    IMPT 00000000   5970 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   278

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DIVU_64R1R2_32R4_64R1R2                  IMPT 00000000   5983 
_DMATH_CNTROT                             EQU  00000001   2027* 7379 10545 12024 19392 20023 20255 
_DMATH_DNDRIV                             EQU  00000004   2029* 6862  7379 10545 11453 11947 12032 12159 12872 17485 18147 18258 
                                                         19392 19491 19665 19760 20023 
_DMATH_REVRSE                             EQU  00000002   2028*11475 11956 12028 12159 12881 
_DMATH_UPDRIV                             EQU  00000008   2030*11423 11929 12855 
_DNDINC_CTRL_STEP                         IMPT 00000000   3760 
_DND_CALC_WORK                            IMPT 00000000   2788 
_DND_OVERCHK_DIG                          IMPT 00000000   4250 
_DNM_ACC_CALFLG                           IMPT 00000000   4220 
_DNM_CTL_INC3600                          IMPT 00000000   4088 11914 12840 
_DNM_CYCLE_END                            IMPT 00000000  19514 19627 20110 
_DNM_DATA_REV_SET                         IMPT 00000000   6151  6892 18276 18304 
_DNM_DEBUG_CNT                            IMPT 00000000   4691 
_DNM_DEBUG_STS1                           IMPT 00000000   4690 
_DNM_DIR_CHG_FLG                          IMPT 00000000   4086 
_DNM_DIR_CHG_TIM                          IMPT 00000000   4087 
_DNM_DIR_FLG_INC_LATCH                    IMPT 00000000   5046 18269 
_DNM_DIR_FLG_OLD                          IMPT 00000000   4126 
_DNM_DIR_NOW_FLG                          IMPT 00000000   4084 17489 
_DNM_DIR_SAM_FLG                          IMPT 00000000   4085 
_DNM_DIR_SET_FLG                          IMPT 00000000   4083 12037 
_DNM_MAX_GENSOK_LENGTH                    IMPT 00000000   4739 
_DNM_OBJ_AREA_SIG2               P             00003CCE   6189 19747*
_DNM_RESET_AREA                           IMPT 00000000   5001  6866 18151 
_DNM_RST_SPEC_AREASIG                     IMPT 00000000   5310 19674 19812 19830 
_DNM_SET1_OBJECT_DIG_TOP                  IMPT 00000000   4082 
_DNM_SET1_OBJECT_PLS_TOP                  IMPT 00000000   4080 
_DNM_SET1_UPAREA_DIG0                     IMPT 00000000   4081 
_DNM_SET1_UPAREA_PLS0                     IMPT 00000000   4079 
_DNM_SETX_HOLD_CMP1_DEG                   IMPT 00000000   4455 
_DNM_SETX_LINK_UP_POS_DN                  IMPT 00000000   4096 19770 
_DNM_SETX_LINK_UP_POS_UP                  IMPT 00000000   4095 19772 
_DNM_SETX_MOTREP_DIR                      IMPT 00000000   5026 
_DNM_SETX_UPAREA_DIG                      IMPT 00000000   4091 
_DNM_SETX_UPAREA_PLS                      IMPT 00000000   4090 
_DNM_WSVX_CLNK_UP_POS                     IMPT 00000000   4092 
_DNM_WSVX_CLNK_UP_POS_DN                  IMPT 00000000   4094 
_DNM_WSVX_CLNK_UP_POS_UP                  IMPT 00000000   4093 
_DPCHK_CPU_ERR_TIM                        IMPT 00000000   5130 
_DPCHK_DI_ERR_TIM                         IMPT 00000000   5139 
_DPCHK_ERR_SIG                            IMPT 00000000   5129 
_DPCHK_WR_COD                             IMPT 00000000   5131 
_DPSQ022                                  EQU  0000002C   2082*
_DPSQ024                                  EQU  00000030   2083*
_DPSQ028                                  EQU  00000038   2084*
_DPSQ029                                  EQU  0000003A   2085*
_DPSQ058                                  EQU  00000074   2086*
_DPSQ287                                  EQU  0000023E   2097*
_DPSQ288                                  EQU  00000240   2098*
_DPSQ340                                  EQU  000002A8   2088*
_DPSQ341                                  EQU  000002AA   2089*
_DPSQ356                                  EQU  000002C8   2090*
_DPSQ358                                  EQU  000002CC   2091*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   279

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DPSQ359                                  EQU  000002CE   2092*
_DPSQ367                                  EQU  000002DE   2093*
_DPSQ368                                  EQU  000002E0   2094*
_DPSQ369                                  EQU  000002E2   2095*
_DRVHOS_CAL_RNA_POS                       IMPT 00000000   2964 
_DRVHOS_DEF_CNT_PV                        IMPT 00000000   2956 
_DRVHOS_DEF_RNA_POS                       IMPT 00000000   2963 
_DRVHOS_IDO_BUF                           IMPT 00000000   2968 
_DRVHOS_IDO_CNT                           IMPT 00000000   2959 
_DRVHOS_IDO_POINT                         IMPT 00000000   2957 
_DRVHOS_IDO_TOTAL                         IMPT 00000000   2967 
_DRVHOS_MOST_DN_RNAPOS                    IMPT 00000000   2965 
_DRVHOS_USE_FLG                           IMPT 00000000   2954 
_DRVHOS_WAIT_CNT_PV                       IMPT 00000000   2955 
_DRVHOS_WORK_BUF                          IMPT 00000000   2969 
_DRV_ACT_FLG                              IMPT 00000000   2655  7779  7905  8611  9089 11120 16383 
_DRV_START_INI_NEW1              P             00001E68  12991 13115*
_DRV_START_KEEP                           IMPT 00000000   3986  8099  8712  9280  9302 14777 14791 14835 14938 16121 16291 
_DRV_START_KEP_WAIT              P             000025F4   8379 14759*15722 
_DT_100PER_0                              EQU  00000064   1999*
_DT_100PER_1                              EQU  000003E8   1998*
_DUMMY_SUM_CODE                           EQU  5AA53CC3    105*
_DUM_MRTION_SEL1                          IMPT 00000000   3323 
_DUM_MTSTEP_MAXM                          IMPT 00000000   3322 
_DUM_SET1_DIG_TOP                         IMPT 00000000   3321 
_DUM_SET1_SPD_TOP                         IMPT 00000000   5107 
_DUM_UPAREA_DIG0                          IMPT 00000000   3320 
_DURING_TIM_FX                            IMPT 00000000   4653 11249 
_ELSE_CPU_START_POS_PRESET       P             00000FB8   9627*
_ELSE_ERR_FLG1                            IMPT 00000000   2577 
_ELSE_ERR_FLG2                            IMPT 00000000   2578 
_EMG_CTL_FLG_PROC                P        EXPT 0000162C   6099 11055*19500 
_EMG_OUT                                  IMPT 00000000   5823  6223 
_EMG_POS_FLG_PROC                         IMPT 00000000  19371 19496 
_EMG_SCANCUT_FLG                          IMPT 00000000   4775 
_EMG_STOP                                 IMPT 00000000   6036 15367 15426 15583 15811 16906 19200 
_EMG_STOP_SPEC                            IMPT 00000000  16556 16563 
_ENC360_BITERR_CNT                        IMPT 00000000   2542 
_ENC360_BITFLW_CNT                        IMPT 00000000   2541 
_ENC360_BITNML_CNT                        IMPT 00000000   2543 
_ENC360_HEX                               IMPT 00000000   2517 
_ENC360_INDT                              IMPT 00000000   2516 
_ENC360_INOLD                             IMPT 00000000   2515 
_ENC360_LINK_AREASIG                      IMPT 00000000   3635 
_ENC360_OVER_ENC                          IMPT 00000000   3527 
_ENC360_OVER_FLG                          IMPT 00000000   3526  8561 11084 16342 
_ENCPLS_1000MSEC_LAT                      IMPT 00000000   3429 
_ENCPLS_DELT                              IMPT 00000000   3425 
_ENCPLS_POINT_SEL                         IMPT 00000000   3428 
_ENCPLS_SPD_AVL_TOP                       IMPT 00000000   3426 
_ENCPLS_SPD_POINT                         IMPT 00000000   3427 
_ENCPLS_SPD_TOTAL                         IMPT 00000000   3421 
_ENC_PLS_SPD                              IMPT 00000000   3422 
_ENC_PLS_SPD_DIR                          IMPT 00000000   3424 12019 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   280

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ENC_SYSRST_CMD                           IMPT 00000000   2533 
_ENC_TIMEXT_FLG                           IMPT 00000000   2534 
_ENDHAND_TIMOUT_PV                        IMPT 00000000   5098 
_END_CMD_LATCH                            IMPT 00000000   2628  7871  8994  9027 
_EPCHK_COM                                IMPT 00000000   4920  7326  7632 18473 19220 
_EPCHK_DLY_TIM                            IMPT 00000000   4923 18538 18564 18592 18640 18654 18773 18938 18953 19140 
_EPCHK_ERR_TIM                            IMPT 00000000   4924 18607 18662 18738 18779 18809 18961 18996 
_EPCHK_FLG                                IMPT 00000000   4921  7246  7324  7626  7636 18467 18525 19177 19205 
_EPCHK_FORCE_VONCMD                       IMPT 00000000   4927 18805 18817 19222 
_EPCHK_RETRY_CNT                          IMPT 00000000   4925 18880 18906 18929 19042 
_EPCHK_STEP                               IMPT 00000000   4922 18529 18615 18665 18722 18782 18831 18883 18909 18964 19022 19049 
                                                         19108 19153 
_EPCHK_STOP_DISENB                        IMPT 00000000   5243 
_EPCHK_STS                                IMPT 00000000   4926 18513 18533 18688 18704 18745 18849 18874 18900 18990 19004 19065 
                                                         19090 19096 19102 19125 19131 19181 19208 19227 19329 
_EPSEN_CLR                       P        EXPT 00003B24  18399 19323*
_EPSEN_IN_CHK                    P             00003B0C  18821 19012 19301*
_EP_JMP_TBL                      P             00003628  18422*18619 
_EP_SENCER_CHECK                 P        EXPT 000036AC   7243 18461 18462*
_EP_SENCHK_STOPCONF1             P             00003AD8  18505 19253*
_EP_SENCHK_STOPCONF2             P             00003AD8  18574 19254*
_EQ_CNT_DISP_STCNT                        EQU  00000002  13113*13136 
_EQ_DND_MAX                               EQU  00000002   2032*
_EQ_ORG_HIS                               EQU  0000000A  15002*15079 15080 
_EQ_ORG_OFDIG                             EQU  00000708  15001*15014 15080 
_EQ_ORG_ONDIG                             EQU  000006FE  15000*15013 15079 
_EQ_STEP_MAX                              EQU  00000005   2025*13905 
_EQ_STEP_MX2                              EQU  0000000A   2026*
_ERRCHK_ENC360                            IMPT 00000000   4602 
_ERR_FIRST_ST                             IMPT 00000000   4989 
_ERR_INFO_A01                             EQU  00000020   2251*
_ERR_INFO_A02                             EQU  00000022   2252*
_ERR_INFO_A03                             EQU  00000024   2253*
_ERR_INFO_A04                             EQU  00000026   2254*
_ERR_INFO_A05                             EQU  00000028   2255*
_ERR_INFO_A06                             EQU  0000002A   2256*
_ERR_INFO_A07                             EQU  0000002C   2257*
_ERR_INFO_A08                             EQU  0000002E   2258*
_ERR_INFO_B01                             EQU  00000030   2259*
_ERR_INFO_B02                             EQU  00000032   2260*
_ERR_INFO_B03                             EQU  00000034   2261*
_ERR_INFO_B04                             EQU  00000036   2262*
_ERR_INFO_B05                             EQU  00000038   2263*
_ERR_INFO_B06                             EQU  0000003A   2264*
_ERR_INFO_B07                             EQU  0000003C   2265*
_ERR_INFO_B08                             EQU  0000003E   2266*
_ERR_INFO_C01                             EQU  00000000   2243*
_ERR_INFO_C02                             EQU  00000004   2244*
_ERR_INFO_C03                             EQU  00000008   2245*
_ERR_INFO_C04                             EQU  0000000C   2246*
_ERR_INFO_C05                             EQU  00000010   2247*
_ERR_INFO_C06                             EQU  00000014   2248*
_ERR_INFO_C07                             EQU  00000018   2249*
_ERR_INFO_C08                             EQU  0000001C   2250*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   281

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ERR_INFO_DLY_TIM                         IMPT 00000000   3521 
_ERR_INFO_RST_CLR                         IMPT 00000000   6020  6567 
_ERR_INFO_SAVE_FLG                        IMPT 00000000   3522 
_ERR_INFO_SAVE_LATCH                      IMPT 00000000   3523 
_ERR_LEV_IN2                              IMPT 00000000   4275  6198 
_ERR_LEV_IN3                              IMPT 00000000   4276  6201 
_ERR_LEV_IN4                              IMPT 00000000   4277  6204 
_ERR_LEV_IN5                              IMPT 00000000   4278  6207 
_ERR_LEV_IN6                              IMPT 00000000   4279 
_EXQ_CTL_FLG_PROC                P        EXPT 00001684   6100 11060 11111*
_EXQ_LT_CMPSTEP_STEP_END                  IMPT 00000000   5294 19561 19871 19901 
_EXQ_LT_GET_FLG                           IMPT 00000000   5293 19396 19861 19903 
_EXQ_LT_PROC_CNT1                         IMPT 00000000   5295 19404 20029 
_EXQ_LT_PROC_CNT2                         IMPT 00000000   5296 19528 20123 
_EXQ_LT_PROC_CNT3                         IMPT 00000000   5297 19602 20212 
_EXQ_LT_PROC_CNT4                         IMPT 00000000   5298 19575 20162 
_EXQ_OUT                                  IMPT 00000000   5824  6247 
_EXQ_PROC_STEP_RECOVER           P             00003B44   6468 19374*
_EXQ_STOP                                 IMPT 00000000   6140 17669 
_EXQ_STOP_LEV_POS_CLR                     IMPT 00000000   6022 11222 
_EXTDRV_BTTN_ERR_TIM                      IMPT 00000000   4844 16882 17042 
_EXTDRV_BTTN_USE                          IMPT 00000000   4837 16740 16855 17006 
_EXTDRV_UTINUKI_FLG                       IMPT 00000000   4838 16793 16806 16981 
_EXT_BTTN_FLG                             IMPT 00000000   4841 16850 
_EXT_DRVBTTN_ERRTIM_SET          P             0000300C  16867 17018 17036*
_EXT_DRVBTTN_INFO_MAKE           P             00002ED4  16728 16780*
_EXT_DRVBTTN_MODE                P        EXPT 00002E88  16716 16717*
_EXT_DRVBTTN_MODJG_CONF          P             00002F94  16734 16932*
_FPU_DIVS_32REG2_32REG1_R4_32REG*         IMPT 00000000   5975 
_FPU_DIVS_32REG2_DIV_32REG4_R2_M*         IMPT 00000000   5976 
_FPU_POS_HOKAN1                           IMPT 00000000   5988 
_FPU_R2_MUL_R1_DIV_R4                     IMPT 00000000   5973 16477 16487 
_FPU_R2_MUL_R1_R3_DIV_R4                  IMPT 00000000   5974 
_FPU_TIM_HOKAN1                           IMPT 00000000   5989 
_FRCYCL_OF                                IMPT 00000000   5839  9098 12365 
_FRCYCL_ON                                IMPT 00000000   5840 12411 
_FREQ_BAS_SV_SPD                          IMPT 00000000   3568 
_FREQ_PLSI_MAX_FRQ                        IMPT 00000000   3567 
_FREQ_SV_SPD                              IMPT 00000000   3500 
_FR_CYL_MASK_FLG                          IMPT 00000000   2627 12360 12406 
_FULCLS_ELSE_STS                          IMPT 00000000   4827 
_FULCLS_MATHED                            IMPT 00000000   4817 
_FULCLS_TIM_SETFLG                        IMPT 00000000   4825 
_FULL_CLS_OBJ_MM                          IMPT 00000000   3063 
_FUL_CLS_DLYTM_SV                         IMPT 00000000   4657 
_FUL_CLS_MAXOVER_F                        IMPT 00000000   4658 
_FUL_CLS_RNADIG                           EQU  00000320   2003*
_FUL_DATA_INIT                            IMPT 00000000   6006 13834 
_FWD_REV_STSIG_OFF                        IMPT 00000000   6017 
_GMN_OVER_LIDE_FLG                        IMPT 00000000   3866 
_GPOSIN_HOS_RESET                         IMPT 00000000   6025 11228 
_HENSA_OVER_MOVE_CNT                      IMPT 00000000   3942 
_HENSA_OVER_STOP_CNT                      IMPT 00000000   3943 
_HENSA_OVR_ENCPOS                         IMPT 00000000   2863 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   282

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_HENSA_OVR_OUTPLS                         IMPT 00000000   2862 
_HIGH_DIVS_32REG2_16REG1_R4_16RE*         IMPT 00000000   5971 
_HIGH_S32R2_MUL_S32R1_DIV_S32R4_*         IMPT 00000000   5972 
_HIST_DAT_SEND_COM                        IMPT 00000000   5369 
_HIST_DAT_SEND_DIS                        IMPT 00000000   5368  6558 
_HIST_EVENT_COD                           IMPT 00000000   5370 
_HIST_KEP_SEND_COM                        IMPT 00000000   5371 
_HOLD1_DNSTART_POSCHK            P             000031FC  17358 17479*
_HOLD_RESTART_BA_JG              P             000033CC   7841 17852*
_HOLD_RESTART_OF_OUT             P             000033B8   7837 17831*17971 
_HOLD_STOP_BA_JG                 P             000034B0   7786 18050*
_INCENC_ADD                               EQU  00000000   2054*
_INCENC_LINK_NOWROT_NUMPLS_ZR             IMPT 00000000   2684 
_INCENC_LINK_NOWROT_NUM_ZR                IMPT 00000000   2683 
_INCENC_LINK_NOWROT_OFSPLS                IMPT 00000000   2685 
_INCHEN_ADD                               EQU  00000000   2053*
_INCREV_ADD                               EQU  00000000   2058*
_INCRNA_ADD                               EQU  00000000   2055*
_INCSTP_ADD                               EQU  00000000   2056*
_INC_ABS_ORGWORK                          IMPT 00000000   2910 
_INC_ABS_ORGWORK2                         IMPT 00000000   4329 
_INC_ABS_ORGWORK2A                        IMPT 00000000   4330 
_INC_ENC360                               IMPT 00000000   2521 10562 15010 18297 19774 19802 
_INC_ENC_MM_POS                           IMPT 00000000   2705 
_INC_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2686 
_INC_OFS_ORGWORK2A                        IMPT 00000000   4331 
_INC_RESET_STEP                           IMPT 00000000   5041 18095 18197 18244 
_INC_RESET_USE_F                          IMPT 00000000   5042 18098 18311 
_INC_RSTMODE_CHK                 P             000034DC   6832 18120*
_INC_RST_WORK_CLR                P        EXPT 000034C0  18086 18090*
_INC_SPEC_RSTCHK                 P        EXPT 000035FE  18126 18344 18345*
_INC_STOP_CNT                             IMPT 00000000   3241 
_INFO_CHK1_COD                            EQU  5AA51234   2193*
_INFO_CHK2_COD                            EQU  4321A55A   2194*
_INPUT_MODE_SW                            IMPT 00000000   2576 
_INP_ERR_FLG                              IMPT 00000000   4593 
_INP_MODE                                 IMPT 00000000   2608  6657  6693  6725  7191 11370 15358 15390 16014 18355 
_INSERT_MOT_SV_CHGF                       IMPT 00000000   5106 
_INT1MS_SCAN_02MS                         IMPT 00000000   4268 
_INT1MS_SCAN_03MS                         IMPT 00000000   4269 
_INT1MS_SCAN_05MS1                        IMPT 00000000   4270 
_INT1MS_SCAN_05MS2                        IMPT 00000000   4271 
_INT1MS_SCAN_10MS                         IMPT 00000000   4272 
_INT_CLS_CTL_FLG                          IMPT 00000000   2829 11032 11149 
_INT_CLS_DYL_TIM                          IMPT 00000000   2830 
_INT_CYC_DRV_STS                          IMPT 00000000   2828 
_INT_DND_CTL_STEP                         IMPT 00000000   2824 
_INT_DND_NEG_STEP                         IMPT 00000000   2832 
_INT_DND_STEP_FLG                         IMPT 00000000   2827 
_INT_LINK_TOTAL_ABSPLS                    IMPT 00000000   2841 
_INT_POS_CTL_FLAG                         IMPT 00000000   2825 15601 
_INT_POS_CTL_STEP                         IMPT 00000000   2822  9685  9951 10023 10138 10442 10555 11073 11752 11903 12828 13891 
                                                         17323 
_INT_POS_STEP_FLG                         IMPT 00000000   2826 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   283

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_INT_SFY_INP_DAT                          IMPT 00000000   3628 
_INT_STP_INP_DAT                          IMPT 00000000   3629 
_INT_STP_INP_DAT1                         IMPT 00000000   3630 
_INT_STP_INP_DAT2                         IMPT 00000000   3631 
_INT_STP_INP_DAT3                         IMPT 00000000   3632 
_IN_PARAM_RNA_CHK                         IMPT 00000000   4025 15192 
_IN_POS_GPOINT_POS                        IMPT 00000000   3927 
_IN_RDY_FLG                               IMPT 00000000   2616  7344  7610  7689  9068 11089 
_IN_RNA_REF_ERR_FLG1                      IMPT 00000000  14649 
_IN_RNA_REF_ERR_FLG2                      IMPT 00000000  14650 
_IRQ_EMG_CNT                              IMPT 00000000   3622 
_IRQ_EMG_FLG                              IMPT 00000000   3621 
_IRQ_EMG_STP_CLR                          IMPT 00000000   6023  6417 
_IRQ_SFY_CNT                              IMPT 00000000   3624 
_IRQ_SFY_FLG                              IMPT 00000000   3623 
_IRQ_STP_CNT                              IMPT 00000000   3626 
_IRQ_STP_FLG                              IMPT 00000000   3625 
_KAJLIV_TTL_IDOBUF                        IMPT 00000000   4183 
_KAJLIV_TTL_POINT                         IMPT 00000000   4182 
_KAJLIV_TTL_TOTAL                         IMPT 00000000   4180 
_KJPHOS_CAL_PRS                           IMPT 00000000   2991 
_KJPHOS_DEF_CNT_PV                        IMPT 00000000   2983 
_KJPHOS_IDO_BUF                           IMPT 00000000   2986 
_KJPHOS_IDO_CNT                           IMPT 00000000   2980 
_KJPHOS_IDO_POINT                         IMPT 00000000   2979 
_KJPHOS_IDO_TOTAL                         IMPT 00000000   2985 
_KJPHOS_SAMPLING1                         IMPT 00000000   6117  7389 
_KJPHOS_SIG_CLR                           IMPT 00000000   6116  6324 
_KJPHOS_USE_FLG                           IMPT 00000000   2978 
_KJPHOS_WAIT_CNT_PV                       IMPT 00000000   2982 
_KJYUCLS_KN_HENSA                         IMPT 00000000   4814 
_KJYUCLS_KN_HENSA_PLS                     IMPT 00000000   4815 
_KJYUCLS_OBJ_KN                           IMPT 00000000   4813 
_KJYUU_DEF_DAT_PV                         IMPT 00000000   2989 
_KJYUU_IN_DAT_PV                          IMPT 00000000   2988 
_KJYUU_NEW_DAT_PV                         IMPT 00000000   2990 
_KJYU_CHK_NEARSIG                         IMPT 00000000   4824 
_KJYU_CMP_CMD                             IMPT 00000000   4883 
_KJYU_CMP_SEQHABA                         IMPT 00000000   4889 
_KJYU_CMP_SEQMINS                         IMPT 00000000   4888 
_KJ_AREATRD_SIG                           IMPT 00000000   4865 
_KJ_AREATRD_SIG_OLD                       IMPT 00000000   4866 
_KJ_AREA_BT0_OLD                          IMPT 00000000   3746 
_KJ_AREA_SIG                              IMPT 00000000   3745 
_KOMA_ASM_RAM_TOP                         IMPT 00000000   2469 
_LINKX_SV_OBJ_ABSPLS                      IMPT 00000000   3661 
_LINK_1000ROT_PLS                         IMPT 00000000   4201 
_LINK_1ROT_PLS                            IMPT 00000000   2756 
_LINK_2ROT_PLS                            IMPT 00000000   4198 
_LINK_3ROT_PLS                            IMPT 00000000   4199 
_LINK_4ROT_PLS                            IMPT 00000000   4200 
_LINK_CLANK_DIG_MAK                       IMPT 00000000   6124 14049 
_LINK_CLANK_PV                            IMPT 00000000   3478 14053 20267 
_LINK_MAX_SPD_PLS                         IMPT 00000000   3031 16466 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   284

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LINK_NOWROT_NUMPLS_ZR                    IMPT 00000000   2679 
_LINK_NOWROT_NUM_ZR                       IMPT 00000000   2678 
_LINK_NOWROT_OFSPLS                       IMPT 00000000   2680 
_LINK_NOWROT_OFSPLS_P                     IMPT 00000000   2681 18185 
_LINK_OBJROT_NUMPLS_ZR                    IMPT 00000000   2750 
_LINK_OBJROT_NUM_ZR                       IMPT 00000000   2749 
_LINK_POS_OFFSET1                         IMPT 00000000   2843 
_LINK_POS_OFFSET2                         IMPT 00000000   2844 
_LINK_PV_ABSPLS                           IMPT 00000000   2842 14020 14127 16597 
_LINK_RL_OBJ_ABSPLS                       IMPT 00000000   2803 
_LINK_SV_OBJ_ABSPLS                       IMPT 00000000   2811 
_LINK_SV_OBJ_SPDPLS                       IMPT 00000000   2812 
_LNGTH_ADD_DATA                           IMPT 00000000   2837 
_LNGTH_TOTAL_OUTPLS                       IMPT 00000000   2838 
_LONG_BIT_TBL0                            IMPT 00000000   6047 13931 
_LOT_CHK_DBG_CNT1                         IMPT 00000000   3465 
_LOT_CHK_DBG_CNT2                         IMPT 00000000   3466 
_LOT_CHK_FLG                              IMPT 00000000   2648 12628 12751 12802 
_LOT_CNT_CNT                     P             00001C5C   7357 12616*
_LOT_CNT_FLG                              IMPT 00000000   2646 10593 12670 12685 12761 12807 
_LOT_SIG_FLG_CLR                 P        EXPT 00001D18   6430 12788 12798*19523 20118 
_LOT_SIG_SET                              IMPT 00000000  12615 12699 
_LSA1_FILETR_TIM                          IMPT 00000000   3727 
_LSA2_FILETR_TIM                          IMPT 00000000   3728 
_LSA_CHK_DELAY_TM                         IMPT 00000000   3733 
_LSA_ENC_DIG                              IMPT 00000000   3720 
_LSA_ENC_MOV_LNG1A                        IMPT 00000000   3721 
_LSA_ENC_MOV_LNG1B                        IMPT 00000000   3722 
_LSA_ENC_MOV_LNG2                         IMPT 00000000   3723 
_LSA_ERRCLR_INI                           IMPT 00000000   6015  6328 
_LSA_ERR_SIG                              IMPT 00000000   3732 
_LSA_SIG_DT                               IMPT 00000000   3724 
_LSA_SIG_DT2                              IMPT 00000000   4049 
_LSA_SIG_OLD_DT                           IMPT 00000000   3725 
_LSA_SIG_OLD_WRK                          IMPT 00000000   3726 
_LSI_BUF_PLS_BitComdL                     IMPT 00000000   3584 
_LSI_CHK_DBG_CNT1                         IMPT 00000000   4457 
_LSI_CHK_DBG_CNT2                         IMPT 00000000   4458 
_LSI_CHK_DBG_CNT3                         IMPT 00000000   4459 
_LSI_CHK_DBG_CNT4                         IMPT 00000000   4460 
_LSI_CMPCPUAB_POSMAX                      IMPT 00000000   3563 
_LSI_CMPCPUAB_POS_RL                      IMPT 00000000   3562 
_LSI_LOAD_PLS                             IMPT 00000000   5167 
_LSI_PLSCLR_AC_CNT1                       IMPT 00000000   3552 
_LSI_PLSCLR_NG_CNT1                       IMPT 00000000   3553 
_LSI_PLSCLR_NG_CNT2                       IMPT 00000000   3554 
_LSI_PLSCLR_RETRY_CNT1                    IMPT 00000000   3535 
_LSI_PLSCMP_AC_CNT1                       IMPT 00000000   3548 
_LSI_PLSCMP_NG_CNT1                       IMPT 00000000   3546 
_LSI_PLSCMP_RETRY_CNT1                    IMPT 00000000   3545 
_LSI_PLSRD_NG_CNT1                        IMPT 00000000   3549 
_LSI_PLSSET_AC_CNT1                       IMPT 00000000   3555 
_LSI_PLSSET_AC_CNT2                       IMPT 00000000   3556 
_LSI_PLSSET_NG_CNT1                       IMPT 00000000   3557 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   285

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LSI_PLSSET_NG_CNT2                       IMPT 00000000   3558 
_LSI_PLSSET_NG_CNT3                       IMPT 00000000   3559 
_LSI_PLSSET_RETRY_CNT1                    IMPT 00000000   3536 
_LSI_SET_SPD_MAXLMT                       IMPT 00000000   3646 
_LSI_SET_SPD_MINLMT                       IMPT 00000000   3647 
_LSI_SET_SPD_SV                           IMPT 00000000   3645 
_LT_INT_LINK_RL_OBJ_ABSPLS                IMPT 00000000   3496 
_LT_LINK_SV_OBJ_ABSPLS                    IMPT 00000000   3495 
_LT_LNGTH_ADD_DATA                        IMPT 00000000   3497 
_LT_LNGTH_TOTAL_OUTPLS                    IMPT 00000000   3498 
_LT_RNA_REF_ERR_FLG1                      IMPT 00000000  14641 14652 
_MAIN_CLK                                 IMPT 00000000   4761 
_MAIN_START_OK                            IMPT 00000000   2479 
_MASK2_SAFTY_MAK                 P             00002784   7279 15240*
_MASK2_SAFTY_SW_MOV              P             000027E4   8057 15309*
_MCN_DBG_COD11                            EQU  00000063   2228*
_MCN_DBG_COD21                            EQU  00000059   2230*
_MCN_DBG_COD22                            EQU  00000058   2231*
_MCN_DBG_COD23                            EQU  00000058   2232*
_MCN_DBG_COD31                            EQU  0000004F   2234*
_MCN_DBG_COD32                            EQU  0000004E   2235*
_MCN_DBG_COD33                            EQU  0000004D   2236*
_MCN_FUJI_DBG1                            EQU  000004D2   2238*
_MNWR_POS_CMD                             IMPT 00000000   2772  8790  8805  9871 10336 10490 10637 10838 10886 10921 10986 15603 
                                                         17171 
_MN_POS_CTRL_ACT                          IMPT 00000000   5994  8989 
_MN_POS_CTRL_START                        IMPT 00000000   5993  8580 
_MODE_AREA_MAKE                  P        EXPT 00000514   6107  7212*
_MODE_CHANGE                     P        EXPT 00000438   6105  7003*
_MODE_CNTCNF1_STOP_CHK           P             00001180  10067*10396 
_MODE_CNTCOM1_STOP_CHK           P             00001138  10010*10392 
_MODE_CNTCOM2_STOP_CHK           P             000011C0  10127*10412 
_MODE_CNT_STOP_CHK               P             00000FC0   8851  9673*
_MODE_CSS_STOP_CHK               P             000012D4   8836 10369*
_MODE_CTRL                       P        EXPT 00000524   6106  7236*
_MODE_DIC_STOP_CHK               P             000014D4   8980 10773*
_MODE_DUP_STOP_CHK               P             00001540   8967 10863*
_MODE_INC_STOP_CHK               P             000014C0   8867 10755*
_MODE_OPT_STOP_CHK               P             000014C0   8951 10754*
_MODE_SEL                                 IMPT 00000000   2609  7583  8249  8824  9044  9162  9338  9363  9472 10221 10374 11372 
                                                         11405 12504 12622 13043 13130 13198 14390 14512 14559 17129 19380 19752 
                                                         20013 
_MODE_SGL_STOP_CHK               P             00001224   8897 10216*
_MONI_CPUAB_PLSDELT                       IMPT 00000000   3902 
_MONI_DISP_MOD                            IMPT 00000000   5373 
_MONI_RDY_STEP                            IMPT 00000000   4982  7935  7957  7993  8144  8201  8219  8234  9145  9158  9172  9191 
_MONI_RESET_STEP                          IMPT 00000000   4981  6690  6709  6722  6740  6750  6776  6788  6812  6825  6877  6908 
                                                          6928  6949 
_MONI_SELF_STS1                           IMPT 00000000   4983 
_MONI_SELF_STS2                           IMPT 00000000   4984 
_MOT_REP_CNT                              IMPT 00000000   5028 
_MOT_REP_F                                IMPT 00000000   5027 13938 
_MOVE_MODE_MATH_LATCH                     IMPT 00000000   5045 18263 
_MOV_DATA_ERR_FLG1                        IMPT 00000000   2582 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   286

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_MOV_ERR_FLG1                             IMPT 00000000   2579 
_MRTION_SEL                               IMPT 00000000   2614 
_MULDIV_R1R2S64mR3S32dR4S32aR1R2*         IMPT 00000000   5979 
_MULDIV_R2S32mR1S32dR4S32aR1R2S6*         IMPT 00000000   5978 
_MUL_R1R2S64mR3S32aR1R2S64                IMPT 00000000   5980 
_MYUTING_MOD_STOPSEL                      IMPT 00000000   4710 12291 12485 
_M_LINK_AREASIG                           IMPT 00000000   2688  6920 10549 11786 18166 19698 
_M_LINK_RL_OBJ_ABSPLS                     IMPT 00000000   2796 
_NEAR_IN_FLG                              IMPT 00000000   2671 13838 
_NEG_CTL_OBJ_POS_PUSH                     IMPT 00000000   4309 
_NEG_CTRL_BEFOR_OBJ_PLS                   IMPT 00000000   4307 
_NEG_CTRL_BEFOR_SLW_PLS                   IMPT 00000000   4308 
_NEG_EXITTIM                              IMPT 00000000   4679 
_NEWMASK_SEL_STOPMSK             P             00001B30   8079  8106 11144 12285*16108 16128 
_NEW_POSLSI_RESTPLS                       IMPT 00000000   3564 
_NEW_TEP_CNT                              IMPT 00000000   3792 
_NOW_INC_DIG_MAK                          IMPT 00000000   6042 18180 
_NOW_MOTREP_DIR                           IMPT 00000000   5029 
_NOW_POS_PRESET_OUTPLS                    IMPT 00000000   5995  6350 
_NZ_TIM_CHK1                     P        EXPT 0000242C  14277 14332*
_NZ_TIM_OUT_PV1                           IMPT 00000000   3380 10759 14300 14342 
_NZ_TIM_OUT_PV2                           IMPT 00000000   3381 14310 14357 
_NZ_TIM_OUT_SV1                           IMPT 00000000   3378 14293 14336 
_NZ_TIM_OUT_SV2                           IMPT 00000000   3379 14303 14351 
_OBJDIG_CLANK                             IMPT 00000000   4682 
_OBJ_ENC360                               IMPT 00000000   2523 
_OLD_RNAORG_POS1                          IMPT 00000000   2510 
_OPT_SGL_SFTY_MASK_CHK           P             00001BD8  12131 12478*
_ORGIN2_STEP_FLG                          IMPT 00000000   4318 
_ORGIN_180CHK                    P             00002678   7999 15005*
_ORGIN_END_FLG1                           IMPT 00000000   3053 
_ORGIN_MOD2_CHKTIM                        IMPT 00000000   3816 14465 14571 
_ORGIN_MOD2_SEL                           IMPT 00000000   3815 14432 14527 14586 14603 
_ORGIN_MOD2_START_FLG                     IMPT 00000000   3817 14458 14487 14565 
_ORGIN_MODE_FLG_CLR              P        EXPT 000024D4   8449 10974 11241 14476 14482*
_ORGIN_MODE_SEL_START            P             000024E8   8390 14507*
_ORGIN_MODE_SEL_WAIT             P             0000246C   8417 14385*
_ORGIN_MODE_START_WAIT           P             0000251C   7966 14555*
_ORGPOS_LATCH1_INC_OFFSET_PLS             IMPT 00000000   4374 
_ORGPOS_LATCH1_RNA_ABS_DAT                IMPT 00000000   4375 
_ORGPOS_SERCH_RNA_ABS_DAT                 IMPT 00000000   4376 
_ORG_DND_NOMAL_FLG1                       IMPT 00000000   2586  6743 
_ORG_DRV_CNT_PV                           IMPT 00000000   3452 13126 
_ORG_ELSE_NOMAL_FLG1                      IMPT 00000000   2585  6780 
_ORG_END_SIG_CLR                          IMPT 00000000   5999  6319 
_ORG_FIRST_OBJPLS                         IMPT 00000000   3044 
_ORG_PRESET_TIM                           IMPT 00000000   2594  6347 
_ORG_RDY_CTL_FLG                          IMPT 00000000   3453 10907 11156 13121 
_ORG_SECOND_OBJPLS                        IMPT 00000000   3045 
_ORIGN_180ARA_FLG                         IMPT 00000000   4010 15050 15113 15149 16369 
_ORIGN_OBJ_CTL_FLG                        IMPT 00000000   3648 
_OUTPLS_1000MSEC_LAT                      IMPT 00000000   3439 
_OUTPLS_DELT                              IMPT 00000000   3435 
_OUTPLS_DIV                               IMPT 00000000   2846 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   287

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_OUTPLS_MOD                               IMPT 00000000   2845 
_OUTPLS_POINT_SEL                         IMPT 00000000   3438 
_OUTPLS_SPD_AVL_TOP                       IMPT 00000000   3436 
_OUTPLS_SPD_POINT                         IMPT 00000000   3437 
_OUTPLS_SPD_TOTAL                         IMPT 00000000   3431 
_OUT_PLS_SPD                              IMPT 00000000   3432 
_OUT_PLS_SPD_DIR                          IMPT 00000000   3434 
_OVER1_JGDIG                              EQU  00000032   2037*
_OVERH_CALC_USE                           IMPT 00000000   4676 
_OVERH_MODE_SEL                           IMPT 00000000   4674 
_OVERLIDE_DT_SEL                          IMPT 00000000   3864 
_OVERLID_DEF_SET                          IMPT 00000000   6122  6585 
_OVER_LIDE_ANS_TIM                        IMPT 00000000   3891 
_OVER_RIDE_LATE_ANS                       IMPT 00000000   3854 
_OVER_RIDE_LATE_FLG                       IMPT 00000000   3852 
_OVER_RIDE_LATE_REQ                       IMPT 00000000   3853 
_OVER_RIDE_USEFUL                         IMPT 00000000   3886 
_OVER_RID_UPDN_LAT_DTMK                   IMPT 00000000   6120  8535 
_OVER_UPDN_DBGCNT                         IMPT 00000000   3888 
_OVRLIDE_LATE_MAX                         EQU  00000064   2269*
_PAR_BRKDISE_TIM                          IMPT 00000000   6070 
_PAR_BRKLOCK_TIM                          IMPT 00000000   6071 
_PAR_BTNER_TM                             IMPT 00000000   6088 17040 
_PAR_EP1STR_DLYTM                         IMPT 00000000  18402 18638 
_PAR_EP2FVINOF_ERTM                       IMPT 00000000  18403 18660 
_PAR_EP3BRKON_DLYTM                       IMPT 00000000  18404 18771 
_PAR_EP4EPINOF_ERTM                       IMPT 00000000  18405 18777 
_PAR_EP5RSTON_DLYTM                       IMPT 00000000  18406 18936 
_PAR_EP6RSTOF_INTTM                       IMPT 00000000  18408 18951 
_PAR_EP6RSTON_JGTM                        IMPT 00000000  18407 18959 
_PAR_EP6RST_RETRY                         IMPT 00000000  18409 19040 
_PAR_EP7AB_DLYTM                          IMPT 00000000  18410 18652 
_PAR_EP7END_DLYTM                         IMPT 00000000  18411 19138 
_PAR_EPCHK_SEL                            IMPT 00000000  18401 18490 
_PAR_EXTDRV_SEL                           IMPT 00000000   6087 16722 
_PAR_INCMODE_EPLS                         IMPT 00000000   6094 18201 
_PAR_INCMODE_SEL                          IMPT 00000000   6093 18350 
_PAR_MYUTERR_SEL                          IMPT 00000000   6089 15342 
_PAR_MYUTING_SEL                          IMPT 00000000   6084 15245 
_PAR_MYU_BRK_SEL                          IMPT 00000000   6152  8073 16102 
_PAR_ORGDRV_CNT                           IMPT 00000000   6066 13124 
_PAR_ORGDRV_MOD                           IMPT 00000000   6065 10868 14418 
_PAR_SELFCHK_POWSEL                       IMPT 00000000   9582  9588 16403 
_PAR_SELF_WAIT_TM                         IMPT 00000000   6072 
_PAR_SFTY_BRKSEL                          IMPT 00000000   6069 
_PAR_SLOCK_DLY2                           IMPT 00000000   6073 
_PAR_UPCHK_SEL1                           IMPT 00000000   6077 11651 11814 
_PAR_UPMASK_SPD                           IMPT 00000000   6080 12066 
_PLSOUTEND_FLG                            IMPT 00000000   5190 
_PLSOUTEND_PVPLS                          IMPT 00000000   5188 
_PLSOUTEND_SHIN                           IMPT 00000000   5189 
_PLS_OUTPUT_FLG                           IMPT 00000000   3371 
_PLS_OUT_END_STS                          IMPT 00000000   4744 
_PON_ERR_WAIT_TIM                         IMPT 00000000   5120 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   288

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POSCANSEL_CMD                            IMPT 00000000   5309 10961 19933 19954 
_POSCAN_PROC_STEP_RECOVER        P             00003DFC  19964 20007*
_POSCTL_CALC_ERR                          IMPT 00000000   3839 
_POSCTL_OVER_ACC_LAT                      IMPT 00000000   3895 
_POSCTL_OVER_SPD_LAT                      IMPT 00000000   3894 
_POSCTL_RL_PLS                            IMPT 00000000   3826 
_POSCTL_RL_SPD                            IMPT 00000000   3830 
_POSCTL_SET_SPD                           IMPT 00000000   3828 
_POSCTL_STEP_CMD                          IMPT 00000000   3837 
_POSCTL_STEP_FLG                          IMPT 00000000   3838 
_POSCTL_SV_DN_ACC                         IMPT 00000000   3833 
_POSCTL_SV_OFS_SPD                        IMPT 00000000   3835 
_POSCTL_SV_PLS                            IMPT 00000000   3825 
_POSCTL_SV_SPD                            IMPT 00000000   3829 
_POSCTL_SV_UP_ACC                         IMPT 00000000   3832 
_POSCTRL_CANSEL_RESET            P             00003DAC   7273 19929*
_POSHLD1_CHKLST_FLG                       IMPT 00000000   4976 17292 17302 17696 
_POSHLD1_FLG_CLR                 P             00003318  17689*17895 
_POSHLD1_GENSKPOSWK                       IMPT 00000000   4955 
_POSHLD1_GENSK_STEP                       IMPT 00000000   4956 
_POSHLD1_SDAT1_HOLDPOS                    IMPT 00000000   4958 17508 
_POSHLD1_SDAT2_HOLDPOS                    IMPT 00000000   4959 17495 
_POSHLD1_SIG_CHK                 P             00003344   7738 17724*
_POSHLD1_STEP1_STOPCMD_CHK       P             00003024   8752 17085*
_POSHLD1_STEP2_START_CHK         P             00003240  17537*17813 
_POSHLD1_STOPBTTNCMD_CHK         P             000030EC   7775  7812 17160 17238*
_POSHLD1_STOPLATCH                        IMPT 00000000   4964  9900 10077 17255 17953 
_POSHLD1_STOPSPDWK                        IMPT 00000000   4953 
_POSHLD1_STOP_CONFCHK            P             00003118  17137 17276*
_POSHLD1_STOP_STEP                        IMPT 00000000   4952 17304 
_POSHLD1_STOP_STEPWK                      IMPT 00000000   4951 
_POSHLD_SET_DN_ACC                        IMPT 00000000   4963 
_POSINER_FLG                              IMPT 00000000   4905 
_POSINER_MOSTPV_POS                       IMPT 00000000   4901 
_POSINER_OLDPV_POS                        IMPT 00000000   4900 
_POSINER_PV_POS                           IMPT 00000000   4899 
_POSINER_RETRY_CNT                        IMPT 00000000   4907 
_POSINER_STOPCHK_TIM1                     IMPT 00000000   4908 
_POSINER_STOPCHK_TIM2                     IMPT 00000000   4909 
_POSINER_STS                              IMPT 00000000   4906 
_POSINER_SV_OVRPOS                        IMPT 00000000   4903 
_POSINER_SV_POS                           IMPT 00000000   4902 
_POSINER_SV_STPPOS                        IMPT 00000000   4904 
_POSLSI_CHK_CNT                           IMPT 00000000   2855 
_POSLSI_CHK_DLT                           IMPT 00000000   2856 
_POSLSI_CHK_RESTPLS                       IMPT 00000000   2849 
_POSLSI_CHK_STS                           IMPT 00000000   2857 
_POSLSI_CMP_DATA                          IMPT 00000000   2839 
_POSLSI_DELT_POS                          IMPT 00000000   2840 
_POSLSI_DRIV_SHIN                         IMPT 00000000   2848 
_POSLSI_DRV_FRQ                           IMPT 00000000   3565 
_POSLSI_HENSA_LATCH                       IMPT 00000000   2853 
_POSLSI_OUTPUT_TOTAL_PLS                  IMPT 00000000   2851 
_POS_CALC_ERR_FLG1                        IMPT 00000000   3538 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   289

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POS_CALC_ERR_FLG2                        IMPT 00000000   3539 
_POS_CALC_ERR_INF1                        IMPT 00000000   3542 
_POS_CALC_ERR_INF2                        IMPT 00000000   3543 
_POS_CANSEL_CLR                  P             00001600  10970 11019*
_POS_CANSEL_STOP_CHK             P             000015AC   8774 10948*
_POS_CMP_1STEP_START_INI         P        EXPT 00002194  13249 13765 13821*
_POS_CTRL_SQ_STS                          IMPT 00000000   2819  8008 11177 12997 13848 
_POS_DRV_DIRECT                           IMPT 00000000   2813 
_POS_END_MYUTIG_KEEPTIM                   IMPT 00000000   5209 
_POS_END_MYUTIG_STOPTIM                   IMPT 00000000   5208 
_POS_END_WAIT_TIM                         IMPT 00000000   5199 
_POS_FRQ_SPDMAX                           IMPT 00000000   3037 
_POS_GPOINT_POS                           IMPT 00000000   3928 
_POS_HLDSTOP1_CHKTIM                      IMPT 00000000   4935 17561 17587 
_POS_HLDSTOP1_FLG                         IMPT 00000000   4936 17089 17179 17541 17565 17608 17694 
_POS_HLDSTOP1_SIG1TIM                     IMPT 00000000   4937 17632 17736 17956 
_POS_HLDSTOP1_SIG2TIM                     IMPT 00000000   4938 17407 17634 17769 17958 
_POS_HOLDABS_CALCF                        IMPT 00000000   4975 17281 
_POS_HOLD_CMD                             IMPT 00000000   4970  7749  7827 17184 17889 
_POS_HOLD_FLG                             IMPT 00000000   4971  7743  7756  7794 17891 18029 
_POS_HOLD_FLG_CLR                P             000033E0   7848 17881*17944 
_POS_HOLD_FLG_EXQ_CLR            P             00003420  11255 17938*
_POS_HOLD_FLG_STR2CLR            P        EXPT 0000340C   6149  8357  8588 17913*17948 
_POS_HOLD_RDY_EXITF                       IMPT 00000000   4972  7853  8495 17918 
_POS_HOLD_RDY_EXITF2                      IMPT 00000000   4973 
_POS_HOLD_RESTARTCMD                      IMPT 00000000   4969  7821 17613 17887 
_POS_HOLD_RESTART_CHK            P             000033A4   7817 17808*
_POS_LSI_ABSPLS                           IMPT 00000000   2901 
_POS_LSI_ACCLT1                           IMPT 00000000   3041 
_POS_LSI_ACCLT2                           IMPT 00000000   3042 
_POS_LSI_ACS_ERR_FLG1                     IMPT 00000000   3537 
_POS_LSI_ACS_ERR_INF1                     IMPT 00000000   3541 
_POS_LSI_CLSINC_SPDBAS                    IMPT 00000000   3059 
_POS_LSI_CLS_SPDBAS                       IMPT 00000000   3058 
_POS_LSI_CTL_NOWPLS                       IMPT 00000000   2905 
_POS_LSI_OFFSET1                          IMPT 00000000   2903 
_POS_LSI_OFFSET2                          IMPT 00000000   2904 
_POS_LSI_OLDCNT                           IMPT 00000000   2907 
_POS_LSI_SLOW_STOP                        IMPT 00000000   6018 
_POS_LSI_SPDBAS                           IMPT 00000000   3040 
_POS_LSI_SPDLAT                           IMPT 00000000   3039 
_POS_LSI_SPDMAX                           IMPT 00000000   3038 
_POS_LSI_TOTAL_PLS                        IMPT 00000000   2900 
_POS_STEP1_SEARCH                         IMPT 00000000  18113 18189 
_PRD_DAI_CMP_ENB                          IMPT 00000000   3490 
_PRD_DAI_POS0                             IMPT 00000000   3488 
_PRD_DAI_POS1                             IMPT 00000000   3489 
_PRD_KJP_CMP_ENB                          IMPT 00000000   3976 
_PRESET_PV_FLGCLR                         IMPT 00000000   6041  6360 
_PS_DG_INF_CHK1                           EQU  00000000   2202*
_PS_DG_INF_CHK2                           EQU  0000003C   2207*
_PS_DG_INF_CONT                           EQU  00000004   2203*
_PS_DG_INF_LATE                           EQU  00000010   2206*
_PS_DG_INF_STLK                           EQU  0000000C   2205*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   290

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PS_DG_INF_UNIT                           EQU  00000008   2204*
_PS_TIME                                  EQU  00000002   1996*
_PVCK_STOP_SMPTIM                         IMPT 00000000   3239 
_PVC_BRK_ENC_SPD                          IMPT 00000000   3443 
_PVC_BRK_OUT_SPD                          IMPT 00000000   3444 
_PVP_WTJUD_AGL                            IMPT 00000000   6146 
_PVP_WTJUD_POS                            IMPT 00000000   6147 
_PVP_WTJUD_SNO                            IMPT 00000000   6145 
_PVX_AMPERR_TIM1                          IMPT 00000000   3177 
_PVX_AMPERR_TIM2                          IMPT 00000000   3178 
_PVX_AMPERR_TIM3                          IMPT 00000000   3179 
_PVX_CKAGL_OVBIT                          IMPT 00000000   4734 
_PVX_CKSPD_OVBIT                          IMPT 00000000   4715 
_PVX_DAI_POS0                             IMPT 00000000   2921 
_PVX_DAI_POS1                             IMPT 00000000   2922 
_PVX_DNMOD_DLYTIM                         IMPT 00000000   4699 
_PVX_DYHITO_POS                           IMPT 00000000   2929 
_PVX_IAMP_VLT                             IMPT 00000000   3180 
_PVX_INPPOS_TIM1                          IMPT 00000000   3153 
_PVX_MOTINS_AG2                           IMPT 00000000   4519 
_PVX_MOTINS_AG2X                          IMPT 00000000   4520 
_PVX_MOTINS_AG3                           IMPT 00000000   4525 
_PVX_MOTINS_AG3X                          IMPT 00000000   4526 
_PVX_MOTINS_AGL                           IMPT 00000000   4522 
_PVX_MOTINS_AGLX                          IMPT 00000000   4523 
_PVX_MOTINS_DAN                           IMPT 00000000   4530 
_PVX_MOTINS_DANAFT                        IMPT 00000000   4531 
_PVX_MOTINS_DANBEF                        IMPT 00000000   4529 
_PVX_MOTINS_INF                           IMPT 00000000   4533 
_PVX_MOTINS_POS                           IMPT 00000000   4516 
_PVX_MOTINS_PS2                           IMPT 00000000   4515 
_PVX_MOTINS_PS3                           IMPT 00000000   4517 
_PVX_RNA_STLORK                           IMPT 00000000   2923 
_PV_ENC_SPD_PER                           IMPT 00000000   3441 12068 
_PV_OUT_SPD_PER                           IMPT 00000000   3442 
_RDYON_CONF1                     P             00000DB8   8208  8347  9131*
_RDY_CHEAK                       P             00000768   7365  7729*
_RDY_HOLDSTP_FLGOUT              P             00003498   7369 18024*
_RDY_HOLDSTP_OF_FLGOUT           P             0000347C  17975 18002*
_RDY_OF                                   IMPT 00000000   5834  8624  8705 16279 16396 
_RDY_ON                                   IMPT 00000000   5833  8284 16192 16234 
_RDY_SFTY_LOCK                            IMPT 00000000   3712 
_RDY_SFTY_WAIT_TIM                        IMPT 00000000   3713 14784 14805 14928 
_RECOVER_WAIT_AREA_CHK           P             00003C84  19431 19641*20054 
_RENEA_ERR_RESET_INI                      IMPT 00000000  14640 14675 
_REP_CAMOBJ_DIG                           IMPT 00000000   5030 
_RESET_CHEAK                     P        EXPT 00000000   6104  6178*
_RESET_CONF_CHK                  P             000002A4   6365  6645*
_RESET_END_OUT                            IMPT 00000000   5826  6539 
_RESET_ERR_SEQ_CLR                        IMPT 00000000   6003  6401  6549 
_RESET_ERR_SEQ_CLR1                       IMPT 00000000   6004 
_RESET_ERR_SEQ_CLR2                       IMPT 00000000   6005  6553 
_RESET_OUT                                IMPT 00000000   5825  6405  6505 
_RESET_ROTNUMPLS_ZR                       IMPT 00000000   2713 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   291

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RESET_ROTNUM_ZR                          IMPT 00000000   2712 
_REVCHK_DRIV_SHIN                         IMPT 00000000   4600 
_REVCHK_MASK_PVTIM                        IMPT 00000000   4601 
_REVMOD_REVDN_DIG                         IMPT 00000000   4603 
_REV_CALC_WORK0                           IMPT 00000000   3230 
_REV_CALC_WORK1                           IMPT 00000000   3231 
_REV_CALC_WORK2                           IMPT 00000000   3232 
_REV_ERR_FLG                              IMPT 00000000   5230 
_REV_ERR_LT_PGPOS                         IMPT 00000000   5233 
_REV_ERR_LT_SVPOS                         IMPT 00000000   5234 
_REV_ERR_WAIT_TIMPV                       IMPT 00000000   4599 
_REV_LATCH_ENCPOS                         IMPT 00000000   2871 
_REV_LATCH_OUTPLS                         IMPT 00000000   2870 
_REV_LATCH_RNAPOS                         IMPT 00000000   2872 
_RM1_CHK_OLDSTS                           IMPT 00000000   5055 
_RM1_CHK_TIME                             IMPT 00000000   5056 
_RM2_CHK_OLDSTS                           IMPT 00000000   5058 
_RM2_CHK_TIME                             IMPT 00000000   5059 
_RNAREV_ADD                               EQU  00000000   2059*
_RNASTP_ADD                               EQU  00000000   2057*
_RNA_ABS_DRVHOS_DT                        IMPT 00000000   2962 
_RNA_ABS_MAXPOS                           IMPT 00000000   2941 
_RNA_ABS_MD2_C1                           IMPT 00000000   4333 
_RNA_ABS_MD2_C1A                          IMPT 00000000   4334 
_RNA_ABS_MD2_C2                           IMPT 00000000   4335 
_RNA_ABS_MD_DT0                           IMPT 00000000   2925 
_RNA_ABS_MD_DT1                           IMPT 00000000   2926 
_RNA_ABS_MEMORG                           IMPT 00000000   2918 
_RNA_ABS_MINPOS                           IMPT 00000000   2940 
_RNA_ABS_ORGWORK                          IMPT 00000000   2909 
_RNA_ABS_ORGWORK2                         IMPT 00000000   4327 
_RNA_ABS_ORGWORK2A                        IMPT 00000000   4328 
_RNA_ABS_POS                              IMPT 00000000   2917 
_RNA_ABS_WKMAXPOS                         IMPT 00000000   2939 
_RNA_ABS_WKMINPOS                         IMPT 00000000   2938 
_RNA_BBN_MESURE_POINT                     IMPT 00000000   4474 
_RNA_BBN_MESURE_SPOS_BUF                  IMPT 00000000   4467 
_RNA_BBN_MESURE_SSPD                      IMPT 00000000   4469 
_RNA_BBN_MESURE_SSPD_BUF                  IMPT 00000000   4468 
_RNA_BBN_MEUSRE_ACC                       IMPT 00000000   4471 
_RNA_BBN_MEUSRE_ACC_SRC                   IMPT 00000000   4470 
_RNA_BBN_SET_TIME                         IMPT 00000000   4473 
_RNA_CMD_RD_CNT                           IMPT 00000000   2536 
_RNA_CMD_SND_CNT                          IMPT 00000000   2535 
_RNA_COM_ERR_CNT                          IMPT 00000000   2528 
_RNA_COM_NML_CNT                          IMPT 00000000   2529 
_RNA_CTL_POS0                             IMPT 00000000   2927 
_RNA_CTL_POS1                             IMPT 00000000   2928 
_RNA_ENC360                               IMPT 00000000   2520 
_RNA_ERR_RSTCHK                  P        EXPT 0000273C  15171 15178*
_RNA_HOS_DELT                             IMPT 00000000   2930 
_RNA_INSERT_CHKFLG                        IMPT 00000000   4486 
_RNA_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2704 
_RNA_OLD_STEP                             IMPT 00000000   4489 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   292

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RNA_POS_OFFSET1                          IMPT 00000000   2915 
_RNA_POS_OFFSET2                          IMPT 00000000   2916 
_RNA_PROTOCOL_SEL                         IMPT 00000000   4026 
_RNA_PROTOCOL_X                           IMPT 00000000   4029 
_RNA_RESET_FLG                            IMPT 00000000   2531 15198 
_RNA_RESET_TIM                            IMPT 00000000   2532 
_RNA_SCIF_ERR_CLR1               P             00002588   6355 14644*15210 
_RNA_SCIF_ERR_CLR2                        IMPT 00000000   6034 14671 14689 
_RNA_STLORK                               IMPT 00000000   2920 
_RNA_STLORK_HALF                          IMPT 00000000   4325 
_RNA_STOP_CNT                             IMPT 00000000   3240 
_RNA_TECH_POINT                           IMPT 00000000   4485 
_RNA_TECH_POSBUF                          IMPT 00000000   4484 
_ROOT_MAIN_INP                            IMPT 00000000   5379 
_ROOT_MAIN_OUT                            IMPT 00000000   5380 
_ROT_CNTMODE_CHK                 P             00003F14  20194 20238*
_RST_DLY_TM                               EQU  000000C8   2015* 6502 
_RST_ERR_CHK_ERR                          IMPT 00000000   2876 
_RST_ERR_CHK_FLG                          IMPT 00000000   2874 11153 
_RST_MOD_POS_END                 P             0000179C   6535 11353*
_RST_MOD_POS_START               P             00001788   6409 11325*
_SAME_TIM                                 IMPT 00000000   2656  8269  9334  9446 16177 
_SCAN_DBG_CNT                             IMPT 00000000   4780 
_SCAN_SMP_SIG                             IMPT 00000000   4767 
_SCAN_TIM_IDOBUF                          IMPT 00000000   4758 
_SCAN_TIM_IN                              IMPT 00000000   4763 
_SCAN_TIM_POINT                           IMPT 00000000   4759 
_SCAN_TIM_TOTAL                           IMPT 00000000   4757 
_SDATCLS_OBJMM                            IMPT 00000000   3065 
_SDATCLS_OBJPLS                           IMPT 00000000   3064 
_SDATCLS_OBJ_NEAR_UPDNPLS                 IMPT 00000000   3066 
_SDATCLS_TRG_STEP                         IMPT 00000000   3068 
_SDATCLS_UPOBJ_PLS                        IMPT 00000000   3067 
_SDAT_WAIT_PVTIM                          IMPT 00000000   2758 
_SELFCHK_LOCK_SET                P             00000F84   8632  9583*
_SELF_AD_LATCH                            IMPT 00000000   3701 
_SELF_BRK_LOCK                            IMPT 00000000   3697 
_SELF_CHK_MATHED                          IMPT 00000000   3696  9601 16416 
_SELF_CHK_SEL                             IMPT 00000000   2603  9051  9599 15510 16414 
_SELF_COM                                 IMPT 00000000   2601  7296  7616  7671 
_SELF_FIRST_END_FLG                       IMPT 00000000   3694 
_SELF_FLG                                 IMPT 00000000   2599  7294  7594  7620  7700 15263 15516 
_SELF_LOCK_FLG                            IMPT 00000000   3981  9595 16410 
_SELF_MOV_LENGTH                          IMPT 00000000   3704 
_SELF_MOV_SPEED                           IMPT 00000000   3705 
_SELF_SECOND_ACT_FLG                      IMPT 00000000   3699 
_SELF_SECOND_STEP                         IMPT 00000000   3700 
_SELF_START_CONF                          IMPT 00000000   5991  7663 
_SELF_START_POS_LATCH                     IMPT 00000000   3703 
_SELF_START_WAIT_TM                       IMPT 00000000   2602 
_SELF_TIMING_SIG                          IMPT 00000000   3695  6434  9063 
_SEQAB_DP_TOP                             IMPT 00000000   6139 17115 17122 
_SET1_ACCLAT_TIM1                         IMPT 00000000   3140 
_SET1_AMP100P_VLT                         IMPT 00000000   3174 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   293

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_ARACHK_LNG1                         IMPT 00000000   3155 
_SET1_ATDAT_DOTPOS                        IMPT 00000000   4916 
_SET1_ATSLID_BAKLNG                       IMPT 00000000   4912 
_SET1_ATSLID_COEF1                        IMPT 00000000   4915 
_SET1_ATSLID_DNOBJ1                       IMPT 00000000   4913 
_SET1_ATSLID_UPOBJ1                       IMPT 00000000   4914 
_SET1_BREAK_DIG                           IMPT 00000000   3476 
_SET1_BREAK_TIM1                          IMPT 00000000   3474 
_SET1_CNT_CNT                             IMPT 00000000   3083 13082 
_SET1_CNT_TIM                             IMPT 00000000   3081 13063 
_SET1_DAIHAI_LNG1                         IMPT 00000000   3166 
_SET1_DAIHAI_LNG2                         IMPT 00000000   3167 
_SET1_DAIHAI_LNG3                         IMPT 00000000   3168 
_SET1_DAIHAI_ORG0                         IMPT 00000000   3185 
_SET1_DAIORG0_CMP1DN                      IMPT 00000000   3187 
_SET1_DAIORG0_CMP1UP                      IMPT 00000000   3186 
_SET1_DAIORG0_CMP2DN                      IMPT 00000000   3189 
_SET1_DAIORG0_CMP2UP                      IMPT 00000000   3188 
_SET1_DAIORG0_CMP3DN                      IMPT 00000000   3191 
_SET1_DAIORG0_CMP3UP                      IMPT 00000000   3190 
_SET1_DAIORG0_CMP4DN                      IMPT 00000000   3193 
_SET1_DAIORG0_CMP4UP                      IMPT 00000000   3192 
_SET1_DNAREA_INPX                         IMPT 00000000   3143 
_SET1_DNAREA_INPXPLS                      IMPT 00000000   3147 
_SET1_DNAREA_JUDG                         IMPT 00000000   3117 
_SET1_DNDINC_SPD1                         IMPT 00000000   3126 
_SET1_DND_DIGTOP                          IMPT 00000000   3755 
_SET1_DND_PLSTOP                          IMPT 00000000   3756 
_SET1_DND_STOPDIG_UP                      IMPT 00000000   3754 
_SET1_DND_STOP_SW                         IMPT 00000000   3753 
_SET1_DND_UPPLS                           IMPT 00000000   3757 
_SET1_EJECAM_OFR                          IMPT 00000000   5019 
_SET1_EJECAM_ONR                          IMPT 00000000   5018 
_SET1_ENC360_HOS1                         IMPT 00000000   3157 
_SET1_FULCLS_MXPLS                        IMPT 00000000   3169 
_SET1_INCDIR_SEL1                         IMPT 00000000   3098 
_SET1_INCENC_ELNG                         IMPT 00000000   3160 
_SET1_INCHEN_ELNG                         IMPT 00000000   3159 
_SET1_INCPLS_1REV                         IMPT 00000000   3095 
_SET1_INCPLS_HOSM                         IMPT 00000000   3100 
_SET1_INCPLS_HOSN                         IMPT 00000000   3099 
_SET1_INCPOS_KP01                         IMPT 00000000   3138 
_SET1_INCREV_ELNG                         IMPT 00000000   3164 
_SET1_INCRNA_ELNG                         IMPT 00000000   3161 
_SET1_INCSTP_ELNG                         IMPT 00000000   3162 
_SET1_INPPOS_TIM1                         IMPT 00000000   3152 
_SET1_INTLIM_AGL                          IMPT 00000000   4941 
_SET1_INTLIM_PLS                          IMPT 00000000   4943 
_SET1_KAJAREA_ENO                         IMPT 00000000   4853 
_SET1_KAJAREA_SEL                         IMPT 00000000   4867 
_SET1_KAJAREA_SNO                         IMPT 00000000   4852 
_SET1_KATTCH_EAG                          IMPT 00000000   4875 
_SET1_KATTCH_SAG                          IMPT 00000000   4874 
_SET1_KATTCH_SPD                          IMPT 00000000   4543 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   294

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_KJEND_DIG1                          IMPT 00000000   3744 
_SET1_KJEND_DIG2                          IMPT 00000000   4856 
_SET1_KJEND_STEP1                         IMPT 00000000   3743 
_SET1_KJSTR_DIG1                          IMPT 00000000   3742 
_SET1_KJSTR_DIG2                          IMPT 00000000   4855 
_SET1_KJSTR_STEP1                         IMPT 00000000   3741 
_SET1_LSAABN_AGL1                         IMPT 00000000   3730 
_SET1_LSAABN_AGL2                         IMPT 00000000   3731 
_SET1_MAX_KJYU                            IMPT 00000000   4186 
_SET1_MISCAM_OFR                          IMPT 00000000   5021 
_SET1_MISCAM_ONR                          IMPT 00000000   5020 
_SET1_MOTMAX_FREQ                         IMPT 00000000   3112 
_SET1_MOTREP_CNT                          IMPT 00000000   5011 
_SET1_MOTREP_SPD                          IMPT 00000000   5010 
_SET1_MOTREP_STGE                         IMPT 00000000   5009 
_SET1_MOTREP_STGS                         IMPT 00000000   5008 
_SET1_MOTREP_USEFUL                       IMPT 00000000   5007 
_SET1_MOTRPM_MAXM                         IMPT 00000000   3102 
_SET1_MRTION_SEL1                         IMPT 00000000   3195  7216 
_SET1_MTSTEP_MAXM                         IMPT 00000000   3196 
_SET1_NEG_OFS_LNG                         IMPT 00000000   3173 
_SET1_OBJARA_INPX                         IMPT 00000000   3144 
_SET1_OBJARA_INPXPLS                      IMPT 00000000   3148 
_SET1_OBJARA_INPXPSX                      IMPT 00000000   3150 
_SET1_OBJECT_DIG_TOP                      IMPT 00000000   3220 
_SET1_OBJECT_PLS_TOP                      IMPT 00000000   3206 
_SET1_OBJECT_POS_TOP                      IMPT 00000000   3201 
_SET1_OBJECT_SPD_TOP                      IMPT 00000000   3209 
_SET1_OBJECT_TIM_TOP                      IMPT 00000000   3213 
_SET1_OBJ_CAM_DIG_TOP                     IMPT 00000000   3254 
_SET1_OVERLIDE_COF                        IMPT 00000000   3865 
_SET1_PLSAHI_PLS                          IMPT 00000000   3781 
_SET1_PLSALO_PLS                          IMPT 00000000   3780 
_SET1_RCAMON_POS_TOP                      IMPT 00000000   3256 
_SET1_RCAMON_TIM_TOP                      IMPT 00000000   3257 
_SET1_REVDAT_SPD1                         IMPT 00000000   3129 
_SET1_REVDAT_SPD2                         IMPT 00000000   3132 
_SET1_REVDAT_SPD3                         IMPT 00000000   3133 
_SET1_RNADIR_SEL1                         IMPT 00000000   3097 
_SET1_RNAORG_POS1                         IMPT 00000000   3113 
_SET1_RNAPOS_KP01                         IMPT 00000000   3139 
_SET1_RNAPOS_MAXP                         IMPT 00000000   3114 
_SET1_RNAPOS_MINP                         IMPT 00000000   3115 
_SET1_RNAREV_ELNG                         IMPT 00000000   3165 
_SET1_RNASTP_ELNG                         IMPT 00000000   3163 
_SET1_ROTCAM_OFR                          IMPT 00000000   5017 
_SET1_ROTCAM_ONR                          IMPT 00000000   5016 
_SET1_RPARAM_TOP1                         IMPT 00000000   3091 
_SET1_SSCURV_TIM1                         IMPT 00000000   3141 
_SET1_STDINC_SPD1                         IMPT 00000000   3128 
_SET1_TEPCTL_SPD1                         IMPT 00000000   3788 
_SET1_TEPLAT_DAT1                         IMPT 00000000   3135 
_SET1_TEPLAT_DAT2                         IMPT 00000000   3136 
_SET1_UPAREA_DIG0                         IMPT 00000000   3219 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   295

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_UPAREA_DIG1                         IMPT 00000000   3156 
_SET1_UPAREA_INPX                         IMPT 00000000   3142 
_SET1_UPAREA_INPXPLS                      IMPT 00000000   3146 
_SET1_UPAREA_JUDG                         IMPT 00000000   3116 
_SET1_UPAREA_PLS0                         IMPT 00000000   3204 
_SET1_UPAREA_PLS1                         IMPT 00000000   3205 
_SET1_UPAREA_POS0                         IMPT 00000000   3200 
_SET1_UPAREA_POS1                         IMPT 00000000   3036 
_SET1_UPAREA_SPD0                         IMPT 00000000   3208 
_SET1_UPAREA_SPD1                         IMPT 00000000   3127 
_SET1_UPAREA_TIM0                         IMPT 00000000   3212 
_SET1_UPCLEEP_SPD                         IMPT 00000000   3130 
_SET1_VIB_KJYU_TTL                        IMPT 00000000   4185 
_SET2_INTLIM_AGL                          IMPT 00000000   4942 
_SET2_INTLIM_PLS                          IMPT 00000000   4944 
_SET360_UPAREA_DIG1                       IMPT 00000000   4041 
_SET360_UPAREA_PLS1                       IMPT 00000000   4042 
_SETC_KJEND_DIG1                          IMPT 00000000   4124 
_SETC_KJEND_DIG2                          IMPT 00000000   4863 
_SETC_KJSTR_DIG1                          IMPT 00000000   4123 
_SETC_KJSTR_DIG2                          IMPT 00000000   4862 
_SETD_DEGSPD_MAX                          IMPT 00000000   3292 
_SETD_LINK_MAX_SPD_PLS                    IMPT 00000000   4234 
_SETD_MOTRPM_MAXM                         IMPT 00000000   4235 
_SETSQ206_BIT11                  P        EXPT 000025DC  14704 14730*
_SETXY_LINK_UP_POS_DN                     IMPT 00000000   4105 
_SETXY_LINK_UP_POS_UP                     IMPT 00000000   4104 
_SETXY_UPAREA_DIG                         IMPT 00000000   4100 
_SETXY_UPAREA_PLS                         IMPT 00000000   4099 
_SETX_ACCERR_DLY1                         IMPT 00000000   4442 
_SETX_ACCERR_ERR3DAT                      IMPT 00000000   4437 
_SETX_ACCERR_SEL                          IMPT 00000000   4447 
_SETX_BANK_USELFUL                        IMPT 00000000   3654 
_SETX_BREAK_DIG2                          IMPT 00000000   4170 
_SETX_BREAK_TIM2                          IMPT 00000000   4171 
_SETX_DAIPOS_MAXP                         IMPT 00000000   3122 
_SETX_DAIPOS_MINP                         IMPT 00000000   3123 
_SETX_DNAREA_JG_LNK                       IMPT 00000000   3118 
_SETX_DNAREA_JG_PLS                       IMPT 00000000   3119 
_SETX_FULCLS_AREA_DIG                     IMPT 00000000   3061 
_SETX_FULCLS_AREA_PLS                     IMPT 00000000   3062 
_SETX_FULCLS_MATEHD_SW                    IMPT 00000000   4820 
_SETX_HOLD_CMP1_DEG                       IMPT 00000000   4454 
_SETX_INCPLS_HOSM                         IMPT 00000000   3101 
_SETX_KJEND_DIG1                          IMPT 00000000   4119 
_SETX_KJEND_DIG2                          IMPT 00000000   4859 
_SETX_KJSTR_DIG1                          IMPT 00000000   4118 
_SETX_KJSTR_DIG2                          IMPT 00000000   4858 
_SETX_KJYUCLS_OBJ                         IMPT 00000000   4822 
_SETX_KJYU_INCPOS_KP01                    IMPT 00000000   5110 
_SETX_LINK_UP_POS_DN                      IMPT 00000000   2699 19798 
_SETX_LINK_UP_POS_UP                      IMPT 00000000   2698 19800 
_SETX_MAX_ACC_LATE                        IMPT 00000000   4431 
_SETX_MOTREP_DIR                          IMPT 00000000   5025 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   296

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SETX_OUTPLS_HOSA                         IMPT 00000000   3109 
_SETX_OUTPLS_HOSB                         IMPT 00000000   3110 
_SETX_OVERH_AMP                           IMPT 00000000   4673 
_SETX_OVERH_LNGTH                         IMPT 00000000   4672 
_SETX_POS_CTL_MATH                        IMPT 00000000   2732  6860 11421 11927 12022 12157 12853 17483 18145 18256 19388 19489 
                                                         19663 19758 20021 20253 
_SETX_POS_MOD_FLG1                        IMPT 00000000   2731 20260 
_SETX_POS_SDAT1_CNTSTEP                   IMPT 00000000   2723 17319 
_SETX_POS_SDAT1_INF1                      IMPT 00000000   2724 
_SETX_POS_SDAT1_OFSPOS                    IMPT 00000000   2720 11561 
_SETX_POS_SDAT1_SPD                       IMPT 00000000   2721 
_SETX_POS_SDAT1_TIM                       IMPT 00000000   2722 11673 
_SETX_POS_SDAT2_INF1                      IMPT 00000000   2730 
_SETX_POS_SDAT2_OFSPOS                    IMPT 00000000   2726 
_SETX_POS_STEP_MAX                        IMPT 00000000   2733 11553 11668 17297 18247 
_SETX_RNA_ACC_BEFTIM                      IMPT 00000000   4487 
_SETX_RNA_ACC_CHKPOS                      IMPT 00000000   4488 
_SETX_SDAT1_INTLIMOFS                     IMPT 00000000   4945 
_SETX_SDAT2_INTLIMOFS                     IMPT 00000000   4946 
_SETX_UPAREA_DIG                          IMPT 00000000   3034 10566 11919 12845 
_SETX_UPAREA_PLS                          IMPT 00000000   3032 11578 
_SETX_UPAREA_RNA                          IMPT 00000000   3033 
_SETX_UPDN_CHK_DN_DIG                     IMPT 00000000   3049 
_SETX_UPDN_CHK_DN_PLS                     IMPT 00000000   3051 
_SETX_UPDN_CHK_UP_DIG                     IMPT 00000000   3048 
_SETX_UPDN_CHK_UP_PLS                     IMPT 00000000   3050 
_SETX_UPERR_ERRCMPDAT                     IMPT 00000000   4453 
_SETY_INCPLS_HOSM0001                     IMPT 00000000   3107 
_SETY_INCPLS_HOSM001                      IMPT 00000000   3106 
_SETY_INCPLS_HOSM01X                      IMPT 00000000   3105 
_SETY_INCPLS_HOSM1XX                      IMPT 00000000   3104 
_SETY_KJEND_DIG1                          IMPT 00000000   4121 
_SETY_KJEND_DIG2                          IMPT 00000000   4861 
_SETY_KJSTR_DIG1                          IMPT 00000000   4120 
_SETY_KJSTR_DIG2                          IMPT 00000000   4860 
_SETY_SDAT1_INTLIMOFS                     IMPT 00000000   4948 
_SETY_SDAT2_INTLIMOFS                     IMPT 00000000   4949 
_SET_ACC_OVRLIDE                          IMPT 00000000   3876 
_SET_CLSINC_SPDBAS_PLS                    IMPT 00000000   3844 
_SET_CLS_SPDBAS_PLS                       IMPT 00000000   3842 
_SET_DN_ACC_LATE                          IMPT 00000000   3893 
_SET_GMN_ACC_OVRLIDE                      IMPT 00000000   3868 
_SET_GMN_SPD_OVRLIDE                      IMPT 00000000   3867 
_SET_NZ_TIM_DAT                  P        EXPT 000023F4  13842 14276 14289*
_SET_PV_ABS_TO_OBJ                        IMPT 00000000   6121  6332  6509  6581 18176 
_SET_SEQ_ACC_OVRLIDE                      IMPT 00000000   3856 
_SET_SEQ_SPD_OVRLIDE                      IMPT 00000000   3855 
_SET_SPDBAS_PLS                           IMPT 00000000   3843 
_SET_SPD_OVRLIDE                          IMPT 00000000   3875 
_SET_UP_ACC_LATE                          IMPT 00000000   3892 
_SET_UP_TIM                               IMPT 00000000   2657  8265  9392  9441  9516  9540 16173 
_SFTYCHK_CLANK_DEG                        IMPT 00000000   5176 
_SFTYCHK_LINK_PLS                         IMPT 00000000   5177 
_SFTYCHK_RNA_POS                          IMPT 00000000   3372 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   297

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SFTY_CTL_IN_DAT                          IMPT 00000000   2551 
_SFTY_IN_DAT                              IMPT 00000000   2550  6700  9149 16652 
_SFTY_LOCK_DLYTM                          IMPT 00000000   3975 
_SFTY_MASK_END                   P             00001BA0   8119  8565 11876 12318 12384*16142 16346 
_SFTY_MASK_START                 P             00001B80   8908 12335 12356*12394 
_SFTY_MUTING_MODE_ERR            P             000027FC   7283 15338*
_SH2_ADD_PLS                              IMPT 00000000   5567 
_SH2_BAS_FRQ_SV                           IMPT 00000000   5527 
_SH2_CNT_REST_HF                          IMPT 00000000   5538 
_SH2_CNT_REST_PLS                         IMPT 00000000   5522 
_SH2_GPOINT_LNGDSP                        IMPT 00000000   5575 
_SH2_GPOINT_SPDDSP                        IMPT 00000000   5576 
_SH2_HD_CNT_STOP                          IMPT 00000000   6061  7476 
_SH2_HD_CTRL_BUSY                         IMPT 00000000   6053 
_SH2_HD_CTRL_REDY                         IMPT 00000000   6051 
_SH2_HD_HLDSTOP2                          IMPT 00000000   7721 18009 18056 
_SH2_HD_NEAR_ZERO                         IMPT 00000000   6059 
_SH2_HD_POS_START                         IMPT 00000000   6055 
_SH2_HD_SFTY_AUTO                         IMPT 00000000   6057 
_SH2_HD_STEP_END                          IMPT 00000000   6063  7502 
_SH2_LNGH_ADD_SR                          IMPT 00000000   5523 
_SH2_LOT_CNT_A                            IMPT 00000000   5534 
_SH2_LOT_STEP_A                           IMPT 00000000   5535 
_SH2_NOW_FRQ_PV                           IMPT 00000000   5529 
_SH2_NOW_STEP                             IMPT 00000000   5573 
_SH2_PLSI_ACCS                            IMPT 00000000   5531 
_SH2_PLSI_LATE                            IMPT 00000000   5532 
_SH2_REST_PLS_RL                          IMPT 00000000   5525 
_SH2_REST_PLS_SR                          IMPT 00000000   5524 
_SH2_REST_RL_HF                           IMPT 00000000   5537 
_SH2_REST_SR_HF                           IMPT 00000000   5536 
_SH2_STEP1_FRQ                            IMPT 00000000   5555 
_SH2_STEP1_PV_PLS                         IMPT 00000000   5550 
_SH2_STEP1_REST_P                         IMPT 00000000   5545 
_SH2_STEP1_SV_PLS                         IMPT 00000000   5540 
_SH2_STEP1_TIM                            IMPT 00000000   5560 
_SH2_STEP2_FRQ                            IMPT 00000000   5556 
_SH2_STEP2_PV_PLS                         IMPT 00000000   5551 
_SH2_STEP2_REST_P                         IMPT 00000000   5546 
_SH2_STEP2_SV_PLS                         IMPT 00000000   5541 
_SH2_STEP2_TIM                            IMPT 00000000   5561 
_SH2_STEP3_FRQ                            IMPT 00000000   5557 
_SH2_STEP3_PV_PLS                         IMPT 00000000   5552 
_SH2_STEP3_REST_P                         IMPT 00000000   5547 
_SH2_STEP3_SV_PLS                         IMPT 00000000   5542 
_SH2_STEP3_TIM                            IMPT 00000000   5562 
_SH2_STEP4_FRQ                            IMPT 00000000   5558 
_SH2_STEP4_PV_PLS                         IMPT 00000000   5553 
_SH2_STEP4_REST_P                         IMPT 00000000   5548 
_SH2_STEP4_SV_PLS                         IMPT 00000000   5543 
_SH2_STEP4_TIM                            IMPT 00000000   5563 
_SH2_STEP5_FRQ                            IMPT 00000000   5559 
_SH2_STEP5_PV_PLS                         IMPT 00000000   5554 
_SH2_STEP5_REST_P                         IMPT 00000000   5549 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   298

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH2_STEP5_SV_PLS                         IMPT 00000000   5544 
_SH2_STEP5_TIM                            IMPT 00000000   5564 
_SH2_STEP_FRQ                             IMPT 00000000   5571 
_SH2_STEP_PV_PLS                          IMPT 00000000   5569 
_SH2_STEP_REST_P                          IMPT 00000000   5570 
_SH2_STEP_SV_PLS                          IMPT 00000000   5568 
_SH2_STEP_TIM                             IMPT 00000000   5572 
_SH2_TOP_FRQ_SV                           IMPT 00000000   5528 
_SH2_TOTAL_PLS                            IMPT 00000000   5566 
_SH4_ADD_PLS                              IMPT 00000000   5510 
_SH4_BAS_FRQ_SV                           IMPT 00000000   5472 
_SH4_CNT_REST_HF                          IMPT 00000000   5482 
_SH4_CNT_REST_PLS                         IMPT 00000000   5468 
_SH4_GPOINT_LNGDSP                        IMPT 00000000   5518 
_SH4_GPOINT_SPDDSP                        IMPT 00000000   5519 
_SH4_HD_CNT_STOP                          IMPT 00000000   6060  7464 
_SH4_HD_CTRL_BUSY                         IMPT 00000000   6052 
_SH4_HD_CTRL_REDY                         IMPT 00000000   6050 
_SH4_HD_HLDSTOP2                          IMPT 00000000   7720 18007 18033 
_SH4_HD_NEAR_ZERO                         IMPT 00000000   6058 
_SH4_HD_POS_START                         IMPT 00000000   6054 
_SH4_HD_SFTY_AUTO                         IMPT 00000000   6056 
_SH4_HD_STEP_END                          IMPT 00000000   6062  7489 
_SH4_LNGH_ADD_SR                          IMPT 00000000   5469 
_SH4_LOT_CNT_A                            IMPT 00000000   5478 
_SH4_LOT_STEP_A                           IMPT 00000000   5479 
_SH4_NOW_FRQ_PV                           IMPT 00000000   5474 
_SH4_NOW_STEP                             IMPT 00000000   5516 
_SH4_ORG_DIR_REV                          IMPT 00000000   6137 15151 
_SH4_PLSI_ACCS                            IMPT 00000000   5476 
_SH4_PLSI_LATE                            IMPT 00000000   5477 
_SH4_REST_PLS_RL                          IMPT 00000000   5471 
_SH4_REST_PLS_SR                          IMPT 00000000   5470 
_SH4_REST_RL_HF                           IMPT 00000000   5481 
_SH4_REST_SR_HF                           IMPT 00000000   5480 
_SH4_STEP1_FRQ                            IMPT 00000000   5499 
_SH4_STEP1_PV_PLS                         IMPT 00000000   5494 
_SH4_STEP1_REST_P                         IMPT 00000000   5489 
_SH4_STEP1_SV_PLS                         IMPT 00000000   5484 
_SH4_STEP1_TIM                            IMPT 00000000   5504 
_SH4_STEP2_FRQ                            IMPT 00000000   5500 
_SH4_STEP2_PV_PLS                         IMPT 00000000   5495 
_SH4_STEP2_REST_P                         IMPT 00000000   5490 
_SH4_STEP2_SV_PLS                         IMPT 00000000   5485 
_SH4_STEP2_TIM                            IMPT 00000000   5505 
_SH4_STEP3_FRQ                            IMPT 00000000   5501 
_SH4_STEP3_PV_PLS                         IMPT 00000000   5496 
_SH4_STEP3_REST_P                         IMPT 00000000   5491 
_SH4_STEP3_SV_PLS                         IMPT 00000000   5486 
_SH4_STEP3_TIM                            IMPT 00000000   5506 
_SH4_STEP4_FRQ                            IMPT 00000000   5502 
_SH4_STEP4_PV_PLS                         IMPT 00000000   5497 
_SH4_STEP4_REST_P                         IMPT 00000000   5492 
_SH4_STEP4_SV_PLS                         IMPT 00000000   5487 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   299

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH4_STEP4_TIM                            IMPT 00000000   5507 
_SH4_STEP5_FRQ                            IMPT 00000000   5503 
_SH4_STEP5_PV_PLS                         IMPT 00000000   5498 
_SH4_STEP5_REST_P                         IMPT 00000000   5493 
_SH4_STEP5_SV_PLS                         IMPT 00000000   5488 
_SH4_STEP5_TIM                            IMPT 00000000   5508 
_SH4_STEP_FRQ                             IMPT 00000000   5514 
_SH4_STEP_PV_PLS                          IMPT 00000000   5512 
_SH4_STEP_REST_P                          IMPT 00000000   5513 
_SH4_STEP_SV_PLS                          IMPT 00000000   5511 
_SH4_STEP_TIM                             IMPT 00000000   5515 
_SH4_TOP_FRQ_SV                           IMPT 00000000   5473 
_SH4_TOTAL_PLS                            IMPT 00000000   5509 
_SHOT_MOST_DOWN_POS                       IMPT 00000000   4004 
_SHOT_MOST_DOWN_POSWK                     IMPT 00000000   4005 
_SH_POSCTL_RL_ABSPLS                      IMPT 00000000   9619 
_SINKAKU_INF                              IMPT 00000000   3273 
_SINKAKU_ROTCAM_ENBSEL                    IMPT 00000000   3275 
_SINKAKU_ROTCAM_ENBSEL_WK                 IMPT 00000000   3274 
_SINKAKU_USESEL_OF_INF                    IMPT 00000000   3277 
_SINKAKU_USESEL_ON_INF                    IMPT 00000000   3276 
_SINWK_CALC_SCAN                          IMPT 00000000   3285 
_SIN_RCAMOF_SW1                           IMPT 00000000   3301 
_SIN_RCAMON_SW1                           IMPT 00000000   3300 
_SIN_RCAM_OF_DIG                          IMPT 00000000   3280 
_SIN_RCAM_OF_ERR1                         IMPT 00000000   3304 
_SIN_RCAM_ON_DIG                          IMPT 00000000   3279 
_SIN_RCAM_ON_ERR1                         IMPT 00000000   3303 
_SLIDALM_CHK_FLG                          IMPT 00000000   4362 
_SLIDALM_CHK_POS                          IMPT 00000000   4364 
_SLIDALM_CHK_TIM                          IMPT 00000000   4363 
_SLIDALM_POS_MINAS                        IMPT 00000000   4366 
_SLIDALM_POS_PULAS                        IMPT 00000000   4365 
_SPD_PER_MAX                              EQU  00002710   1997*16468 16485 
_SPLCHK_FLG                               IMPT 00000000   4995 
_SPLCHK_TIM                               IMPT 00000000   4996 
_SPL_ERR_INIT_WAIT_TIM                    IMPT 00000000   5068 
_SQ_CBWK_TOP                              IMPT 00000000   6048  7525  8161  8540  9399  9415 11162 11170 11184 12977 13948 14714 
                                                         14735 15056 15119 15419 15854 15915 15935 16322 16375 16749 16899 17189 
                                                         17401 17570 17576 17618 17625 17661 17700 17729 17762 17963 19229 19333 
                                                         19410 19534 19581 19608 20035 20129 20168 20218 
_SQ_OVERH_CMP                             IMPT 00000000   4675 
_SQ_RNA_ALMRST_OLD                        IMPT 00000000   4024 15186 
_START_ACK_COD                            EQU  00004321    211*
_START_CNT_INFO_OUT              P             00001E00   8341 12936 13037*
_START_FLG_AFTER_EMG                      IMPT 00000000   3354 
_START_REQ_COD                            EQU  00009876    210*
_START_SFTY_LOCK_CLR             P             0000265C   8639 11137 14922*16423 
_STEP_CMPERR_TIMX1                        IMPT 00000000   5329 
_STEP_SIG_DISP                   P        EXPT 000021E4   6110  8738 13886*
_STEP_SIG_DSP_CLR                P        EXPT 000021DC   6109  9074 11079 13877*
_STOPCHK_INC_POS                          IMPT 00000000   3238 
_STOPCHK_RNA_POS                          IMPT 00000000   3237 
_STOPPING_STOP_POS                        IMPT 00000000   2635 14027 14135 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   300

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_STOPPING_STOP_TIM                        IMPT 00000000   2637 14017 14170 14225 
_STOPPING_TIM_CHK                P        EXPT 000022EC   6114 14092*
_STOPPING_TIM_FLG                         IMPT 00000000   2636 13975 14007 14031 14097 14245 15837 
_STOPPING_TIM_MOV_INI            P        EXPT 0000224C   6112  8574 13971*16354 
_STOPPING_TIM_PV1                         IMPT 00000000   2638 14036 14122 14191 14238 
_STOPPING_TIM_PV2                         IMPT 00000000   2639 14038 14242 
_STOPPING_TIM_STOP_INI           P        EXPT 00002268   6113 11196 14003*
_STOPPING_VLVOFF_POS                      IMPT 00000000   2634 14023 14131 
_STOP_360ENC_DIG                          IMPT 00000000   4057 
_STOP_ERR_CHK                             IMPT 00000000   6014 14260 
_STOP_ERR_LATCH                           IMPT 00000000   3475 14042 14251 
_STOP_LATCH                               IMPT 00000000   2617  7454 10188 10650 11030 
_STOP_LATCH_B                             IMPT 00000000   2618  7446  9938  9945 10102 10132 10405 10648 10702 11028 17248 
_STOP_LATCH_CHK_TIM                       IMPT 00000000   2868 
_STOP_LATCH_ENCPOS                        IMPT 00000000   2866 
_STOP_LATCH_OUTPLS                        IMPT 00000000   2865 
_STOP_LATCH_RNAPOS                        IMPT 00000000   2867 
_STOP_LTH_OUT                    P        EXPT 00001204   9979 10163 10179 10184*10728 
_STP_RST_FLG_PROC                P        EXPT 00001774   6101 11302*
_STR_ENC3600_DIG                          IMPT 00000000   2785 
_STR_ENC3600_DIG_LNG                      IMPT 00000000   2786 
_SVCHK_SCAN                               IMPT 00000000   4694 
_SVPX_UPAREA_DIG1                         IMPT 00000000   3223 
_SVP_INTLIM_AGL                           IMPT 00000000   6142 
_SVP_INTLIM_POS                           IMPT 00000000   6143 
_SVP_INTLIM_SNO                           IMPT 00000000   6141 
_SVP_WTTIM_MAX                            IMPT 00000000   6144 17556 
_SVX_DNM_MAXSPM                           IMPT 00000000   4243 
_SVX_OVER_ERR_DIG                         IMPT 00000000   3529 
_SVX_OVER_JGSTR_DIG                       IMPT 00000000   3530 
_SV_CHG_FLG1                              IMPT 00000000   3316 
_SV_CHG_FLG2                              IMPT 00000000   3317 
_SV_CONST_SUB_PV                          IMPT 00000000   3944 
_SV_DAT_ERR1                              IMPT 00000000   3318 
_SV_OBJ360                                IMPT 00000000   3501 
_SV_POS_CTL_STEP                          IMPT 00000000   2818 19436 20059 
_SV_REAL_PLS                              IMPT 00000000   3945 
_SV_REAL_SUB_PV                           IMPT 00000000   3946 
_SV_UP_HOLD_CHK                  P             000017C8   8547 11401*16328 
_SW_DEV_MASK_FLG                          IMPT 00000000   2626 12388 15250 
_SYS_BSAME_TIM                            EQU  000001F4   2008* 8268  9333 16176 
_SYS_SETUP_TIM                            EQU  000007D0   2009* 9439 
_SYS_STOPPING_TIM                         EQU  00000032   2010*
_TABLE_ERR_FLG                            IMPT 00000000   2483 
_TBL_ANS_ACCTIM                           IMPT 00000000   4239 
_TBL_ANS_ACC_SEL                          IMPT 00000000   4241 
_TBL_ANS_MAXSPM                           IMPT 00000000   4240 
_TBL_USE_POS0                             IMPT 00000000   4238 
_TECH2_KJYU_DIG                           IMPT 00000000   4506 
_TECH2_KJYU_LNG                           IMPT 00000000   4504 
_TECH2_KJYU_LT1KN                         IMPT 00000000   4497 
_TECH2_KJYU_LT1PLS                        IMPT 00000000   4498 
_TECH2_KJYU_LT1PLS_OFS                    IMPT 00000000   4499 
_TECH2_KJYU_LT2KN                         IMPT 00000000   4500 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   301

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_TECH2_KJYU_LT2PLS                        IMPT 00000000   4501 
_TECH2_KJYU_LT2PLS_OFS                    IMPT 00000000   4502 
_TECH2_KJYU_PLS                           IMPT 00000000   4505 
_TECH2_KJYU_PLSX                          IMPT 00000000   4503 
_TECH2_KN_FLG                             IMPT 00000000   4507 
_TECH_USED_F                              IMPT 00000000   4544 
_TECH_WK_DIG1                             IMPT 00000000   4537 
_TECH_WK_DIG2                             IMPT 00000000   4538 
_TECH_WK_DIG3                             IMPT 00000000   4539 
_TECH_WK_DIG4                             IMPT 00000000   4540 
_TECH_WK_PLS1                             IMPT 00000000   4536 
_TEPA_PLSCNT_CHK                          IMPT 00000000   6031  7351 
_TEPA_PLSCNT_CLR                          IMPT 00000000   6030  6573  7602  9329 
_TEPA_PLS_ZERO_TIM                        IMPT 00000000   4400 
_TEPA_START_CHK                           IMPT 00000000   6029  9485 
_TEP_ADDCHK_SVPLS                         IMPT 00000000   3802 
_TEP_CHG_SPD1                             IMPT 00000000   3806 
_TEP_CHG_SPD2                             IMPT 00000000   3807 
_TEP_CNTSMP_TIM                           IMPT 00000000   4750 
_TEP_DND_SPD_PLS                          IMPT 00000000   4749 
_TEP_FLG_CLR                              IMPT 00000000   6028  6577  8015 
_TEP_INPLS_FLG                            IMPT 00000000   3797 
_TEP_IN_ADD                               IMPT 00000000   3791 
_TEP_MIN_SPD_FRQ                          IMPT 00000000   3804 
_TEP_MIN_SPD_PLS                          IMPT 00000000   3803 
_TEP_MODE_DRV                             IMPT 00000000   3793 10778 14771 
_TEP_POS_ADD_CNT                          IMPT 00000000   3789 
_TEP_REVPLS_LT_FLG                        IMPT 00000000   4751 
_TEP_STEP_FLG                             IMPT 00000000   3794 
_TEP_STEP_SVSMPTM                         IMPT 00000000   3801 
_TEP_STEP_SVWTTM1                         IMPT 00000000   3800 
_TEP_STEP_WTTM                            IMPT 00000000   3795 
_TIM_1MSEC                                EQU  0000000A   1994* 2008  2009  2010  2015 
_TIM_CNT010MS_DT                          EQU  0000000A   2324*
_TIM_CNT100MS_DT                          EQU  00000064   2325*
_TIM_SEC                                  EQU  00002710   1993*
_TMP_SCI_DEBUG                            IMPT 00000000   5271 
_TRD_CLR_CMD                              IMPT 00000000   5356  6562 
_TRD_DP_MOV_CNT                           IMPT 00000000   5362 
_TRD_DP_MOV_FLG                           IMPT 00000000   5361 
_TRD_EVENT_COD                            IMPT 00000000   5351 
_TRD_EVENT_LATCH                          IMPT 00000000   5353 
_TRD_LATE_PV                              IMPT 00000000   5358 
_TRD_LATE_SV                              IMPT 00000000   5357 
_TRD_POINT_END                            IMPT 00000000   5355 
_TRD_POINT_EVENT                          IMPT 00000000   5354 
_TRD_SMP_DAT1                             IMPT 00000000   5342 
_TRD_SMP_DAT2                             IMPT 00000000   5343 
_TRD_SMP_DAT3                             IMPT 00000000   5344 
_TRD_SMP_DAT4                             IMPT 00000000   5345 
_TRD_SMP_DAT5                             IMPT 00000000   5346 
_TRD_SMP_DAT6                             IMPT 00000000   5347 
_TRD_SMP_DAT7                             IMPT 00000000   5348 
_TRD_SMP_DAT8                             IMPT 00000000   5349 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   302

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_TRD_SMP_FLG                              IMPT 00000000   5359 
_TRD_SMP_POINT                            IMPT 00000000   5350 
_UP360_CHK_LIST                           IMPT 00000000   4039 
_UP360_JGDIG                              EQU  00000028   2036*
_UPDN_DIRJG_DIG                           EQU  00000708   2002*18296 
_UPHOLD_SPDERR_OK_FLG                     IMPT 00000000   5221 
_UPLIMIT_START_F                          IMPT 00000000   4705 
_UPLIMIT_SV_SPD                           IMPT 00000000   4704 
_UPMAK2_MOD_USE_SW                        IMPT 00000000   4665 12309 12568 15315 
_UPMSK2_DRVSEL                            IMPT 00000000   4667 12150 
_UPMSK2_MATH                              IMPT 00000000   4666 12297 
_UPMSK2_MOD                               IMPT 00000000   4663  8029 12303 12534 12562 15292 
_UPMSK2_MOD_IN_SW                         IMPT 00000000   4664 15260 15286 15313 15347 15412 
_UPMSK2_MOD_IN_SWOLD                      IMPT 00000000   4668 15349 
_UP_AREA_DATCHK                           IMPT 00000000   5997 
_UP_HOLD_AREA_MASK               P             00001AC0   8891 12105*
_UP_HOLD_DIG                              IMPT 00000000   2623 10564 11917 12843 
_UP_HOLD_FLG                              IMPT 00000000   2624  8901 10241 11772 11791 11830 11969 12109 12167 12195 12213 
_UP_HOLD_FLG_CLR1                P             00001B08   8551  9079 11064 11872 12191*16332 
_UP_HOLD_FLG_CLR2                P             00001B1C   8555 11068 12209*16336 
_UP_HOLD_MASK_SPDCHK             P             00001A64  11821 12014*
_UP_HOLD_MISS                    P             000019C8  10269 11867*
_UP_HOLD_SIG_MAK                 P             000019E4  11797 11899*
_UP_HOLD_STEP                             IMPT 00000000   2620 10557 11484 11507 11905 12830 
_UP_HOLD_STEP1                            IMPT 00000000   2621 11438 11486 11509 
_UP_HOLD_STEP2                            IMPT 00000000   2622 11440 11488 11511 
_UP_LOT_SIG_MAK                  P             00001D38  12677 12824*
_VALV_OFF_DIG_CLANK                       IMPT 00000000   3477 14055 
_VALV_ON_FLG                              IMPT 00000000   4051 
_VFRY_IN_CHK                     P             00003AF4  18712 19279*
_VIB_DLY_TIM                              IMPT 00000000   4193 
_VIB_GET_SET_TIM                          IMPT 00000000   4190 
_VIB_PV_UP_TIM                            IMPT 00000000   4192 
_VIB_STEP_COM                             IMPT 00000000   4189 
_VIB_STEP_FLG                             IMPT 00000000   4188 
_VIB_USE_SET_TIM                          IMPT 00000000   4191 
_VON1_OF                                  IMPT 00000000   5828 
_VON1_ON                                  IMPT 00000000   5827 
_VON2_OF                                  IMPT 00000000   5830 
_VON2_ON                                  IMPT 00000000   5829 
_VON3_OF                                  IMPT 00000000   5832 
_VON3_ON                                  IMPT 00000000   5831 
_VUPCHECK_EQU                             EQU  11AB3739     98*
_W1CNT                                    EQU  00000008   2349* 7104  7148  8251  8826  9340 11407 13045 13132 13200 15360 15392 
                                                         17131 19383 19754 20016 
_W1DIC                                    EQU  00000020   2351* 6733  9046  9164  9474 12624 
_W1DUP                                    EQU  00000040   2352* 6659  6727  8963  9046  9164 12624 14392 14514 14561 
_W1END                                    EQU  00000080   2353*
_W1INC                                    EQU  00000002   2347* 7166  8863  9046  9164 11407 18357 19383 19754 20016 
_W1LNC                                    EQU  00000400   2357*
_W1LNO                                    EQU  00000800   2358*
_W1OFF                                    EQU  00000001   2346* 6695  7024  7027  7044  7115  7585 
_W1OPT                                    EQU  00000010   2350* 6672  7031  8943 11407 12500 15360 15398 16022 16942 17131 19383 
                                                         19754 20016 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   303

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_W1REV                                    EQU  00004000   2365*
_W1RNC                                    EQU  00000100   2354*
_W1RNO                                    EQU  00000200   2355*
_W1RST                                    EQU  00008000   2366* 6341  6489 15930 19948 
_W1SGL                                    EQU  00000004   2348* 6663  7127  7137  8880 11407 16016 17131 19383 19754 20016 
_W1SNC                                    EQU  00001000   2363*
_W1SNO                                    EQU  00002000   2364*
_W2LS1                                    EQU  00000004   2368*
_W2LS2                                    EQU  00000008   2369*
_W2SUP                                    EQU  00000080   2373* 8258  9424  9524 
_W2WT1                                    EQU  00000010   2370*
_W2WT2                                    EQU  00000020   2371*15258 
_W2WT3                                    EQU  00000040   2372*
_W4_PVP_KAJLIV_TTL                        IMPT 00000000   5072 
_W4_PV_CTL_KJYU_TTL_P                     IMPT 00000000   4811 
_W4_PV_FLT_KJYU_TTL                       IMPT 00000000   4809 
_W4_PV_FLT_KJYU_TTL_P                     IMPT 00000000   4810 
_WFSYS_MAX_STEP_SEL                       IMPT 00000000   3509 13900 
_WFSYS_OPT_CNT_SEL                        IMPT 00000000   3508  7078 
_WKSQCB200                                EQU  00000000   2102*
_WKSQCB201                                EQU  00000002   2103*
_WKSQCB202                                EQU  00000004   2104*
_WKSQCB203                                EQU  00000006   2105*
_WKSQCB204                                EQU  00000008   2106*
_WKSQCB205                                EQU  0000000A   2107*
_WKSQCB206                                EQU  0000000C   2108* 8161  8540  9399  9415 11162 11170 11184 12977 14714 14735 16322 
_WKSQCB207                                EQU  0000000E   2109*15056 15119 16375 
_WKSQCB208                                EQU  00000010   2110*
_WKSQCB209                                EQU  00000012   2111*
_WKSQCB210                                EQU  00000014   2112*13948 
_WKSQCB211                                EQU  00000016   2113*
_WKSQCB212                                EQU  00000018   2114*
_WKSQCB213                                EQU  0000001A   2115*
_WKSQCB214                                EQU  0000001C   2116*
_WKSQCB215                                EQU  0000001E   2117*
_WKSQCB216                                EQU  00000020   2118*15419 16899 
_WKSQCB217                                EQU  00000022   2119*
_WKSQCB218                                EQU  00000024   2120*
_WKSQCB219                                EQU  00000026   2121*
_WKSQCB220                                EQU  00000028   2122*
_WKSQCB221                                EQU  0000002A   2123*
_WKSQCB222                                EQU  0000002C   2124*
_WKSQCB223                                EQU  0000002E   2125*
_WKSQCB224                                EQU  00000030   2126*17661 
_WKSQCB225                                EQU  00000032   2127*
_WKSQCB226                                EQU  00000034   2128*
_WKSQCB227                                EQU  00000036   2129*16749 
_WKSQCB228                                EQU  00000038   2130*
_WKSQCB229                                EQU  0000003A   2131*15854 15915 15935 
_WKSQCB230                                EQU  0000003C   2132*
_WKSQCB231                                EQU  0000003E   2133*
_WKSQCB232                                EQU  00000040   2134*
_WKSQCB233                                EQU  00000042   2135*
_WKSQCB234                                EQU  00000044   2136*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   304

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WKSQCB235                                EQU  00000046   2137*
_WKSQCB236                                EQU  00000048   2138*
_WKSQCB237                                EQU  0000004A   2139*
_WKSQCB238                                EQU  0000004C   2140*
_WKSQCB239                                EQU  0000004E   2141*19229 19333 
_WKSQCB240                                EQU  00000050   2142*
_WKSQCB241                                EQU  00000052   2143*
_WKSQCB242                                EQU  00000054   2144*
_WKSQCB243                                EQU  00000056   2145*
_WKSQCB244                                EQU  00000058   2146*
_WKSQCB245                                EQU  0000005A   2147*
_WKSQCB246                                EQU  0000005C   2148*
_WKSQCB247                                EQU  0000005E   2149*
_WKSQCB248                                EQU  00000060   2150*
_WKSQCB249                                EQU  00000062   2151*
_WKSQCB250                                EQU  00000064   2152*
_WKSQCB251                                EQU  00000066   2153*17189 17401 17570 17576 17618 17625 17700 17729 17762 17963 
_WKSQCB252                                EQU  00000068   2154*
_WKSQCB253                                EQU  0000006A   2155*
_WKSQCB254                                EQU  0000006C   2156*
_WKSQCB255                                EQU  0000006E   2157*
_WKSQCB256                                EQU  00000070   2158*
_WKSQCB257                                EQU  00000072   2159* 7525 
_WKSQCB258                                EQU  00000074   2160*
_WKSQCB259                                EQU  00000076   2161*19410 19534 19581 19608 20035 20129 20168 20218 
_WKSQCB260                                EQU  00000078   2162*
_WKSQCB261                                EQU  0000007A   2163*
_WKSQCB262                                EQU  0000007C   2164*
_WKSQCB263                                EQU  0000007E   2165*
_WKSQCB264                                EQU  00000080   2166*
_WKSQCB265                                EQU  00000082   2167*
_WKSQCB266                                EQU  00000084   2168*
_WKSQCB267                                EQU  00000086   2169*
_WKSQCB268                                EQU  00000088   2170*
_WKSQCB269                                EQU  0000008A   2171*
_WK_ERR_INFO_CPU_TOP                      IMPT 00000000   3520 
_WK_SIN_RCAMOF_SW1                        IMPT 00000000   3298 
_WK_SIN_RCAMON_SW1                        IMPT 00000000   3297 
_WK_SIN_RCAM_OF_DIG                       IMPT 00000000   3283 
_WK_SIN_RCAM_OF_KOUTEI                    IMPT 00000000   3290 
_WK_SIN_RCAM_OF_SPD                       IMPT 00000000   3291 
_WK_SIN_RCAM_ON_DIG                       IMPT 00000000   3282 
_WK_SIN_RCAM_ON_KOUTEI                    IMPT 00000000   3288 
_WK_SIN_RCAM_ON_SPD                       IMPT 00000000   3289 
_WK_SIN_RCAM_SQOF1                        IMPT 00000000   3295 
_WK_SIN_RCAM_SQON1                        IMPT 00000000   3294 
_WOANT                                    EQU  00000010   2335* 7575 
_WOATO                                    EQU  00000040   2337* 9747 16798 
_WOFCY                                    EQU  00000080   2338*
_WOQST                                    EQU  00000001   2331*
_WORCY                                    EQU  00000100   2339*
_WORDY                                    EQU  00000020   2336* 8128 16151 
_WORST                                    EQU  00000200   2340*
_WOVN1                                    EQU  00000002   2332*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   305

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WOVN2                                    EQU  00000004   2333*
_WOVN3                                    EQU  00000008   2334*
_WPARX_BRKTST_DNDLMT                      IMPT 00000000   4586 
_WPARX_BRKTST_ORGDEGX                     IMPT 00000000   4394 
_WPARX_BRKTST_ORGPLS                      IMPT 00000000   4395 
_WPARX_BRKTST_STPDEGX                     IMPT 00000000   4144 
_WPARX_BRKTST_STPLNG                      IMPT 00000000   4146 
_WPARX_BRKTST_STPPLS                      IMPT 00000000   4145 
_WPARX_COP_DNDRV1_SDG1                    IMPT 00000000   4111 
_WPARX_COP_DNDRV1_SDG2                    IMPT 00000000   4112 
_WPARX_COP_DNDRV1_ZDG1                    IMPT 00000000   4109 
_WPARX_COP_DNDRV1_ZDG2                    IMPT 00000000   4110 
_WPARX_COP_DNDRV2_SDG1                    IMPT 00000000   4115 
_WPARX_COP_DNDRV2_SDG2                    IMPT 00000000   4116 
_WPARX_COP_DNDRV2_ZDG1                    IMPT 00000000   4113 
_WPARX_COP_DNDRV2_ZDG2                    IMPT 00000000   4114 
_WPARX_ELSE_ORGDEGX                       IMPT 00000000   4687 
_WPARX_ELSE_ORGPLS                        IMPT 00000000   4686 
_WPAR_360STP_HAB                          IMPT 00000000   4036 
_WPAR_ACCTYP_SEL                          IMPT 00000000   3962 
_WPAR_ACC_MATHED                          IMPT 00000000   4206 
_WPAR_ANAIN_SEL                           IMPT 00000000   3960 
_WPAR_BKTMCL_ACCCK                        IMPT 00000000   4633 
_WPAR_BRK1_ACCTM                          IMPT 00000000   3391 
_WPAR_BRK1_DLYTM                          IMPT 00000000   3390 
_WPAR_BRK2_ACCTM                          IMPT 00000000   3392 
_WPAR_BRKTCHK_SPD                         IMPT 00000000   4134 16483 
_WPAR_BRKTOUT_SPD                         IMPT 00000000   4133 16470 
_WPAR_BRKTST_ORGDEG                       IMPT 00000000   4393 
_WPAR_BRK_SEL_SPD                         IMPT 00000000   3389 
_WPAR_CMP_ERR_TIM1                        IMPT 00000000   4287 
_WPAR_CMP_ERR_TIM2                        IMPT 00000000   4288 
_WPAR_COP_CNTROT_SDG1                     IMPT 00000000   3333 
_WPAR_COP_CNTROT_SDG2                     IMPT 00000000   3334 
_WPAR_COP_CNTROT_ZDG1                     IMPT 00000000   3331 
_WPAR_COP_CNTROT_ZDG2                     IMPT 00000000   3332 
_WPAR_COP_DISP_SPM1                       IMPT 00000000   4298 
_WPAR_COP_REVRSE_SDG1                     IMPT 00000000   3338 
_WPAR_COP_REVRSE_SDG2                     IMPT 00000000   3339 
_WPAR_COP_REVRSE_ZDG1                     IMPT 00000000   3336 
_WPAR_COP_REVRSE_ZDG2                     IMPT 00000000   3337 
_WPAR_COP_SDG1                            IMPT 00000000   3343 
_WPAR_COP_SDG2                            IMPT 00000000   3344 
_WPAR_COP_ZDG1                            IMPT 00000000   3341 
_WPAR_COP_ZDG2                            IMPT 00000000   3342 
_WPAR_CUPCHK_SEL                          IMPT 00000000   4035 
_WPAR_DAIHAI_SEL                          IMPT 00000000   4352 
_WPAR_DRVHOS_AVLCNT                       IMPT 00000000   2951 
_WPAR_DRVHOS_DIG1                         IMPT 00000000   2948 
_WPAR_DRVHOS_DIG2                         IMPT 00000000   2949 
_WPAR_DRVHOS_NO_USE                       IMPT 00000000   2952 
_WPAR_DRVHOS_SEL1                         IMPT 00000000   2947 
_WPAR_DRVHOS_WAITCNT                      IMPT 00000000   2950 
_WPAR_ILNGERR_DIG                         IMPT 00000000   3395 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   306

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPAR_ILNGERR_LNG                         IMPT 00000000   3394 
_WPAR_INCOVER_LNG                         IMPT 00000000   3360 
_WPAR_INCOVER_LNG1                        IMPT 00000000   3361 
_WPAR_INCOVER_LNG2                        IMPT 00000000   3362 
_WPAR_INCREV_EDYTM                        IMPT 00000000   3363 
_WPAR_INCSTP_EDYTM                        IMPT 00000000   3367 12987 
_WPAR_INCSTP_EDYTM1                       IMPT 00000000   3365 12985 
_WPAR_INCSTP_EDYTM2                       IMPT 00000000   3366 
_WPAR_KJYU_STOPTBL                        IMPT 00000000   4181 
_WPAR_LSA_FILTIM                          IMPT 00000000   3729 
_WPAR_MCNRNA_SEL                          IMPT 00000000   4034 
_WPAR_ORGDRV_MD2                          IMPT 00000000   4317 
_WPAR_ORGMOD2_TIM                         IMPT 00000000   3814 14450 
_WPAR_ORGPOS_LNG1                         IMPT 00000000   4377 
_WPAR_OVRLIDE_GMN                         IMPT 00000000   3863 
_WPAR_RNA_SFTY_LNG1                       IMPT 00000000   3369 
_WPAR_SFYOPT_USEL                         IMPT 00000000   4135 12513 
_WPAR_SLDALM_LNG                          IMPT 00000000   4359 
_WPAR_SLDALM_TIM                          IMPT 00000000   4360 
_WPAR_STOPING_TIM                         IMPT 00000000   4204 14014 14195 14222 
_WPAR_ZERO_SPD                            IMPT 00000000   3388 
_WPVX_KAJLIV_TTL                          IMPT 00000000   4184 
_WPV_ABS_AD_DATA                          IMPT 00000000   3968 
_WPV_AD_DATA                              IMPT 00000000   3967 
_WPV_CB_STS_DAT_TOP                       IMPT 00000000   5339 
_WPV_CB_STS_POINT                         IMPT 00000000   5364 
_WPV_CB_TRD_DAT_TOP                       IMPT 00000000   5340 
_WPV_CB_TRD_POINT                         IMPT 00000000   5365 
_WPV_POWER_MONI                           IMPT 00000000   3969 
_WPV_POWER_ON_CNT                         IMPT 00000000   5366 
_WPV_SCAN_MAX01                           IMPT 00000000   4769 
_WPV_SCAN_MAX10                           IMPT 00000000   4768 
_WPV_SCAN_TIM_AVL                         IMPT 00000000   4765 
_WPV_SCAN_TIM_REAL                        IMPT 00000000   4764 
_WR_CB_SYS_CHKCOD1                        EQU  00001234   2213*
_WR_CB_SYS_CHKCOD2                        EQU  00004321   2214*
_WR_CB_SYS_CHKCOD3                        EQU  00005678   2215*
_WR_CB_SYS_CHKCOD4                        EQU  00008765   2216*
_WSVXY_CLNK_UP_POS                        IMPT 00000000   4101 
_WSVXY_CLNK_UP_POS_DN                     IMPT 00000000   4103 
_WSVXY_CLNK_UP_POS_UP                     IMPT 00000000   4102 
_WSVX_CLNK_UP_POS                         IMPT 00000000   2695 
_WSVX_CLNK_UP_POS_DN                      IMPT 00000000   2697 
_WSVX_CLNK_UP_POS_UP                      IMPT 00000000   2696 
_WXPV_ERR_DISP                            IMPT 00000000   3639 
_W_PARAM_TOP                              IMPT 00000000   4552  8073 11651 11814 12066 15245 15342 16102 16722 17040 18201 18350 
                                                         18490 18638 18652 18660 18771 18777 18936 18951 18959 19040 19138 
_X_PROTCOL_TMP_ANS                        IMPT 00000000   5268 
_X_PROTCOL_TMP_EVENTCNT                   IMPT 00000000   5263 
_X_PROTCOL_TMP_FLG                        IMPT 00000000   5256 
_X_PROTCOL_TMP_LNG_PVTM                   IMPT 00000000   5261 
_X_PROTCOL_TMP_LNG_SVTM                   IMPT 00000000   5260 
_X_PROTCOL_TMP_PV1                        IMPT 00000000   5269 
_X_PROTCOL_TMP_PV2                        IMPT 00000000   5257 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   307

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_X_PROTCOL_TMP_PVLNG                      IMPT 00000000   5259 
_X_PROTCOL_TMP_REQ                        IMPT 00000000   5267 
_X_PROTCOL_TMP_SVLNG                      IMPT 00000000   5258 
_X_PROTCOL_TMP_TIME_PV                    IMPT 00000000   5264 
_X_R2_MUL_R1_DIV_R4                       IMPT 00000000   5990 
_ZERO_INCENC                              EQU  00000000   2045*
_ZERO_INCHEN                              EQU  00000000   2044*
_ZERO_INCREV                              EQU  00000000   2049*
_ZERO_INCRNA                              EQU  00000001   2046*
_ZERO_INCSTP                              EQU  00000000   2047*
_ZERO_RNAREV                              EQU  00000001   2050*
_ZERO_RNASTP                              EQU  00000001   2048*
_cbsys_tbl_err                            IMPT 00000000   4226 
_di1_cb_ctl1                              IMPT 00000000   2488 
_di1_cb_ctl1_dt                           IMPT 00000000   2496  6338  6487  6668  7017 12498 15396 15928 16020 16940 19946 
_di1_cb_ctl1_of                           IMPT 00000000   2498 
_di1_cb_ctl1_on                           IMPT 00000000   2497 
_di2_cb_ctl2                              IMPT 00000000   2489 
_di2_cb_ctl2_dt                           IMPT 00000000   2500  8256  9522 15256 
_di2_cb_ctl2_of                           IMPT 00000000   2502 
_di2_cb_ctl2_on                           IMPT 00000000   2501  9422 
_di3_cb_inp1                              IMPT 00000000   2490  6713 
_di3_cb_inp1_dt                           IMPT 00000000   2494 
_di4_cb_inp2                              IMPT 00000000   2491 
_dq1_cb_out1                              IMPT 00000000   2492  7573  8126  9745 16149 16796 
_emg_err_flg                              IMPT 00000000   2572  6261  6424  6804  7303 11378 15980 19259 
_emg_lev_flg                              IMPT 00000000   2571  6196  6213 
_exq_err_flg                              IMPT 00000000   2575  6263  7309 11380 15982 19261 
_exq_lev_flg                              IMPT 00000000   2573  6233 
_pass_err_flg1                            IMPT 00000000   2569  6603 
_pass_err_flg2                            IMPT 00000000   2570 
_reset_dly_tim                            IMPT 00000000   2593  6501  6528 
_reset_flg                                IMPT 00000000   2592  6195  6271  6396  6496  6543  7288 11307 19957 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    12/12/17 19:19:45                                                  PAGE   308

*** SECTION DATA LIST

SECTION                          ATTRIBUTE    SIZE             START

P                                REL-CODE    000003F6A        
